{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/library/modules/es6.parse-float.js","webpack:///./src/api/sysManage/recordingManage.ts","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/library/modules/_parse-float.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./src/views/recording.vue?ad82","webpack:///./src/api/demo/recording.ts","webpack:///src/views/recording.vue","webpack:///./src/views/recording.vue?e5af","webpack:///./src/views/recording.vue","webpack:///./src/utils/recordRtc.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/library/modules/es6.date.now.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-float.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/library/fn/parse-float.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/library/fn/date/now.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./src/views/sysManage/RecordingManage/index.vue?9ddb","webpack:///./src/views/sysManage/RecordingManage/edit.vue?354d","webpack:///./src/domains/recording/engine.ts","webpack:///./src/domains/recording/engineParam.ts","webpack:///./src/views/sysManage/RecordingManage/edit.vue?4f2b","webpack:///./src/views/sysManage/RecordingManage/edit.vue?97c9","webpack:///./src/views/sysManage/RecordingManage/edit.vue","webpack:///./src/views/sysManage/RecordingManage/info.vue?65c2","webpack:///./src/views/sysManage/RecordingManage/infoEdit.vue?1c4f","webpack:///./src/views/sysManage/RecordingManage/infoEdit.vue?e668","webpack:///./src/views/sysManage/RecordingManage/infoEdit.vue?200c","webpack:///./src/views/sysManage/RecordingManage/infoEdit.vue","webpack:///./src/views/sysManage/RecordingManage/info.vue?8f23","webpack:///./src/views/sysManage/RecordingManage/info.vue?e323","webpack:///./src/views/sysManage/RecordingManage/info.vue","webpack:///./src/views/sysManage/RecordingManage/index.vue?177a","webpack:///./src/views/sysManage/RecordingManage/index.vue?f12d","webpack:///./src/views/sysManage/RecordingManage/index.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["toInteger","__webpack_require__","toLength","module","exports","it","undefined","number","length","RangeError","ctx","IObject","toObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","index","result","push","$export","$parseFloat","G","F","parseFloat","d","__webpack_exports__","fetchList","saveData","fetchEditInfo","updateData","deleteData","fetchInfoList","saveInfoData","deleteInfoData","fetchEditParamsInfo","updateInfoData","_utils_request__WEBPACK_IMPORTED_MODULE_0__","query","Object","url","method","params","data","id","key","Typed","global","hide","uid","TYPED","VIEW","ABV","ArrayBuffer","DataView","CONSTR","i","l","TypedArrayConstructors","split","prototype","$trim","trim","Infinity","str","string","String","charAt","cof","Array","isArray","arg","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","on","click","changeConfig","_v","disabled","recording","startRecording","stopRecording","_s","text","visible","isShowDialog","title","update:visible","$event","ref","model","form","label-width","formLabelWidth","label","_l","item","engineId","change","radioChange","value","callback","$$v","expression","engineDesc","paramKey","placeholder","paramDesc","$set","slot","handleConfig","staticRenderFns","fetAudio","request","fetchOptionList","updateInfo","recordingvue_type_script_lang_js_","audioTrack","optionList","paramsList","listQuery","page","limit","_search","sidx","order","created","getOptionList","methods","_this","captureMicrophone","microphone","recordRtc","recorderType","StereoAudioRecorder","desiredSampRate","$alert","_this2","blob","getBlob","reader","FileReader","readAsDataURL","onloadend","audioBase64","then","responese","msg","navigator","mediaDevices","getUserMedia","audio","catch","error","alert","console","_this3","_this4","recordingManage","list","_this5","config","map","paramValue","views_recordingvue_type_script_lang_js_","component","componentNormalizer","process","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","n","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_date_now__WEBPACK_IMPORTED_MODULE_1__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_date_now__WEBPACK_IMPORTED_MODULE_1___default","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5___default","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8___default","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_9__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_14__","D_workspace_toceanos_frontend_ts_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_14___default","globalContext","RecordRTC","mediaStream","RecordRTCConfiguration","config2","log","disableLogs","mediaRecorder","clearRecordedData","record","setState","recordingDuration","handleRecordingDuration","initRecorder","initCallback","Recorder","GetRecorderType","constructor","name","state","resumeRecording","setTimeout","warn","stop","_callback","warningLog","__blob","forEach","bytesToSize","size","URL","createObjectURL","e","call","close","autoWriteToDisk","getDataURL","dataURL","parameter","DiskStorage","Store","pauseRecording","pause","resume","readFile","_blob","postMessage","FileReaderSync","_mediaRecorder","Worker","mozGetUserMedia","onload","event","target","webWorker","processInWebWorker","onmessage","_function","Blob","toString","worker","revokeObjectURL","counter","onRecordingStopped","onStateChanged","WARNING","returnObject","setRecordingDuration","toURL","getInternalRecorder","save","fileName","invokeSaveAsDialog","getFromDisk","setAdvertisementArray","arrayOfWebPImages","advertisement","duration","image","bufferSize","sampleRate","buffer","reset","getState","destroy","disableLogsCache","Storage","AudioContextConstructor","version","prop","video","WhammyRecorder","CanvasRecorder","WebAssemblyRecorder","GifRecorder","MediaStreamRecorder","getTracks","MediaRecorder","mimeType","bitsPerSecond","recorder","isChrome","isEdge","isOpera","ReadableStream","isMediaRecorderCompatible","isTypeSupported","MultiStreamRecorder","isSafari","MRecordRTC","addStream","_mediaStream","mediaType","gif","audioRecorder","numberOfAudioChannels","timeSlice","onTimeStamp","newStream","videoTrack","MediaStream","addTrack","videoRecorder","canvas","frameInterval","workerPath","webAssemblyPath","gifRecorder","frameRate","quality","blobURL","output","callback00","webkitURL","_audioDataURL","_videoDataURL","writeToDisk","args","define","Fetch","_type","replace","options","audioDataURL","videoDataURL","gifDataURL","audioBlob","videoBlob","gifBlob","browserFakeUserAgent","window","userAgent","arguments","document","createElement","captureStream","mozCaptureStream","obj","getContext","play","drawImage","toDataURL","HTMLVideoElement","location","protocol","href","hash","screen","width","height","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","lastTime","element","currTime","Date","getTime","timeToCall","Math","max","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","AudioContext","webkitAudioContext","mozAudioContext","webkitGetUserMedia","indexOf","msSaveBlob","msSaveOrOpenBlob","opera","isFirefox","toLowerCase","test","isElectron","bytes","k","sizes","floor","pow","toPrecision","file","fileExtension","splitted","fileFullName","round","random","hyperlink","download","style","body","documentElement","appendChild","dispatchEvent","MouseEvent","view","bubbles","cancelable","versions","electron","stream","kind","filter","t","setSrcObject","srcObject","mozSrcObject","webkitMediaStream","track","appVersion","verOffset","ix","nAgt","fullVersion","majorVersion","substring","isNaN","arrayOfBlobs","updateTimeStamp","timestamps","getMimeType","secondObject","clearRecordedDataCB","isMediaStreamActive","active","ended","getArrayOfBlobs","allStates","recorderHints","canRecordMimeType","ondataavailable","recordingCallback","getNativeBlob","onstart","onpause","onresume","onstop","onerror","looper","manuallyStopped","timeslice","start","getAllStates","checkForInactiveTracks","jsAudioNode","leftchannel","rightchannel","recordingLength","mergeLeftRightBuffers","mergeAudioBuffers","cb","interleaved","leftBuffers","slice","rightBuffers","internalInterleavedLength","interpolateArray","newSampleRate","oldSampleRate","fitCount","newData","springFactor","Number","tmp","before","toFixed","after","ceil","atPoint","linearInterpolate","mergeBuffers","channelBuffer","rLength","Float64Array","offset","lng","set","interleave","leftChannel","rightChannel","inputIndex","writeUTFBytes","setUint8","charCodeAt","interleavedLength","resultingBufferLength","setUint32","setUint16","volume","setInt16","noWorker","workerURL","terminate","resetVariables","isAudioProcessStarted","isPaused","byteLength","context","audioInput","createMediaStreamSource","legalBufferValues","createJavaScriptNode","createScriptProcessor","connect","intervalsBasedBuffers","left","right","onaudioprocess","disconnect","onAudioProcessDataAvailable","onAudioProcessStarted","inputBuffer","getChannelData","chLeft","Float32Array","chRight","createMediaStreamDestination","destination","htmlElement","html2canvas","isCanvasSupportsStreamCapturing","globalCanvas","mediaStreamRecorder","isRecording","_isChrome","webkitRTCPeerConnection","chrome","chromeVersion","matchArray","match","useWhammyRecorder","HTMLCanvasElement","CanvasRenderingContext2D","canvasMediaStream","webkitCaptureStream","mdStream","whammy","frames","drawCanvasFrame","getWebPImages","nodeName","framesLength","frame","idx","framesRemaining","onEncodingCallback","webp","compile","isPausedRecording","cloneCanvas","newCanvas","grabMouse","showMousePointer","onrendered","Whammy","Video","drawFrames","paused","isStopDrawing","asyncLoop","o","loop","functionToLoop","dropBlackFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","r","g","b","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","matchPixCount","endPixCheck","maxPixCount","finishImage","Image","imageData","getImageData","pix","currentColor","colorDifference","src","concat","cloneNode","onloadedmetadata","muted","WhammyVideo","whammyInWebWorker","ArrayToWebM","info","checkFrames","clusterMaxDuration","EBML","doubleToString","frameNumber","clusterTimecode","clusterFrames","clusterDuration","clusterCounter","cluster","getClusterData","generateEBML","block","makeSimpleBlock","discardable","invisible","keyframe","lacing","trackNum","timecode","numToBuffer","num","parts","Uint8Array","reverse","strToBuffer","bitsToBuffer","bits","pad","join","substr","json","ebml","len","zeroes","sizeToString","padded","flags","out","fromCharCode","parseWebP","riff","VP8","RIFF","WEBP","frameStart","c","getStrLength","unpadded","parseRIFF","chunks","webm","atob","add","init","indexedDB","open","db","dbVersion","dbName","onError","onsuccess","setVersion","createObjectStore","putInDB","onupgradeneeded","dataBase","dataStoreName","transaction","getFromStore","portionName","objectStore","get","put","GIFEncoder","script","isHTMLObject","drawVideoFrame","time","clearedRecordedData","lastAnimationFrame","lastFrameTime","onGifPreview","gifEncoder","addFrame","isLoadedMetaData","offsetWidth","offsetHeight","setRepeat","setDelay","setQuality","onGifRecordingStarted","bin","autoplay","MultiStreamsMixer","arrayOfMediaStreams","videos","isStopDrawingFrames","useGainNode","drawVideosToCanvas","videosLength","fullcanvas","remaining","x","y","top","onRender","getMixedStream","mixedVideoStream","getMixedVideoStream","mixedAudioStream","getMixedAudioStream","capturedStream","resetVideoStreams","videoStream","audioContext","audioSources","gainNode","createGain","gain","audioTracksLength","audioSource","audioDestination","getVideo","streams","startDrawingFrames","appendStreams","releaseStreams","source","clearRect","mixer","getAllVideoTracks","tracks","previewStream","addStreams","RecordRTCPromisesHandler","recordRTC","a","resolve","reject","cameraStream","controller","cvs","onplaying","frameTimeout","enqueue","addEventListener","bitrate","timebaseDen","realtime","pipeTo","WritableStream","write","arrayOfBuffers","fetch","arrayBuffer","isRegExp","anObject","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","fails","$min","min","$push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","RegExp","defined","SPLIT","$split","maybeCallNative","internalSplit","separator","lastIndex","lastLength","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","apply","splitter","regexp","done","rx","S","C","unicodeMatching","lim","p","q","A","z","now","byteOffset","toAbsoluteIndex","aLen","end","endPos","regExpExec","MATCH","$match","fn","fullUnicode","matchStr","__webpack_amd_options__","core","$JSON","JSON","stringify","copyWithin","to","from","count","inc","original","isObject","SPECIES","LIBRARY","$typed","$buffer","anInstance","propertyDesc","redefineAll","toIndex","toPrimitive","has","classof","isArrayIter","getPrototypeOf","gOPN","getIterFn","wks","createArrayMethod","createArrayIncludes","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","dP","gOPD","TypeError","ARRAY_BUFFER","SHARED_BUFFER","BYTES_PER_ELEMENT","PROTOTYPE","ArrayProto","$ArrayBuffer","$DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","keys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","sort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","TYPED_ARRAY","WRONG_LENGTH","$map","allocate","LITTLE_ENDIAN","Uint16Array","FORCED_SET","toOffset","BYTES","validate","speciesFromList","fromList","addGetter","internal","_d","$from","step","iterator","mapfn","mapping","iterFn","next","$of","TO_LOCALE_BUG","$toLocaleString","proto","every","fill","find","predicate","findIndex","searchElement","includes","middle","some","comparefn","subarray","begin","$begin","$slice","arrayLike","$iterators","isTAIndex","$getDesc","$setDesc","desc","configurable","writable","enumerable","getOwnPropertyDescriptor","defineProperty","$TypedArrayPrototype$","KEY","wrapper","CLAMPED","NAME","GETTER","SETTER","TypedArray","Base","TAC","FORCED","TypedArrayPrototype","getter","v","setter","addElement","$offset","$length","klass","$len","iter","Function","$nativeIterator","CORRECT_ITER_NAME","$iterator","W","of","P","DESCRIPTORS","setToStringTag","DATA_VIEW","WRONG_INDEX","BaseBuffer","abs","LN2","BUFFER","BYTE_LENGTH","BYTE_OFFSET","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","m","eLen","eMax","eBias","rt","s","unpackIEEE754","nBits","NaN","unpackI32","packI8","packI16","packI32","packF64","packF32","isLittleEndian","numIndex","intIndex","store","_b","pack","conversion","ArrayBufferProto","j","$setInt8","setInt8","getInt8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt32","setFloat32","setFloat64","isShowList","isShowInfo","staticStyle","clearable","nativeOn","keyup","_k","keyCode","handleFilter","directives","rawName","margin-left","icon","$t","handleCreate","handleEdit","handleDelete","handleInfo","columns","row-key","idKey","handleSortChange","handleSelectionChange","total","update:page","update:limit","pagination","getList","childLabel","engine-id","msg-from-child","getMsgFromChild","editvue_type_template_id_09c07949_render","ruleForm","rules","submitForm","cancel","editvue_type_template_id_09c07949_staticRenderFns","engine_Engine","Engine","classCallCheck","engineName","engine","engineParam_EngineParam","EngineParam","paramType","engineParam","editvue_type_script_lang_ts_Edit","_Vue","Edit","required","message","trigger","inherits","createClass","getEditInfo","formName","refs","$refs","valid","handleSubmit","response","$emit","build","err","vue_property_decorator","tslib_es6","default","editvue_type_script_lang_ts_","RecordingManage_editvue_type_script_lang_ts_","edit","infovue_type_template_id_6b3d21d4_render","infovue_type_template_id_6b3d21d4_staticRenderFns","infoEditvue_type_template_id_463aa49a_render","infoEditvue_type_template_id_463aa49a_staticRenderFns","infoEditvue_type_script_lang_ts_RecordingManageInfo","RecordingManageInfo","beforeEditKey","infoEditvue_type_script_lang_ts_","RecordingManage_infoEditvue_type_script_lang_ts_","infoEdit_component","infoEdit","infovue_type_script_lang_ts_Query","Query","infovue_type_script_lang_ts_RecordingManageInfo","pages","newList","multipleSelection","totalCount","el","querySelectorAll","sortable","checkSelection","_this6","$confirm","confirmButtonText","cancelButtonText","ids","$message","components","TableList","Pagination","infovue_type_script_lang_ts_","RecordingManage_infovue_type_script_lang_ts_","info_component","RecordingManagevue_type_script_lang_ts_Query","RecordingManagevue_type_script_lang_ts_RecordingManage","RecordingManage","_this7","Info","RecordingManagevue_type_script_lang_ts_","sysManage_RecordingManagevue_type_script_lang_ts_","RecordingManage_component"],"mappings":"sGACA,IAAAA,EAAgBC,EAAQ,QACxBC,EAAeD,EAAQ,QACvBE,EAAAC,QAAA,SAAAC,GACA,QAAAC,IAAAD,EAAA,SACA,IAAAE,EAAAP,EAAAK,GACAG,EAAAN,EAAAK,GACA,GAAAA,IAAAC,EAAA,MAAAC,WAAA,iBACA,OAAAD,2BCRAL,EAAAC,QAAiBH,EAAQ,gCCOzB,IAAAS,EAAUT,EAAQ,QAClBU,EAAcV,EAAQ,QACtBW,EAAeX,EAAQ,QACvBC,EAAeD,EAAQ,QACvBY,EAAUZ,EAAQ,QAClBE,EAAAC,QAAA,SAAAU,EAAAC,GACA,IAAAC,EAAA,GAAAF,EACAG,EAAA,GAAAH,EACAI,EAAA,GAAAJ,EACAK,EAAA,GAAAL,EACAM,EAAA,GAAAN,EACAO,EAAA,GAAAP,GAAAM,EACAE,EAAAP,GAAAF,EACA,gBAAAU,EAAAC,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAhB,EAAAW,GACAM,EAAAlB,EAAAiB,GACAE,EAAApB,EAAAc,EAAAC,EAAA,GACAjB,EAAAN,EAAA2B,EAAArB,QACAuB,EAAA,EACAC,EAAAhB,EAAAM,EAAAC,EAAAf,GAAAS,EAAAK,EAAAC,EAAA,QAAAjB,EAEUE,EAAAuB,EAAeA,IAAA,IAAAV,GAAAU,KAAAF,KACzBH,EAAAG,EAAAE,GACAJ,EAAAG,EAAAJ,EAAAK,EAAAH,GACAd,GACA,GAAAE,EAAAgB,EAAAD,GAAAJ,OACA,GAAAA,EAAA,OAAAb,GACA,gBACA,cAAAY,EACA,cAAAK,EACA,OAAAC,EAAAC,KAAAP,QACS,GAAAP,EAAA,SAGT,OAAAC,GAAA,EAAAF,GAAAC,IAAAa,4BCzCA,IAAAE,EAAcjC,EAAQ,QACtBkC,EAAkBlC,EAAQ,QAE1BiC,IAAAE,EAAAF,EAAAG,GAAAC,YAAAH,GAAA,CAA8DG,WAAAH,yCCH9DlC,EAAAsC,EAAAC,EAAA,sBAAAC,IAAAxC,EAAAsC,EAAAC,EAAA,sBAAAE,IAAAzC,EAAAsC,EAAAC,EAAA,sBAAAG,IAAA1C,EAAAsC,EAAAC,EAAA,sBAAAI,IAAA3C,EAAAsC,EAAAC,EAAA,sBAAAK,IAAA5C,EAAAsC,EAAAC,EAAA,sBAAAM,IAAA7C,EAAAsC,EAAAC,EAAA,sBAAAO,IAAA9C,EAAAsC,EAAAC,EAAA,sBAAAQ,IAAA/C,EAAAsC,EAAAC,EAAA,sBAAAS,IAAAhD,EAAAsC,EAAAC,EAAA,sBAAAU,IAAA,IAAAC,EAAAlD,EAAA,QAYM,SAAUwC,EAAUW,GACxB,OAAOC,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,wBACLC,OAAQ,MACRC,OAAQJ,IAIN,SAAUV,EAASe,GACvB,OAAOJ,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,wBACLC,OAAQ,OACRE,SAIE,SAAUd,EAAce,GAC5B,IAAMJ,EAAM,yBAA2BI,EACvC,OAAOL,OAAAF,EAAA,KAAAE,CAAQ,CACbC,MACAC,OAAQ,QAIN,SAAUX,EAAWa,GACzB,OAAOJ,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,wBACLC,OAAQ,MACRE,SAIE,SAAUZ,EAAWY,GACzB,OAAOJ,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,wBACLC,OAAQ,SACRE,SAIE,SAAUX,EAAcM,GAC5B,OAAOC,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,6BACLC,OAAQ,MACRC,OAAQJ,IAIN,SAAUL,EAAaU,GAC3B,OAAOJ,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,6BACLC,OAAQ,OACRE,SAIE,SAAUT,EAAeS,EAAgBC,GAC7C,OAAOL,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,6BACLC,OAAQ,SACRE,OACAD,OAAQE,IAIN,SAAUT,EAAoBS,EAAYC,GAC9C,IAAML,EAAM,4CAA8CI,EAAK,IAAMC,EACrE,OAAON,OAAAF,EAAA,KAAAE,CAAQ,CACbC,MACAC,OAAQ,QAIN,SAAUL,EAAeS,EAAUF,GACvC,OAAOJ,OAAAF,EAAA,KAAAE,CAAQ,CACbC,IAAK,6BACLC,OAAQ,MACRE,OACAD,OAAQG,6BC1FZ,IASAC,EATAC,EAAa5D,EAAQ,QACrB6D,EAAW7D,EAAQ,QACnB8D,EAAU9D,EAAQ,QAClB+D,EAAAD,EAAA,eACAE,EAAAF,EAAA,QACAG,KAAAL,EAAAM,cAAAN,EAAAO,UACAC,EAAAH,EACAI,EAAA,EACAC,EAAA,EAGAC,EAAA,iHAEAC,MAAA,KAEA,MAAAH,EAAAC,GACAX,EAAAC,EAAAW,EAAAF,QACAR,EAAAF,EAAAc,UAAAV,GAAA,GACAF,EAAAF,EAAAc,UAAAT,GAAA,IACGI,GAAA,EAGHlE,EAAAC,QAAA,CACA8D,MACAG,SACAL,QACAC,gCC1BA,IAAA9B,EAAkBlC,EAAQ,QAAWqC,WACrCqC,EAAY1E,EAAQ,QAAgB2E,KAEpCzE,EAAAC,QAAA,EAAA+B,EAAiClC,EAAQ,QAAc,SAAA4E,IAAA,SAAAC,GACvD,IAAAC,EAAAJ,EAAAK,OAAAF,GAAA,GACA9C,EAAAG,EAAA4C,GACA,WAAA/C,GAAA,KAAA+C,EAAAE,OAAA,MAAAjD,GACCG,wBCND,IAAA+C,EAAUjF,EAAQ,QAClBE,EAAAC,QAAA+E,MAAAC,SAAA,SAAAC,GACA,eAAAH,EAAAG,8CCHA,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAF,EAAA,OAAYE,YAAA,oBAA+B,CAAAF,EAAA,aAAkBG,MAAA,CAAOC,KAAA,WAAiBC,GAAA,CAAKC,MAAAV,EAAAW,eAA0B,CAAAX,EAAAY,GAAA,wBAAAR,EAAA,aAAiDG,MAAA,CAAOM,SAAAb,EAAAc,UAAAN,KAAA,WAA0CC,GAAA,CAAKC,MAAAV,EAAAe,iBAA4B,CAAAf,EAAAY,GAAA,sBAAAR,EAAA,aAA+CG,MAAA,CAAOM,UAAAb,EAAAc,UAAAN,KAAA,WAA2CC,GAAA,CAAKC,MAAAV,EAAAgB,gBAA2B,CAAAhB,EAAAY,GAAA,0BAAAR,EAAA,KAAAJ,EAAAY,GAAA,QAAAZ,EAAAiB,GAAAjB,EAAAkB,SAAAd,EAAA,aAA8FG,MAAA,CAAOY,QAAAnB,EAAAoB,aAAAC,MAAA,QAA0CZ,GAAA,CAAKa,iBAAA,SAAAC,GAAkCvB,EAAAoB,aAAAG,KAA0B,CAAAnB,EAAA,WAAgBoB,IAAA,WAAAjB,MAAA,CAAsBkB,MAAAzB,EAAA0B,OAAkB,CAAAtB,EAAA,gBAAqBG,MAAA,CAAOoB,cAAA3B,EAAA4B,eAAAC,MAAA,SAAiD,CAAA7B,EAAA8B,GAAA9B,EAAA,oBAAA+B,GAAyC,OAAA3B,EAAA,YAAsBhC,IAAA2D,EAAAC,SAAAzB,MAAA,CAAyBsB,MAAAE,EAAAC,UAAsBvB,GAAA,CAAKwB,OAAAjC,EAAAkC,aAAyBT,MAAA,CAAQU,MAAAnC,EAAA,SAAAoC,SAAA,SAAAC,GAA8CrC,EAAAgC,SAAAK,GAAiBC,WAAA,aAAwB,CAAAtC,EAAAY,GAAA,iBAAAZ,EAAAiB,GAAAc,EAAAQ,YAAA,qBAAoE,GAAAvC,EAAA8B,GAAA9B,EAAA,oBAAA+B,GAA6C,OAAA3B,EAAA,gBAA0BhC,IAAA2D,EAAAS,SAAAjC,MAAA,CAAyBoB,cAAA3B,EAAA4B,eAAAC,MAAAE,EAAAS,WAAwD,CAAApC,EAAA,YAAiBG,MAAA,CAAOkC,YAAAV,EAAAW,WAA6BjB,MAAA,CAAQU,MAAAJ,EAAA,WAAAK,SAAA,SAAAC,GAAiDrC,EAAA2C,KAAAZ,EAAA,aAAAM,IAAkCC,WAAA,sBAA+B,MAAM,GAAAlC,EAAA,OAAgBE,YAAA,gBAAAC,MAAA,CAAmCqC,KAAA,UAAgBA,KAAA,UAAe,CAAAxC,EAAA,aAAkBK,GAAA,CAAIC,MAAA,SAAAa,GAAyBvB,EAAAoB,cAAA,KAA2B,CAAApB,EAAAY,GAAA,0BAAAR,EAAA,aAAmDG,MAAA,CAAOC,KAAA,WAAiBC,GAAA,CAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAA6C,aAAA,eAAsC,CAAA7C,EAAAY,GAAA,uCAC1vDkC,EAAA,2BCCM,SAAUC,EAAS7E,GACvB,OAAOJ,OAAAkF,EAAA,KAAAlF,CAAQ,CACbC,IAAK,sCACLC,OAAQ,OACRE,SAIE,SAAU+E,IACd,OAAOnF,OAAAkF,EAAA,KAAAlF,CAAQ,CACbC,IAAK,uCACLC,OAAQ,QAIN,SAAUkF,EAAWhF,EAAWC,GACpC,OAAOL,OAAAkF,EAAA,KAAAlF,CAAQ,CACbC,IAAK,+CACLC,OAAQ,MACRC,OAAQE,EACRD,yBC2BJiF,EAAA,CACAjF,KADA,WAEA,OACAkF,WAAA,KACAtC,WAAA,EACAI,KAAA,GACAmC,WAAA,GACArB,SAAA,EACAJ,eAAA,QACA0B,WAAA,GACAC,UAAA,CACAC,KAAA,EACAC,MAAA,GACAC,SAAA,EACAC,KAAA,YACAC,MAAA,OACApB,SAAA,GACAR,SAAA,IAEAZ,cAAA,EACAM,KAAA,KAGAmC,QAvBA,WAwBA5D,KAAA6D,iBAEAC,QAAA,CACAhD,eADA,WACA,IAAAiD,EAAA/D,KACAA,KAAA+B,SAIA/B,KAAAgE,kBAAA,SAAAC,GACAF,EAAAZ,WAAAtF,OAAAqG,EAAA,KAAArG,CAAAoG,EAAA,CACA1D,KAAA,QACA4D,aAAAD,EAAA,KAAAE,oBACAC,gBAAA,OAEAN,EAAAZ,WAAArC,iBACAiD,EAAAlD,WAAA,IAVAb,KAAAsE,OAAA,YAaAvD,cAhBA,WAgBA,IAAAwD,EAAAvE,KACAA,KAAAmD,WAAApC,cAAA,WACAwD,EAAA1D,WAAA,EACA,IAAA2D,EAAAD,EAAApB,WAAAsB,UACAC,EAAA,IAAAC,WACAD,EAAAE,cAAAJ,GACAE,EAAAG,UAAA,WASA,IAAA5G,EAAA,CACA6G,YAAAJ,EAAAlI,OAEA2B,IAAAoG,EAAAxC,UAGAe,EAAA7E,GAAA8G,KAAA,SAAAC,GACAT,EAAAtD,KAAA+D,EAAAC,UAKAjB,kBA3CA,SA2CA7B,GACA+C,UAAAC,aAAAC,aAAA,CAAAC,OAAA,IAAAN,KAAA5C,GAAAmD,MAAA,SAAAC,GACAC,MAAA,qCACAC,QAAAF,SACAC,MAAAD,MAGA1B,cAlDA,WAkDA,IAAA6B,EAAA1F,KACAgD,IAAA+B,KAAA,SAAAC,GACAU,EAAAtC,WAAA4B,EAAA/G,KACAyH,EAAA3D,SAAA2D,EAAAtC,WAAApI,OAAA,EAAA0K,EAAAtC,WAAA,GAAArB,SAAA,MAGAE,YAxDA,SAwDAF,GAAA,IAAA4D,EAAA3F,KACAA,KAAAsD,UAAAvB,WACAlE,OAAA+H,EAAA,KAAA/H,CAAAmC,KAAAsD,WAAAyB,KAAA,SAAAC,GACAW,EAAAtC,WAAA2B,EAAAzB,KAAAsC,QAGAnF,aA9DA,WA+DAV,KAAA+B,UACA/B,KAAAiC,YAAAjC,KAAA+B,UAEA/B,KAAAmB,cAAA,GAEAyB,aApEA,WAoEA,IAAAkD,EAAA9F,KACA+F,EAAA,GACA/F,KAAAqD,WAAA2C,IAAA,SAAAlE,GACAiE,EAAAjE,EAAAS,UAAAT,EAAAmE,aAEAhD,EAAA8C,EAAA,CAAA5H,IAAA6B,KAAA+B,WAAAgD,KAAA,SAAAC,GACAc,EAAA3E,cAAA,OCrJmV+E,EAAA,cCOnVC,EAAgBtI,OAAAuI,EAAA,KAAAvI,CACdqI,EACApG,EACA+C,GACF,EACA,KACA,KACA,MAIe7F,EAAA,WAAAmJ,gDClBf,SAAA9H,EAAAgI,GAAA,IAAAC,EAAA7L,EAAA,QAAA8L,EAAA9L,EAAA+L,EAAAF,GAAAG,EAAAhM,EAAA,QAAAiM,EAAAjM,EAAA+L,EAAAC,GAAAE,GAAAlM,EAAA,QAAAA,EAAA,QAAAA,EAAA,QAAAA,EAAA,SAAAmM,EAAAnM,EAAA+L,EAAAG,GAAAE,GAAApM,EAAA,QAAAA,EAAA,QAAAA,EAAA,SAAAqM,EAAArM,EAAA+L,EAAAK,GAAAE,EAAAtM,EAAA,QAAAuM,EAAAvM,EAAA,QAAAwM,EAAAxM,EAAA+L,EAAAQ,GAAAE,GAAAzM,EAAA,QAAAA,EAAA,QAAAA,EAAA,QAAAA,EAAA,SAAA0M,EAAA1M,EAAA+L,EAAAU,GAuCIE,GAvCJ3M,EAAA,QAAAA,EAAA,QAuCoB,MACpB,SAAS4M,EAAUC,EAAavB,GAC5B,IAAKuB,EACD,KAAM,+BAGVvB,EAASA,GAAU,CACfxF,KAAM,SAGVwF,EAAS,IAAIwB,EAAuBD,EAAavB,GAGjD,IAAI1J,EAAO2D,KAEX,SAASc,EAAe0G,GAWpB,OAVA/B,QAAQgC,IAAI,MACND,IAGFzB,EAAS,IAAIwB,EAAuBD,EAAaE,IAGhDzB,EAAO2B,aACRjC,QAAQgC,IAAI,qBAAuB1B,EAAOxF,KAAO,YAEjDoH,GACAA,EAAcC,oBACdD,EAAcE,SAEdC,EAAS,aAELzL,EAAK0L,mBACLC,IAEG3L,IAGX4L,EAAa,WACL5L,EAAK0L,mBACLC,MAID3L,GAGX,SAAS4L,EAAaC,GACdA,IACAnC,EAAOmC,aAAe,WAClBA,IACAA,EAAenC,EAAOmC,aAAe,OAG7C,IAAIC,EAAW,IAAIC,EAAgBd,EAAavB,GAEhD4B,EAAgB,IAAIQ,EAASb,EAAavB,GAC1C4B,EAAcE,SAEdC,EAAS,aAEJ/B,EAAO2B,aACRjC,QAAQgC,IAAI,4BAA6BE,EAAcU,YAAYC,KAAM,mBAAoBvC,EAAOxF,MAI5G,SAASQ,EAAcoB,GAGnB,GAFAA,EAAWA,GAAY,aAElBwF,EAAL,CAIA,GAAmB,WAAftL,EAAKkM,MAML,OALAlM,EAAKmM,uBAELC,WAAW,WACP1H,EAAcoB,IACf,GAGY,cAAf9F,EAAKkM,OAA0BxC,EAAO2B,aACtCjC,QAAQiD,KAAK,qEAAsErM,EAAKkM,OAEvFxC,EAAO2B,aACRjC,QAAQgC,IAAI,qBAAuB1B,EAAOxF,KAAO,YAEjC,QAAhBwF,EAAOxF,KACPoH,EAAcgB,KAAKC,IAEnBjB,EAAcgB,OACdC,KAEJd,EAAS,gBAvBLe,IAyBJ,SAASD,EAAUE,GACf,GAAKnB,EAAL,CAQAR,IAAYQ,GAAeoB,QAAQ,SAAS5K,GACN,oBAAvBwJ,EAAcxJ,KAIzB9B,EAAK8B,GAAOwJ,EAAcxJ,MAE9B,IAAIqG,EAAOmD,EAAcnD,KAEzB,IAAKA,EAAM,CACP,IAAIsE,EAGA,KAAM,oBAFNnB,EAAcnD,KAAOA,EAAOsE,EAQpC,GAHItE,IAASuB,EAAO2B,aAChBjC,QAAQgC,IAAIjD,EAAKjE,KAAM,KAAMyI,EAAYxE,EAAKyE,OAE9C9G,EAAU,CACV,IAAIrE,EAEJ,IACIA,EAAMoL,EAAIC,gBAAgB3E,GAC5B,MAAO4E,IAEoB,oBAAlBjH,EAASkH,KAChBlH,EAASkH,KAAKhN,EAAMyB,GAEpBqE,EAASrE,GAGjBsJ,EAAckC,QAETvD,EAAOwD,iBAIZC,EAAW,SAASC,GAChB,IAAIC,EAAY,GAChBA,EAAU3D,EAAOxF,KAAO,QAAUkJ,EAClCE,EAAYC,MAAMF,SAhDW,oBAAlBvH,EAASkH,KAChBlH,EAASkH,KAAKhN,EAAM,IAEpB8F,EAAS,KAkDzB,SAAS0H,IACAlC,EAKc,cAAftL,EAAKkM,OAOTT,EAAS,UAETH,EAAcmC,QAET/D,EAAO2B,aACRjC,QAAQgC,IAAI,sBAXP1B,EAAO2B,aACRjC,QAAQiD,KAAK,mDAAoDrM,EAAKkM,OAN1EM,IAoBR,SAASL,IACAb,EAKc,WAAftL,EAAKkM,OAOTT,EAAS,aAGTH,EAAcoC,SAEThE,EAAO2B,aACRjC,QAAQgC,IAAI,uBAZP1B,EAAO2B,aACRjC,QAAQiD,KAAK,oDAAqDrM,EAAKkM,OAN3EM,IAqBR,SAASmB,EAASC,GACdC,aAAY,IAAIC,gBAAiBvF,cAAcqF,IAGnD,SAAST,EAAWrH,EAAUiI,GAC1B,IAAKjI,EACD,KAAM,4CAGV,IAAIqC,EAAO4F,EAAiBA,EAAe5F,MAAQmD,GAAiB,IAAInD,KAExE,IAAKA,EAQD,OAPKuB,EAAO2B,aACRjC,QAAQiD,KAAK,iDAGjBD,WAAW,WACPe,EAAWrH,EAAUiI,IACtB,KAIP,GAAsB,qBAAXC,QAA2BnF,UAAUoF,gBAQzC,CACH,IAAI5F,EAAS,IAAIC,WACjBD,EAAOE,cAAcJ,GACrBE,EAAO6F,OAAS,SAASC,GACrBrI,EAASqI,EAAMC,OAAOjO,aAZmC,CAC7D,IAAIkO,EAAYC,EAAmBX,GAEnCU,EAAUE,UAAY,SAASJ,GAC3BrI,EAASqI,EAAMvM,OAGnByM,EAAUR,YAAY1F,GAS1B,SAASmG,EAAmBE,GACxB,IACI,IAAIrG,EAAO0E,EAAIC,gBAAgB,IAAI2B,KAAK,CAACD,EAAUE,WAC/C,qCAAuCF,EAAUvC,KAAO,gBACzD,CACC/H,KAAM,4BAGNyK,EAAS,IAAIX,OAAO7F,GAExB,OADA0E,EAAI+B,gBAAgBzG,GACbwG,EACT,MAAO5B,MAIjB,SAASpB,EAAwBkD,GAC7BA,EAAUA,GAAW,EAEF,WAAf7O,EAAKkM,MAOU,YAAflM,EAAKkM,QAIL2C,GAAW7O,EAAK0L,kBAChBhH,EAAc1E,EAAK8O,qBAIvBD,GAAW,IAEXzC,WAAW,WACPT,EAAwBkD,IACzB,OAnBCzC,WAAW,WACPT,EAAwBkD,IACzB,KAoBX,SAASpD,EAASS,GACTlM,IAILA,EAAKkM,MAAQA,EAE2B,oBAA7BlM,EAAK+O,eAAe/B,KAC3BhN,EAAK+O,eAAe/B,KAAKhN,EAAMkM,GAE/BlM,EAAK+O,eAAe7C,IAI5B,IAUIZ,EAVA0D,EAAU,8EAAgFtF,EAAOxF,KAAO,aAE5G,SAASsI,KACsB,IAAvB9C,EAAO2B,aAIXjC,QAAQiD,KAAK2C,GAKjB,IAAIC,EAAe,CAYfxK,eAAgBA,EAehBC,cAAeA,EAYf8I,eAAgBA,EAWhBrB,gBAAiBA,EAWjBP,aAAcA,EAoBdsD,qBAAsB,SAASxD,EAAmB5F,GAC9C,GAAiC,qBAAtB4F,EACP,KAAM,iCAGV,GAAiC,kBAAtBA,EACP,KAAM,sCAMV,OAHA1L,EAAK0L,kBAAoBA,EACzB1L,EAAK8O,mBAAqBhJ,GAAY,aAE/B,CACHgJ,mBAAoB,SAAShJ,GACzB9F,EAAK8O,mBAAqBhJ,KActCyF,kBAAmB,WACVD,GAKLA,EAAcC,oBAET7B,EAAO2B,aACRjC,QAAQgC,IAAI,+BAPZoB,KA8BRpE,QAAS,WACL,GAAKkD,EAKL,OAAOA,EAAcnD,KAJjBqE,KAoBRW,WAAYA,EAaZgC,MAAO,WACH,GAAK7D,EAKL,OAAOuB,EAAIC,gBAAgBxB,EAAcnD,MAJrCqE,KAoBR4C,oBAAqB,WACjB,OAAO9D,GAiBX+D,KAAM,SAASC,GACNhE,EAKLiE,EAAmBjE,EAAcnD,KAAMmH,GAJnC9C,KAkBRgD,YAAa,SAAS1J,GACbwF,EAKLN,EAAUwE,YAAY9F,EAAOxF,KAAM4B,GAJ/B0G,KAuBRiD,sBAAuB,SAASC,GAC5BhG,EAAOiG,cAAgB,GAGvB,IADA,IAAIhR,EAAS+Q,EAAkB/Q,OACtB8D,EAAI,EAAGA,EAAI9D,EAAQ8D,IACxBiH,EAAOiG,cAAcvP,KAAK,CACtBwP,SAAUnN,EACVoN,MAAOH,EAAkBjN,MAmBrC0F,KAAM,KAaN2H,WAAY,EAaZC,WAAY,EAcZC,OAAQ,KAWRC,MAAO,WACC3E,GAA4D,oBAApCA,EAAcC,mBACtCD,EAAcC,oBAElBD,EAAgB,KAChBG,EAAS,YACTzL,EAAKmI,KAAO,MAchB4G,eAAgB,SAAS7C,GAChBxC,EAAO2B,aACRjC,QAAQgC,IAAI,0BAA2Bc,IAmB/CA,MAAO,WAUPgE,SAAU,WACN,OAAOlQ,EAAKkM,OAUhBiE,QAAS,WACL,IAAIC,EAAmB1G,EAAO2B,YAE9B3B,EAAS,CACL2B,aAAa,GAEjBrL,EAAKiQ,QACLxE,EAAS,aACTwD,EAAejP,EAAO,KAElBqQ,EAAQC,0BACRD,EAAQC,wBAAwBrD,QAChCoD,EAAQC,wBAA0B,MAGtC5G,EAAO2B,YAAc+E,EAEhB1G,EAAO2B,aACRjC,QAAQiD,KAAK,4BAarBkE,QAAS,SAGb,IAAK5M,KAED,OADA3D,EAAOiP,EACAA,EAIX,IAAK,IAAIuB,KAAQvB,EACbtL,KAAK6M,GAAQvB,EAAauB,GAK9B,OAFAxQ,EAAO2D,KAEAsL;;;;;;;;;;;;;;AA6HX,SAAS/D,EAAuBD,EAAavB,GAsDzC,OArDAN,QAAQgC,IAAI,aACP1B,EAAO5B,cAAiB4B,EAAOxF,OAC1BwF,EAAOV,OAAWU,EAAO+G,MAC3B/G,EAAOxF,KAAO,QACLwF,EAAOV,QAAUU,EAAO+G,QACjC/G,EAAOxF,KAAO,UAIlBwF,EAAO5B,eAAiB4B,EAAOxF,OAC3BwF,EAAO5B,eAAiB4I,GAAkBhH,EAAO5B,eAAiB6I,GAAkD,qBAAxBC,GAAuClH,EAAO5B,eAAiB8I,EAC3JlH,EAAOxF,KAAO,QACPwF,EAAO5B,eAAiB+I,EAC/BnH,EAAOxF,KAAO,MACPwF,EAAO5B,eAAiBC,EAC/B2B,EAAOxF,KAAO,QACPwF,EAAO5B,eAAiBgJ,IAC3BC,EAAU9F,EAAa,SAAStM,QAAUoS,EAAU9F,EAAa,SAAStM,OAC1E+K,EAAOxF,KAAO,SACN6M,EAAU9F,EAAa,SAAStM,QAAUoS,EAAU9F,EAAa,SAAStM,OAClF+K,EAAOxF,KAAO,QACP6M,EAAU9F,EAAa,SAAStM,SAAWoS,EAAU9F,EAAa,SAAStM,SAClF+K,EAAOxF,KAAO,WAOS,qBAAxB4M,GAAgE,qBAAlBE,eAAiC,gBAAiBA,cAAcnO,YAChH6G,EAAOuH,WACRvH,EAAOuH,SAAW,cAGjBvH,EAAOxF,OACRwF,EAAOxF,KAAOwF,EAAOuH,SAASrO,MAAM,KAAK,IAGxC8G,EAAOwH,eAMXxH,EAAOxF,OACJwF,EAAOuH,WACPvH,EAAOxF,KAAOwF,EAAOuH,SAASrO,MAAM,KAAK,IAExC8G,EAAOxF,OACRwF,EAAOxF,KAAO,UAIfwF;;;;;;;;;;;;;;GAqBX,SAASqC,EAAgBd,EAAavB,GAClC,IAAIyH,EAkEJ,OA9DIC,GAAYC,GAAUC,KAGtBH,EAAWpJ,GAGc,qBAAlBiJ,eAAiC,gBAAiBA,cAAcnO,YAAcuO,IACrFD,EAAWL,GAIK,UAAhBpH,EAAOxF,OAAqBkN,GAAYE,KACxCH,EAAWT,EAEwB,qBAAxBE,GAAiE,qBAAnBW,iBACrDJ,EAAWP,IAKC,QAAhBlH,EAAOxF,OACPiN,EAAWN,GAIK,WAAhBnH,EAAOxF,OACPiN,EAAWR,GAGXa,KAA+BL,IAAaR,GAAkBQ,IAAaN,GAAwC,qBAAlBG,eAAiC,gBAAiBA,cAAcnO,YAC7JkO,EAAU9F,EAAa,SAAStM,QAAUoS,EAAU9F,EAAa,SAAStM,UAEtD,UAAhB+K,EAAOxF,KACsC,oBAAlC8M,cAAcS,iBAAkCT,cAAcS,gBAAgB,gBACrFN,EAAWL,GAK8B,oBAAlCE,cAAcS,iBAAkCT,cAAcS,gBAAgB,gBACrFN,EAAWL,IAMvB7F,aAAuB3H,OAAS2H,EAAYtM,SAC5CwS,EAAWO,GAGXhI,EAAO5B,eACPqJ,EAAWzH,EAAO5B,eAGjB4B,EAAO2B,aAAiB8F,GAAcA,EAASlF,MAChD7C,QAAQgC,IAAI,sBAAuB+F,EAASlF,MAAQkF,EAASnF,YAAYC,OAGxEkF,GAAYQ,IACbR,EAAWL,GAGRK;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkCX,SAASS,EAAW3G,GAUhBtH,KAAKkO,UAAY,SAASC,GAClBA,IACA7G,EAAc6G,IAgBtBnO,KAAKoO,UAAY,CACb/I,OAAO,EACPyH,OAAO,GAUX9M,KAAKc,eAAiB,WAClB2E,QAAQgC,IAAI,KACZ,IACItD,EADAiK,EAAYpO,KAAKoO,UAEjBd,EAAWtN,KAAKsN,UAAY,CAC5BjI,MAAO,KACPyH,MAAO,KACPuB,IAAK,MAeT,GAZ+B,oBAApBD,EAAU/I,OAAwBwI,MAAgCT,EAAU9F,EAAa,SAAStM,SACzGoT,EAAU/I,OAAQ,GAGS,oBAApB+I,EAAUtB,OAAwBe,MAAgCT,EAAU9F,EAAa,SAAStM,SACzGoT,EAAUtB,OAAQ,GAGO,oBAAlBsB,EAAUC,KAAsBR,MAAgCT,EAAU9F,EAAa,SAAStM,SACvGoT,EAAUC,KAAM,IAGfD,EAAU/I,QAAU+I,EAAUtB,QAAUsB,EAAUC,IACnD,KAAM,sDA0BV,GAvBMD,EAAU/I,QACZlB,EAAe,KACgB,oBAApBiK,EAAU/I,QACjBlB,EAAeiK,EAAU/I,OAG7BrF,KAAKsO,cAAgB,IAAIjH,EAAUC,EAAa,CAC5C/G,KAAM,QACN4L,WAAYnM,KAAKmM,WACjBC,WAAYpM,KAAKoM,WACjBmC,sBAAuBvO,KAAKuO,uBAAyB,EACrD7G,YAAa1H,KAAK0H,YAClBvD,aAAcA,EACdmJ,SAAUA,EAASjI,MACnBmJ,UAAWxO,KAAKwO,UAChBC,YAAazO,KAAKyO,cAGjBL,EAAUtB,OACX9M,KAAKsO,cAAcxN,kBAIrBsN,EAAUtB,MAAO,CACnB3I,EAAe,KACgB,oBAApBiK,EAAUtB,QACjB3I,EAAeiK,EAAUtB,OAG7B,IAAI4B,EAAYpH,EAEhB,GAAIuG,KAAiCO,EAAU/I,OAAoC,oBAApB+I,EAAU/I,MAAsB,CAC3F,IAAIsJ,EAAavB,EAAU9F,EAAa,SAAS,GAE3CpC,UAAUoF,iBACZoE,EAAY,IAAIE,EAChBF,EAAUG,SAASF,GAEfxK,GAAgBA,IAAiB4I,IAEjC5I,EAAegJ,IAGnBuB,EAAY,IAAIE,EAAY,CAACD,IAIrC3O,KAAK8O,cAAgB,IAAIzH,EAAUqH,EAAW,CAC1CnO,KAAM,QACNuM,MAAO9M,KAAK8M,MACZiC,OAAQ/O,KAAK+O,OACbC,cAAehP,KAAKgP,eAAiB,GACrCtH,YAAa1H,KAAK0H,YAClBvD,aAAcA,EACdmJ,SAAUA,EAASR,MACnB0B,UAAWxO,KAAKwO,UAChBC,YAAazO,KAAKyO,YAClBQ,WAAYjP,KAAKiP,WACjBC,gBAAiBlP,KAAKkP,kBAGrBd,EAAU/I,OACXrF,KAAK8O,cAAchO,iBAI3B,GAAMsN,EAAU/I,OAAW+I,EAAUtB,MAAO,CACxC,IAAIzQ,EAAO2D,KAIP6N,KACAxR,EAAKiS,cAAgB,KACrBjS,EAAKyS,cAAchO,kBAEnBzE,EAAKyS,cAAc7G,aAAa,WAC5B5L,EAAKiS,cAAcrG,aAAa,WAE5B5L,EAAKyS,cAAchO,iBACnBzE,EAAKiS,cAAcxN,qBAM7BsN,EAAUC,MACZlK,EAAe,KACc,oBAAlBiK,EAAUC,MACjBlK,EAAeiK,EAAUC,KAE7BrO,KAAKmP,YAAc,IAAI9H,EAAUC,EAAa,CAC1C/G,KAAM,MACN6O,UAAWpP,KAAKoP,WAAa,IAC7BC,QAASrP,KAAKqP,SAAW,GACzB3H,YAAa1H,KAAK0H,YAClBvD,aAAcA,EACdmJ,SAAUA,EAASe,MAEvBrO,KAAKmP,YAAYrO,mBAgBzBd,KAAKe,cAAgB,SAASoB,GAC1BA,EAAWA,GAAY,aAEnBnC,KAAKsO,eACLtO,KAAKsO,cAAcvN,cAAc,SAASuO,GACtCnN,EAASmN,EAAS,WAItBtP,KAAK8O,eACL9O,KAAK8O,cAAc/N,cAAc,SAASuO,GACtCnN,EAASmN,EAAS,WAItBtP,KAAKmP,aACLnP,KAAKmP,YAAYpO,cAAc,SAASuO,GACpCnN,EAASmN,EAAS,UAY9BtP,KAAK6J,eAAiB,WACd7J,KAAKsO,eACLtO,KAAKsO,cAAczE,iBAGnB7J,KAAK8O,eACL9O,KAAK8O,cAAcjF,iBAGnB7J,KAAKmP,aACLnP,KAAKmP,YAAYtF,kBAWzB7J,KAAKwI,gBAAkB,WACfxI,KAAKsO,eACLtO,KAAKsO,cAAc9F,kBAGnBxI,KAAK8O,eACL9O,KAAK8O,cAActG,kBAGnBxI,KAAKmP,aACLnP,KAAKmP,YAAY3G,mBAmBzBxI,KAAKyE,QAAU,SAAStC,GACpB,IAAIoN,EAAS,GAkBb,OAhBIvP,KAAKsO,gBACLiB,EAAOlK,MAAQrF,KAAKsO,cAAc7J,WAGlCzE,KAAK8O,gBACLS,EAAOzC,MAAQ9M,KAAK8O,cAAcrK,WAGlCzE,KAAKmP,cACLI,EAAOlB,IAAMrO,KAAKmP,YAAY1K,WAG9BtC,GACAA,EAASoN,GAGNA,GAUXvP,KAAKwM,QAAU,WACPxM,KAAKsO,gBACLtO,KAAKsO,cAAc9B,UACnBxM,KAAKsO,cAAgB,MAGrBtO,KAAK8O,gBACL9O,KAAK8O,cAActC,UACnBxM,KAAK8O,cAAgB,MAGrB9O,KAAKmP,cACLnP,KAAKmP,YAAY3C,UACjBxM,KAAKmP,YAAc,OAgB3BnP,KAAKwJ,WAAa,SAASrH,GA0BvB,SAASqH,EAAWhF,EAAMgL,GACtB,GAAsB,qBAAXnF,OAAwB,CAC/B,IAAIK,EAAYC,EAAmB,SAAkBV,GACjDC,aAAY,IAAIC,gBAAiBvF,cAAcqF,MAGnDS,EAAUE,UAAY,SAASJ,GAC3BgF,EAAWhF,EAAMvM,OAGrByM,EAAUR,YAAY1F,OACnB,CACH,IAAIE,EAAS,IAAIC,WACjBD,EAAOE,cAAcJ,GACrBE,EAAO6F,OAAS,SAASC,GACrBgF,EAAWhF,EAAMC,OAAOjO,UAKpC,SAASmO,EAAmBE,GACxB,IAOI/M,EAPA0G,EAAO0E,EAAIC,gBAAgB,IAAI2B,KAAK,CAACD,EAAUE,WAC/C,qCAAuCF,EAAUvC,KAAO,gBACzD,CACC/H,KAAM,4BAGNyK,EAAS,IAAIX,OAAO7F,GAExB,GAAmB,qBAAR0E,EACPpL,EAAMoL,MACH,IAAyB,qBAAduG,UAGd,KAAM,sCAFN3R,EAAM2R,UAKV,OADA3R,EAAImN,gBAAgBzG,GACbwG,EA9DXhL,KAAKyE,QAAQ,SAASD,GACdA,EAAKa,OAASb,EAAKsI,MACnBtD,EAAWhF,EAAKa,MAAO,SAASqK,GAC5BlG,EAAWhF,EAAKsI,MAAO,SAAS6C,GAC5BxN,EAAS,CACLkD,MAAOqK,EACP5C,MAAO6C,QAIZnL,EAAKa,MACZmE,EAAWhF,EAAKa,MAAO,SAASqK,GAC5BvN,EAAS,CACLkD,MAAOqK,MAGRlL,EAAKsI,OACZtD,EAAWhF,EAAKsI,MAAO,SAAS6C,GAC5BxN,EAAS,CACL2K,MAAO6C,SAsD3B3P,KAAK4P,YAAc,WACfvI,EAAUuI,YAAY,CAClBvK,MAAOrF,KAAKsO,cACZxB,MAAO9M,KAAK8O,cACZT,IAAKrO,KAAKmP,eAgBlBnP,KAAK0L,KAAO,SAASmE,GACjBA,EAAOA,GAAQ,CACXxK,OAAO,EACPyH,OAAO,EACPuB,KAAK,GAGHwB,EAAKxK,OAASrF,KAAKsO,eACrBtO,KAAKsO,cAAc5C,KAA2B,kBAAfmE,EAAKxK,MAAqBwK,EAAKxK,MAAQ,IAGpEwK,EAAK/C,OAAS9M,KAAK8O,eACrB9O,KAAK8O,cAAcpD,KAA2B,kBAAfmE,EAAK/C,MAAqB+C,EAAK/C,MAAQ,IAEpE+C,EAAKxB,KAAOrO,KAAKmP,aACnBnP,KAAKmP,YAAYzD,KAAyB,kBAAbmE,EAAKxB,IAAmBwB,EAAKxB,IAAM,KAptB5EhH,EAAUuF,QAAU,QAKLvF,SAEO,oBAAXyI,QAAyBA,WAChCA,OAAO,YAAa,GAAI,WACpB,OAAOzI,IAIfA,EAAUwE,YAAc,SAAStL,EAAM4B,GACnC,IAAKA,EACD,KAAM,yBAGVsD,QAAQgC,IAAI,qBAAgC,QAATlH,EAAiB,QAAUA,EAAO,UAAY,eACjFoJ,EAAYoG,MAAM,SAAStG,EAASuG,GACnB,QAATzP,GAAkByP,IAAUzP,EAAO,QAAU4B,GAC7CA,EAASsH,GAGA,QAATlJ,GAAkB4B,GAClBA,EAASsH,EAASuG,EAAMC,QAAQ,OAAQ,QAiBpD5I,EAAUuI,YAAc,SAASM,GAC7BzK,QAAQgC,IAAI,qCACZyI,EAAUA,GAAW,GACjBA,EAAQ7K,OAAS6K,EAAQpD,OAASoD,EAAQ7B,IAC1C6B,EAAQ7K,MAAMmE,WAAW,SAAS2G,GAC9BD,EAAQpD,MAAMtD,WAAW,SAAS4G,GAC9BF,EAAQ7B,IAAI7E,WAAW,SAAS6G,GAC5B1G,EAAYC,MAAM,CACd0G,UAAWH,EACXI,UAAWH,EACXI,QAASH,UAKlBH,EAAQ7K,OAAS6K,EAAQpD,MAChCoD,EAAQ7K,MAAMmE,WAAW,SAAS2G,GAC9BD,EAAQpD,MAAMtD,WAAW,SAAS4G,GAC9BzG,EAAYC,MAAM,CACd0G,UAAWH,EACXI,UAAWH,QAIhBF,EAAQ7K,OAAS6K,EAAQ7B,IAChC6B,EAAQ7K,MAAMmE,WAAW,SAAS2G,GAC9BD,EAAQ7B,IAAI7E,WAAW,SAAS6G,GAC5B1G,EAAYC,MAAM,CACd0G,UAAWH,EACXK,QAASH,QAIdH,EAAQpD,OAASoD,EAAQ7B,IAChC6B,EAAQpD,MAAMtD,WAAW,SAAS4G,GAC9BF,EAAQ7B,IAAI7E,WAAW,SAAS6G,GAC5B1G,EAAYC,MAAM,CACd2G,UAAWH,EACXI,QAASH,QAIdH,EAAQ7K,MACf6K,EAAQ7K,MAAMmE,WAAW,SAAS2G,GAC9BxG,EAAYC,MAAM,CACd0G,UAAWH,MAGZD,EAAQpD,MACfoD,EAAQpD,MAAMtD,WAAW,SAAS4G,GAC9BzG,EAAYC,MAAM,CACd2G,UAAWH,MAGZF,EAAQ7B,KACf6B,EAAQ7B,IAAI7E,WAAW,SAAS6G,GAC5B1G,EAAYC,MAAM,CACd4G,QAASH,OAmoBzBpC,EAAWpC,YAAcxE,EAAUwE,YAcnCoC,EAAW2B,YAAcvI,EAAUuI,YAEV,qBAAdvI,IACPA,EAAU4G,WAAaA,GAG3B,IAAIwC,EAAuB,uFAE3B,SAAUxU,GACDA,GAIiB,qBAAXyU,QAIW,qBAAXrS,IAIXA,EAAO6G,UAAY,CACfyL,UAAWF,EACXrL,aAAc,cAGb/G,EAAOoH,UACRpH,EAAOoH,QAAU,IAGa,qBAAvBpH,EAAOoH,QAAQgC,KAAuD,qBAAzBpJ,EAAOoH,QAAQF,QACnElH,EAAOoH,QAAQF,MAAQlH,EAAOoH,QAAQgC,IAAMpJ,EAAOoH,QAAQgC,KAAO,WAC9DhC,QAAQgC,IAAImJ,aAII,qBAAbC,WAEP5U,EAAK4U,SAAW,GAEhBA,SAASC,cAAgBD,SAASE,cAAgBF,SAASG,iBAAmB,WAC1E,IAAIC,EAAM,CACNC,WAAY,WACR,OAAOD,GAEXE,KAAM,aACNrH,MAAO,aACPsH,UAAW,aACXC,UAAW,WACP,MAAO,KAGf,OAAOJ,GAGXhV,EAAKqV,iBAAmB,cAGJ,qBAAbC,WAEPtV,EAAKsV,SAAW,CACZC,SAAU,QACVC,KAAM,GACNC,KAAM,KAIQ,qBAAXC,SAEP1V,EAAK0V,OAAS,CACVC,MAAO,EACPC,OAAQ,IAIG,qBAAR3I,IAEPjN,EAAKiN,IAAM,CACPC,gBAAiB,WACb,MAAO,IAEX8B,gBAAiB,WACb,MAAO,MAMnBhP,EAAKyU,OAASrS,IAhFlB,CAiFqB,qBAAXA,EAAyBA,EAAS,MAQ5C,IAAIyT,EAAwBpB,OAAOoB,sBACnC,GAAqC,qBAA1BA,EACP,GAA2C,qBAAhCC,4BAEPD,EAAwBC,iCACrB,GAAwC,qBAA7BC,yBAEdF,EAAwBE,8BACrB,GAAuC,qBAA5BC,wBAEdH,EAAwBG,6BACrB,GAAqC,qBAA1BH,EAAuC,CAErD,IAAII,EAAW,EAGfJ,EAAwB,SAAS3P,EAAUgQ,GACvC,IAAIC,GAAW,IAAIC,MAAOC,UACtBC,EAAaC,KAAKC,IAAI,EAAG,IAAML,EAAWF,IAC1ChU,EAAKuK,WAAW,WAChBtG,EAASiQ,EAAWG,IACrBA,GAEH,OADAL,EAAWE,EAAWG,EACfrU,GAMnB,IAAIwU,EAAuBhC,OAAOgC,qBACE,qBAAzBA,IACmC,qBAA/BC,2BAEPD,EAAuBC,2BACmB,qBAA5BC,wBAEdF,EAAuBE,wBACkB,qBAA3BC,uBAEdH,EAAuBG,uBACgB,qBAAzBH,IAEdA,EAAuB,SAASxU,GAC5B4U,aAAa5U,MAMzB,IAAI6U,EAAerC,OAAOqC,aAEE,qBAAjBA,IAC2B,qBAAvBC,qBAEPD,EAAeC,oBAGY,qBAApBC,kBAEPF,EAAeE,kBAKvB,IAAI/J,EAAMwH,OAAOxH,IAEE,qBAARA,GAA4C,qBAAduG,YAErCvG,EAAMuG,WAGe,qBAAdvK,WAA+D,qBAA3BA,UAAUE,eACT,qBAAjCF,UAAUgO,qBACjBhO,UAAUE,aAAeF,UAAUgO,oBAGE,qBAA9BhO,UAAUoF,kBACjBpF,UAAUE,aAAeF,UAAUoF,kBAI3C,IAAIoD,GAAkD,IAAzCxI,UAAUyL,UAAUwC,QAAQ,YAAqBjO,UAAUkO,cAAgBlO,UAAUmO,kBAC9F1F,IAAY+C,OAAO4C,QAAkD,IAAzCpO,UAAUyL,UAAUwC,QAAQ,QACxDI,EAAYrO,UAAUyL,UAAU6C,cAAcL,QAAQ,YAAc,GAAM,aAAczC,QAAW,OAAO+C,KAAKvO,UAAUyL,WACzHlD,GAAaE,IAAYD,KAAYxI,UAAUgO,oBAAuBQ,MAA0E,IAA1DxO,UAAUyL,UAAU6C,cAAcL,QAAQ,WAEhInF,EAAW,iCAAiCyF,KAAKvO,UAAUyL,WAE3D3C,IAAaP,IAAsD,IAA1CvI,UAAUyL,UAAUwC,QAAQ,WACrDnF,GAAW,EACXP,GAAW,GAGf,IAAImB,EAAc8B,OAAO9B,YA2BzB,SAAS5F,EAAY2K,GACjB,IAAIC,EAAI,IACJC,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,MACxC,GAAc,IAAVF,EACA,MAAO,UAEX,IAAI7U,EAAImI,IAASuL,KAAKsB,MAAMtB,KAAK/K,IAAIkM,GAASnB,KAAK/K,IAAImM,IAAK,IAC5D,OAAQD,EAAQnB,KAAKuB,IAAIH,EAAG9U,IAAIkV,YAAY,GAAK,IAAMH,EAAM/U,GAUjE,SAAS8M,EAAmBqI,EAAMtI,GAC9B,IAAKsI,EACD,KAAM,2BAGV,IAAKA,EAAK1T,KACN,IACI0T,EAAK1T,KAAO,aACd,MAAO6I,IAGb,IAAI8K,GAAiBD,EAAK1T,MAAQ,cAActB,MAAM,KAAK,GAE3D,GAAI0M,IAAuC,IAA3BA,EAASwH,QAAQ,KAAa,CAC1C,IAAIgB,EAAWxI,EAAS1M,MAAM,KAC9B0M,EAAWwI,EAAS,GACpBD,EAAgBC,EAAS,GAG7B,IAAIC,GAAgBzI,GAAa6G,KAAK6B,MAAsB,WAAhB7B,KAAK8B,UAAyB,WAAc,IAAMJ,EAE9F,GAA0C,qBAA/BhP,UAAUmO,iBACjB,OAAOnO,UAAUmO,iBAAiBY,EAAMG,GACrC,GAAoC,qBAAzBlP,UAAUkO,WACxB,OAAOlO,UAAUkO,WAAWa,EAAMG,GAGtC,IAAIG,EAAY1D,SAASC,cAAc,KACvCyD,EAAU9C,KAAOvI,EAAIC,gBAAgB8K,GACrCM,EAAUC,SAAWJ,EAErBG,EAAUE,MAAQ,6CACjB5D,SAAS6D,MAAQ7D,SAAS8D,iBAAiBC,YAAYL,GAEzB,oBAApBA,EAAU9T,MACjB8T,EAAU9T,SAEV8T,EAAU9J,OAAS,SACnB8J,EAAUM,cAAc,IAAIC,WAAW,QAAS,CAC5CC,KAAMrE,OACNsE,SAAS,EACTC,YAAY,MAIpB/L,EAAI+B,gBAAgBsJ,EAAU9C,MAMlC,SAASiC,IAEL,MAAsB,qBAAXhD,QAAoD,WAA1B7S,OAAAkJ,EAAA,KAAAlJ,CAAO6S,OAAOrK,UAAgD,aAAxBqK,OAAOrK,QAAQ9F,SAKnE,qBAAZ8F,GAAuD,WAA5BxI,OAAAkJ,EAAA,KAAAlJ,CAAOwI,EAAQ6O,YAA2B7O,EAAQ6O,SAASC,WAKxE,YAArB,qBAAOjQ,UAAP,YAAArH,OAAAkJ,EAAA,KAAAlJ,CAAOqH,aAAyD,kBAAxBA,UAAUyL,WAA0BzL,UAAUyL,UAAUwC,QAAQ,aAAe,GAO/H,SAAS/F,EAAUgI,EAAQC,GACvB,OAAKD,GAAWA,EAAOhI,UAIhBgI,EAAOhI,YAAYkI,OAAO,SAASC,GACtC,OAAOA,EAAEF,QAAUA,GAAQ,WAJpB,GAQf,SAASG,EAAaJ,EAAQjD,GACtB,cAAeA,EACfA,EAAQsD,UAAYL,EACb,iBAAkBjD,EACzBA,EAAQuD,aAAeN,EAEvBjD,EAAQsD,UAAYL,EAhID,qBAAhBxG,GAA4D,qBAAtB+G,oBAC7C/G,EAAc+G,mBAIS,qBAAhB/G,GAEmC,qBAA/BA,EAAY1P,UAAUyJ,OAC7BiG,EAAY1P,UAAUyJ,KAAO,WACzB3I,KAAKoN,YAAYrE,QAAQ,SAAS6M,GAC9BA,EAAMjN;;;;;;;;;;AA0KtB,IAAI+D,EAAU,GAYd,SAASmB,IACL,GAAI0F,GAAavF,GAAYN,EACzB,OAAO,EAGAxI,UAAU2Q,WAArB,IAIgBC,EAAWC,EAHvBC,EAAO9Q,UAAUyL,UACjBsF,EAAc,GAAKnP,IAAW5B,UAAU2Q,YACxCK,EAAejP,IAAS/B,UAAU2Q,WAAY,IAwBlD,OArBIpI,GAAYE,KACZmI,EAAYE,EAAK7C,QAAQ,UACzB8C,EAAcD,EAAKG,UAAUL,EAAY,KAIJ,KAApCC,EAAKE,EAAY9C,QAAQ,QAC1B8C,EAAcA,EAAYE,UAAU,EAAGJ,KAGF,KAApCA,EAAKE,EAAY9C,QAAQ,QAC1B8C,EAAcA,EAAYE,UAAU,EAAGJ,IAG3CG,EAAejP,IAAS,GAAKgP,EAAa,IAEtCG,MAAMF,KACND,EAAc,GAAKnP,IAAW5B,UAAU2Q,YACxCK,EAAejP,IAAS/B,UAAU2Q,WAAY,KAG3CK,GAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAqC3B,SAAS/I,EAAoB7F,EAAavB,GACtC,IAAI1J,EAAO2D,KAEX,GAA2B,qBAAhBsH,EACP,KAAM,4CAGV,GAA6B,qBAAlB+F,cACP,KAAM,0HAQV,GALAtH,EAASA,GAAU,CAEfuH,SAAU,cAGM,UAAhBvH,EAAOxF,KAAkB,CAErB,IAAI6U,EADR,GAAIhI,EAAU9F,EAAa,SAAStM,QAAUoS,EAAU9F,EAAa,SAAStM,OAEpEkK,UAAUoF,iBACZ8K,EAAS,IAAIxG,EACbwG,EAAOvG,SAASzB,EAAU9F,EAAa,SAAS,KAGhD8N,EAAS,IAAIxG,EAAYxB,EAAU9F,EAAa,UAEpDA,EAAc8N,EAGbrP,EAAOuH,WAA2E,IAA/DvH,EAAOuH,SAASvC,WAAWyI,cAAcL,QAAQ,WACrEpN,EAAOuH,SAAWG,EAAW,aAAe,aAG5C1H,EAAOuH,UAAyD,cAA7CvH,EAAOuH,SAASvC,WAAWyI,eAAmCtO,UAAUoF,kBAE3FvE,EAAOuH,SAAW,aAI1B,IA4TI3F,EA5TA0O,EAAe,GAgNnB,SAASC,IACLja,EAAKka,WAAW9Z,MAAK,IAAI4V,MAAOC,WAEE,oBAAvBvM,EAAO0I,aACd1I,EAAO0I,YAAYpS,EAAKka,WAAWla,EAAKka,WAAWvb,OAAS,GAAIqB,EAAKka,YAI7E,SAASC,EAAYC,GACjB,OAAI9O,GAAiBA,EAAc2F,SACxB3F,EAAc2F,SAGlBmJ,EAAanJ,UAAY,aAwFpC,SAASoJ,IACLL,EAAe,GACf1O,EAAgB,KAChBtL,EAAKka,WAAa,GAqBtB,SAASI,IACL,GAAI,WAAYrP,GACZ,IAAKA,EAAYsP,OACb,OAAO,OAER,GAAI,UAAWtP,GACdA,EAAYuP,MACZ,OAAO,EAGf,OAAO,EA7UX7W,KAAK8W,gBAAkB,WACnB,OAAOT,GAUXrW,KAAK6H,OAAS,WAEVxL,EAAKmI,KAAO,KACZnI,EAAKuL,oBACLvL,EAAKka,WAAa,GAClBQ,EAAY,GACZV,EAAe,GAEf,IAAIW,EAAgBjR,EAEfA,EAAO2B,aACRjC,QAAQgC,IAAI,mDAAoDuP,GAGhErP,IAEAA,EAAgB,MAGhB8F,IAAaI,MAEbmJ,EAAgB,aAGyB,oBAAlC3J,cAAcS,iBAAkCkJ,EAAc1J,WAChED,cAAcS,gBAAgBkJ,EAAc1J,YACxCvH,EAAO2B,aACRjC,QAAQiD,KAAK,qDAAsDsO,EAAc1J,UAGrF0J,EAAc1J,SAA2B,UAAhBvH,EAAOxF,KAAmB,aAAe,eAK1E,IACIoH,EAAgB,IAAI0F,cAAc/F,EAAa0P,GAG/CjR,EAAOuH,SAAW0J,EAAc1J,SAClC,MAAOlE,GAELzB,EAAgB,IAAI0F,cAAc/F,GAIlC0P,EAAc1J,WAAaD,cAAcS,iBAAmB,sBAAuBnG,IAA6E,IAA5DA,EAAcsP,kBAAkBD,EAAc1J,YAC7IvH,EAAO2B,aACRjC,QAAQiD,KAAK,qDAAsDsO,EAAc1J,WAKzF3F,EAAcuP,gBAAkB,SAAS9N,GAKrC,GAJIA,EAAEnL,MACF8Y,EAAUta,KAAK,oBAAsBuM,EAAYI,EAAEnL,KAAKgL,OAG5B,kBAArBlD,EAAOyI,WAgBbpF,EAAEnL,OAASmL,EAAEnL,KAAKgL,MAAQG,EAAEnL,KAAKgL,KAAO,KAAO5M,EAAKmI,KAGjDnI,EAAK8a,oBACL9a,EAAK8a,kBAAkB,IAAIrM,KAAK,GAAI,CAChCvK,KAAMiW,EAAYQ,MAEtB3a,EAAK8a,kBAAoB,OAKjC9a,EAAKmI,KAAOuB,EAAOqR,cAAgBhO,EAAEnL,KAAO,IAAI6M,KAAK,CAAC1B,EAAEnL,MAAO,CAC3DsC,KAAMiW,EAAYQ,KAGlB3a,EAAK8a,oBACL9a,EAAK8a,kBAAkB9a,EAAKmI,MAC5BnI,EAAK8a,kBAAoB,YAjCzB,GAAI/N,EAAEnL,MAAQmL,EAAEnL,KAAKgL,MAAQG,EAAEnL,KAAKgL,KAAO,MACvCoN,EAAa5Z,KAAK2M,EAAEnL,MACpBqY,IAEsC,oBAA3BvQ,EAAOmR,iBAAgC,CAE9C,IAAI1S,EAAOuB,EAAOqR,cAAgBhO,EAAEnL,KAAO,IAAI6M,KAAK,CAAC1B,EAAEnL,MAAO,CAC1DsC,KAAMiW,EAAYQ,KAEtBjR,EAAOmR,gBAAgB1S,KA4BvCmD,EAAc0P,QAAU,WACpBN,EAAUta,KAAK,YAGnBkL,EAAc2P,QAAU,WACpBP,EAAUta,KAAK,WAGnBkL,EAAc4P,SAAW,WACrBR,EAAUta,KAAK,YAGnBkL,EAAc6P,OAAS,WACnBT,EAAUta,KAAK,YAGnBkL,EAAc8P,QAAU,SAASlS,GACxBA,IAIAA,EAAM+C,OACP/C,EAAM+C,KAAO,gBAGjByO,EAAUta,KAAK,UAAY8I,GAEtBQ,EAAO2B,eAE6D,IAAjEnC,EAAM+C,KAAKyC,WAAWyI,cAAcL,QAAQ,gBAC5C1N,QAAQF,MAAM,iGAAkGA,IACxC,IAAjEA,EAAM+C,KAAKyC,WAAWyI,cAAcL,QAAQ,gBACnD1N,QAAQF,MAAM,cAAeyR,EAAc1J,SAAU,sBAAuB/H,IACR,IAA7DA,EAAM+C,KAAKyC,WAAWyI,cAAcL,QAAQ,YACnD1N,QAAQF,MAAM,+BAAgCA,GAI1B,gBAAfA,EAAM+C,KACX7C,QAAQF,MAAM,4IAA6IA,GACrI,8BAAfA,EAAM+C,KACb7C,QAAQF,MAAM,sQAAuQA,GAC/P,wBAAfA,EAAM+C,KACb7C,QAAQF,MAAM,yJAA0JA,GAClJ,iBAAfA,EAAM+C,KACb7C,QAAQF,MAAM,+EAAgFA,GAE9FE,QAAQF,MAAM,sBAAuBA,IAI7C,SAAUmS,GACN,IAAKrb,EAAKsb,iBAAmBhQ,GAAyC,aAAxBA,EAAcY,MAKxD,cAJOxC,EAAO6R,eAGdjQ,EAAckQ,MAAM,KAIxBpP,WAAWiP,EAAQ,KATvB,GAY4B,aAAxB/P,EAAcY,OAAgD,YAAxBZ,EAAcY,OACpDZ,EAAcgB,SAIU,kBAArB5C,EAAOyI,WACd8H,IACA3O,EAAckQ,MAAM9R,EAAOyI,YAK3B7G,EAAckQ,MAAM,MAGpB9R,EAAOmC,cACPnC,EAAOmC,gBAUflI,KAAKuW,WAAa,GA4BlBvW,KAAK2I,KAAO,SAASxG,GACjBA,EAAWA,GAAY,aAEvB9F,EAAKsb,iBAAkB,EAElBhQ,IAIL3H,KAAKmX,kBAAoBhV,EAEG,cAAxBwF,EAAcY,OACdZ,EAAcgB,OAGc,kBAArB5C,EAAOyI,WACd/F,WAAW,WACPpM,EAAKmI,KAAO,IAAIsG,KAAKuL,EAAc,CAC/B9V,KAAMiW,EAAYzQ,KAGtB1J,EAAK8a,kBAAkB9a,EAAKmI,OAC7B,OAWXxE,KAAK8J,MAAQ,WACJnC,GAIuB,cAAxBA,EAAcY,OACdZ,EAAcmC,SAWtB9J,KAAK+J,OAAS,WACLpC,GAIuB,WAAxBA,EAAcY,OACdZ,EAAcoC,UAWtB/J,KAAK4H,kBAAoB,WACjBD,GAAyC,cAAxBA,EAAcY,OAC/BlM,EAAKsM,KAAK+N,GAGdA,KAuBJ1W,KAAKyL,oBAAsB,WACvB,OAAO9D,GAwBX3H,KAAKwE,KAAO,KAWZxE,KAAKuM,SAAW,WACZ,OAAK5E,GAIEA,EAAcY,OAHV,YAOf,IAAIwO,EAAY,GAUhB/W,KAAK8X,aAAe,WAChB,OAAOf,GAOkC,qBAAlChR,EAAOgS,yBACdhS,EAAOgS,wBAAyB,GAGhC1b,EAAO2D,MAIX,SAAU0X,IACN,GAAK/P,IAAmD,IAAlC5B,EAAOgS,uBAI7B,OAA8B,IAA1BpB,KACK5Q,EAAO2B,aACRjC,QAAQgC,IAAI,mCAEhBpL,EAAKsM,aAITF,WAAWiP,EAAQ,MAbvB,GAiBA1X,KAAKsI,KAAO,sBACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI;;;;;;;;;;;;;;;;;;;;;AAkCpB,SAASlE,EAAoBkD,EAAavB,GACtC,IAAKqH,EAAU9F,EAAa,SAAStM,OACjC,KAAM,mCAGV+K,EAASA,GAAU,GAEnB,IAOIiS,EAPA3b,EAAO2D,KAGPiY,EAAc,GACdC,EAAe,GACfrX,GAAY,EACZsX,EAAkB,EAGlB5J,EAAwB,EAYxBlK,EAAkB0B,EAAO1B,gBA2B7B,SAASsS,IACL,IAAsC,IAAlC5Q,EAAOgS,uBAEP,OAAO,EAGX,GAAI,WAAYzQ,GACZ,IAAKA,EAAYsP,OACb,OAAO,OAER,GAAI,UAAWtP,GACdA,EAAYuP,MACZ,OAAO,EAGf,OAAO,EAyBX,SAASuB,EAAsBrS,EAAQ5D,GACnC,SAASkW,EAAkBtS,EAAQuS,GAC/B,IA2FIC,EA3FAhK,EAAwBxI,EAAOwI,sBAG/BiK,EAAczS,EAAOyS,YAAYC,MAAM,GACvCC,EAAe3S,EAAO2S,aAAaD,MAAM,GACzCrM,EAAarG,EAAOqG,WACpBuM,EAA4B5S,EAAO4S,0BACnCtU,EAAkB0B,EAAO1B,gBA2B7B,SAASuU,EAAiB3a,EAAM4a,EAAeC,GAC3C,IAAIC,EAAWvG,KAAK6B,MAAMpW,EAAKjD,QAAU6d,EAAgBC,IACrDE,EAAU,GACVC,EAAeC,QAAQjb,EAAKjD,OAAS,IAAM+d,EAAW,IAC1DC,EAAQ,GAAK/a,EAAK,GAClB,IAAK,IAAIa,EAAI,EAAGA,EAAIia,EAAW,EAAGja,IAAK,CACnC,IAAIqa,EAAMra,EAAIma,EACVG,EAASF,OAAO1G,KAAKsB,MAAMqF,IAAME,UACjCC,EAAQJ,OAAO1G,KAAK+G,KAAKJ,IAAME,UAC/BG,EAAUL,EAAMC,EACpBJ,EAAQla,GAAK2a,EAAkBxb,EAAKmb,GAASnb,EAAKqb,GAAQE,GAG9D,OADAR,EAAQD,EAAW,GAAK9a,EAAKA,EAAKjD,OAAS,GACpCge,EAGX,SAASS,EAAkBL,EAAQE,EAAOE,GACtC,OAAOJ,GAAUE,EAAQF,GAAUI,EAGvC,SAASE,EAAaC,EAAeC,GAKjC,IAJA,IAAIpd,EAAS,IAAIqd,aAAaD,GAC1BE,EAAS,EACTC,EAAMJ,EAAc3e,OAEf8D,EAAI,EAAGA,EAAIib,EAAKjb,IAAK,CAC1B,IAAIuN,EAASsN,EAAc7a,GAC3BtC,EAAOwd,IAAI3N,EAAQyN,GACnBA,GAAUzN,EAAOrR,OAGrB,OAAOwB,EAGX,SAASyd,EAAWC,EAAaC,GAO7B,IANA,IAAInf,EAASkf,EAAYlf,OAASmf,EAAanf,OAE3CwB,EAAS,IAAIqd,aAAa7e,GAE1Bof,EAAa,EAER7d,EAAQ,EAAGA,EAAQvB,GACxBwB,EAAOD,KAAW2d,EAAYE,GAC9B5d,EAAOD,KAAW4d,EAAaC,GAC/BA,IAEJ,OAAO5d,EAGX,SAAS6d,EAActF,EAAM+E,EAAQva,GAEjC,IADA,IAAIwa,EAAMxa,EAAOvE,OACR8D,EAAI,EAAGA,EAAIib,EAAKjb,IACrBiW,EAAKuF,SAASR,EAAShb,EAAGS,EAAOgb,WAAWzb,IA7EtB,IAA1ByP,IACAiK,EAAckB,EAAalB,EAAaG,GACxCD,EAAegB,EAAahB,EAAcC,GAEtCtU,IACAmU,EAAcI,EAAiBJ,EAAanU,EAAiB+H,GAC7DsM,EAAeE,EAAiBF,EAAcrU,EAAiB+H,KAIzC,IAA1BmC,IACAiK,EAAckB,EAAalB,EAAaG,GAEpCtU,IACAmU,EAAcI,EAAiBJ,EAAanU,EAAiB+H,KAKjE/H,IACA+H,EAAa/H,GAgEa,IAA1BkK,IACAgK,EAAc0B,EAAWzB,EAAaE,IAGZ,IAA1BnK,IACAgK,EAAcC,GAGlB,IAAIgC,EAAoBjC,EAAYvd,OAGhCyf,EAAwB,GAAyB,EAApBD,EAE7BnO,EAAS,IAAI1N,YAAY8b,GAEzB1F,EAAO,IAAInW,SAASyN,GAGxBgO,EAActF,EAAM,EAAG,QAIvBA,EAAK2F,UAAU,EAAG,GAAyB,EAApBF,GAAuB,GAG9CH,EAActF,EAAM,EAAG,QAIvBsF,EAActF,EAAM,GAAI,QAGxBA,EAAK2F,UAAU,GAAI,IAAI,GAGvB3F,EAAK4F,UAAU,GAAI,GAAG,GAGtB5F,EAAK4F,UAAU,GAAIpM,GAAuB,GAG1CwG,EAAK2F,UAAU,GAAItO,GAAY,GAG/B2I,EAAK2F,UAAU,GAAiB,EAAbtO,GAAgB,GAGnC2I,EAAK4F,UAAU,GAA4B,EAAxBpM,GAA2B,GAG9CwG,EAAK4F,UAAU,GAAI,IAAI,GAIvBN,EAActF,EAAM,GAAI,QAGxBA,EAAK2F,UAAU,GAAwB,EAApBF,GAAuB,GAM1C,IAHA,IAAIT,EAAMS,EACNje,EAAQ,GACRqe,EAAS,EACJ9b,EAAI,EAAGA,EAAIib,EAAKjb,IACrBiW,EAAK8F,SAASte,EAAOgc,EAAYzZ,IAAM,MAAS8b,IAAS,GACzDre,GAAS,EAGb,GAAI+b,EACA,OAAOA,EAAG,CACNjM,OAAQA,EACR0I,KAAMA,IAId7K,YAAY,CACRmC,OAAQA,EACR0I,KAAMA,IAId,GAAIhP,EAAO+U,SACPzC,EAAkBtS,EAAQ,SAAS9H,GAC/BkE,EAASlE,EAAKoO,OAAQpO,EAAK8W,YAFnC,CAQA,IAAIrK,EAAYC,EAAmB0N,GAEnC3N,EAAUE,UAAY,SAASJ,GAC3BrI,EAASqI,EAAMvM,KAAKoO,OAAQ7B,EAAMvM,KAAK8W,MAGvC7L,EAAI+B,gBAAgBP,EAAUqQ,WAG9BrQ,EAAUsQ,aAGdtQ,EAAUR,YAAYnE,IAG1B,SAAS4E,EAAmBE,GACxB,IAAIkQ,EAAY7R,EAAIC,gBAAgB,IAAI2B,KAAK,CAACD,EAAUE,WACpD,sCAAwCF,EAAUvC,KAAO,gBAC1D,CACC/H,KAAM,4BAGNyK,EAAS,IAAIX,OAAO0Q,GAExB,OADA/P,EAAO+P,UAAYA,EACZ/P,EA0EX,IA1V2B,IAAvBjF,EAAOmU,cACP3L,EAAwB,GAGS,IAAjCxI,EAAOwI,wBACPA,EAAwB,KAGvBA,GAAyBA,EAAwB,KAClDA,EAAwB,GAGvBxI,EAAO2B,aACRjC,QAAQgC,IAAI,4DAA8D8G,GAOjC,qBAAlCxI,EAAOgS,yBACdhS,EAAOgS,wBAAyB,GA4BpC/X,KAAK6H,OAAS,WACV,IAA8B,IAA1B8O,IACA,KAAM,0CAGVsE,IAEAC,EAAwBC,GAAW,EACnCta,GAAY,EAEoB,qBAArBkF,EAAOyI,WACdkJ,KAiOR1X,KAAK2I,KAAO,SAASxG,GACjBA,EAAWA,GAAY,aAGvBtB,GAAY,EAEZuX,EAAsB,CAClB/T,gBAAiBA,EACjB+H,WAAYA,EACZmC,sBAAuBA,EACvBoK,0BAA2BR,EAC3BK,YAAaP,EACbS,aAAwC,IAA1BnK,EAA8B,GAAK2J,EACjD4C,SAAU/U,EAAO+U,UAClB,SAASzO,EAAQ0I,GAShB1Y,EAAKmI,KAAO,IAAIsG,KAAK,CAACiK,GAAO,CACzBxU,KAAM,cAWVlE,EAAKgQ,OAAS,IAAI1N,YAAYoW,EAAK1I,OAAO+O,YAU1C/e,EAAK0Y,KAAOA,EAEZ1Y,EAAK+P,WAAa/H,GAAmB+H,EACrC/P,EAAK8P,WAAaA,EAGlB9P,EAAKrB,OAASmd,EAEd+C,GAAwB,EAEpB/Y,GACAA,EAAS9F,EAAKmI,SAKH,qBAAZkI,EACP,IAAIA,EAAU,CACVC,wBAAyB,KACzBoG,aAAcrC,OAAOqC,cAAgBrC,OAAOsC,oBAI/CtG,EAAQC,0BACTD,EAAQC,wBAA0B,IAAID,EAAQqG,cAGlD,IAAIsI,EAAU3O,EAAQC,wBACtBvF,EAAgBiU,EAGhB,IAAIC,EAAaD,EAAQE,wBAAwBjU,GAE7CkU,EAAoB,CAAC,EAAG,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,OAmB1DrP,EAA0C,qBAAtBpG,EAAOoG,WAA6B,KAAOpG,EAAOoG,WAQ1E,IAN+C,IAA3CqP,EAAkBrI,QAAQhH,KACrBpG,EAAO2B,aACRjC,QAAQgC,IAAI,oCAAsCb,IAAe4U,EAAmB,KAAM,QAI9FH,EAAQI,qBACRzD,EAAcqD,EAAQI,qBAAqBtP,EAAYoC,EAAuBA,OAC3E,KAAI8M,EAAQK,sBAGf,KAAM,+CAFN1D,EAAcqD,EAAQK,sBAAsBvP,EAAYoC,EAAuBA,GAMnF+M,EAAWK,QAAQ3D,GAEdjS,EAAOoG,aACRA,EAAa6L,EAAY7L,YAoB7B,IAAIC,EAA0C,qBAAtBrG,EAAOqG,WAA6BrG,EAAOqG,WAAaiP,EAAQjP,YAAc,OAElGA,EAAa,OAASA,EAAa,QAE9BrG,EAAO2B,aACRjC,QAAQgC,IAAI,qDAIf1B,EAAO2B,aACJ3B,EAAO1B,iBACPoB,QAAQgC,IAAI,wBAA0B1B,EAAO1B,iBAIrD,IAAI8W,GAAW,EAoDf,SAASF,IACLhD,EAAc,GACdC,EAAe,GACfC,EAAkB,EAClB+C,GAAwB,EACxBra,GAAY,EACZsa,GAAW,EACXE,EAAU,KAEVhf,EAAK4b,YAAcA,EACnB5b,EAAK6b,aAAeA,EACpB7b,EAAKkS,sBAAwBA,EAC7BlS,EAAKgI,gBAAkBA,EACvBhI,EAAK+P,WAAaA,EAClB/P,EAAK8b,gBAAkBA,EAEvByD,EAAwB,CACpBC,KAAM,GACNC,MAAO,GACP3D,gBAAiB,GAIzB,SAASzB,IACDsB,IACAA,EAAY+D,eAAiB,KAC7B/D,EAAYgE,aACZhE,EAAc,MAGdsD,IACAA,EAAWU,aACXV,EAAa,MAGjBL,IA/EJjb,KAAK8J,MAAQ,WACTqR,GAAW,GAUfnb,KAAK+J,OAAS,WACV,IAA8B,IAA1B4M,IACA,KAAM,0CAGV,IAAK9V,EAKD,OAJKkF,EAAO2B,aACRjC,QAAQgC,IAAI,4CAEhBzH,KAAK6H,SAITsT,GAAW,GAUfnb,KAAK4H,kBAAoB,WACrB7B,EAAOgS,wBAAyB,EAE5BlX,GACAb,KAAK2I,KAAK+N,GAGdA,KA0CJ1W,KAAKsI,KAAO,sBACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI,MAGhB,IAAI4S,GAAwB,EAE5B,SAASe,EAA4B7S,GACjC,IAAI+R,EAYJ,IAR8B,IAA1BxE,MACK5Q,EAAO2B,aACRjC,QAAQgC,IAAI,8BAEhBuQ,EAAYgE,aACZnb,GAAY,GAGXA,EAAL,CAeKqa,IACDA,GAAwB,EACpBnV,EAAOmW,uBACPnW,EAAOmW,wBAGPnW,EAAOmC,cACPnC,EAAOmC,gBAIf,IAAI2T,EAAOzS,EAAE+S,YAAYC,eAAe,GAGpCC,EAAS,IAAIC,aAAaT,GAG9B,GAFA5D,EAAYxb,KAAK4f,GAEa,IAA1B9N,EAA6B,CAC7B,IAAIuN,EAAQ1S,EAAE+S,YAAYC,eAAe,GACrCG,EAAU,IAAID,aAAaR,GAC/B5D,EAAazb,KAAK8f,GAGtBpE,GAAmBhM,EAGnB9P,EAAK8b,gBAAkBA,EAES,qBAArBpS,EAAOyI,YACdoN,EAAsBzD,iBAAmBhM,EACzCyP,EAAsBC,KAAKpf,KAAK4f,GAEF,IAA1B9N,GACAqN,EAAsBE,MAAMrf,KAAK8f,SA/CjCjB,IACAA,EAAWU,aACXV,EAAa,MAkDzBtD,EAAY+D,eAAiBE,EAGzBZ,EAAQmB,6BACRxE,EAAY2D,QAAQN,EAAQmB,gCAE5BxE,EAAY2D,QAAQN,EAAQoB,aAIhCzc,KAAKiY,YAAcA,EACnBjY,KAAKkY,aAAeA,EACpBlY,KAAKuO,sBAAwBA,EAC7BvO,KAAKqE,gBAAkBA,EACvBrE,KAAKoM,WAAaA,EAClB/P,EAAK8b,gBAAkBA,EAGvB,IAAIyD,EAAwB,CACxBC,KAAM,GACNC,MAAO,GACP3D,gBAAiB,GAIrB,SAAST,IACA7W,GAA+C,oBAA3BkF,EAAOmR,iBAA8D,qBAArBnR,EAAOyI,YAI5EoN,EAAsBC,KAAK7gB,QAC3Bod,EAAsB,CAClB/T,gBAAiBA,EACjB+H,WAAYA,EACZmC,sBAAuBA,EACvBoK,0BAA2BiD,EAAsBzD,gBACjDK,YAAaoD,EAAsBC,KACnCnD,aAAwC,IAA1BnK,EAA8B,GAAKqN,EAAsBE,OACxE,SAASzP,EAAQ0I,GAChB,IAAIvQ,EAAO,IAAIsG,KAAK,CAACiK,GAAO,CACxBxU,KAAM,cAEVwF,EAAOmR,gBAAgB1S,GAEvBiE,WAAWiP,EAAQ3R,EAAOyI,aAG9BoN,EAAwB,CACpBC,KAAM,GACNC,MAAO,GACP3D,gBAAiB,IAGrB1P,WAAWiP,EAAQ3R,EAAOyI;;;;;;;;;;;;;;;;;;AA8BtC,SAASxB,EAAe0P,EAAa3W,GACjC,GAA2B,qBAAhB4W,YACP,KAAM,+DAGV5W,EAASA,GAAU,GACdA,EAAOiJ,gBACRjJ,EAAOiJ,cAAgB,IAI3B,IAAI4N,GAAkC,EACtC,CAAC,gBAAiB,mBAAoB,uBAAuB7T,QAAQ,SAASjH,GACtEA,KAAQ+O,SAASC,cAAc,YAC/B8L,GAAkC,KAI1C,IAgBIC,EAAcC,EAoBdC,EApCAC,KAAetM,OAAOuM,2BAA6BvM,OAAOwC,uBAAyBxC,OAAOwM,OAE1FC,EAAgB,GAChBC,EAAalY,UAAUyL,UAAU0M,MAAM,4BAe3C,GAdIL,GAAaI,GAAcA,EAAW,KACtCD,EAAgBlW,IAASmW,EAAW,GAAI,KAGxCJ,GAAaG,EAAgB,KAC7BP,GAAkC,GAGlC7W,EAAOuX,oBACPV,GAAkC,GAKlCA,EAKA,GAJK7W,EAAO2B,aACRjC,QAAQgC,IAAI,yEAGZiV,aAAuBa,kBACvBV,EAAeH,MACZ,MAAIA,aAAuBc,0BAG9B,KAAM,oEAFNX,EAAeH,EAAY3N,YAItB7J,UAAUoF,kBACdvE,EAAO2B,aACRjC,QAAQF,MAAM,kDAatBvF,KAAK6H,OAAS,WAGV,GAFAkV,GAAc,EAEVH,IAAoC7W,EAAOuX,kBAAmB,CAE9D,IAAIG,EACA,kBAAmBZ,EACnBY,EAAoBZ,EAAa9L,cAAc,IACxC,qBAAsB8L,EAC7BY,EAAoBZ,EAAa7L,iBAAiB,IAC3C,wBAAyB6L,IAChCY,EAAoBZ,EAAaa,oBAAoB,KAGzD,IACI,IAAIC,EAAW,IAAI/O,EACnB+O,EAAS9O,SAASzB,EAAUqQ,EAAmB,SAAS,IACxDA,EAAoBE,EACtB,MAAOvU,IAET,IAAKqU,EACD,KAAM,uCAKVX,EAAsB,IAAI3P,EAAoBsQ,EAAmB,CAC7DnQ,SAAUvH,EAAOuH,UAAY,eAEjCwP,EAAoBjV,cAEpB+V,EAAOC,OAAS,GAChB3L,GAAW,IAAIG,MAAOC,UACtBwL,IAGA/X,EAAOmC,cACPnC,EAAOmC,gBAIflI,KAAK+d,cAAgB,SAAS5b,GAC1B,GAA2C,WAAvCua,EAAYsB,SAASxK,cAAzB,CAKA,IAAIyK,EAAeL,EAAOC,OAAO7iB,OACjC4iB,EAAOC,OAAO9U,QAAQ,SAASmV,EAAOC,GAClC,IAAIC,EAAkBH,EAAeE,EAChCpY,EAAO2B,aACRjC,QAAQgC,IAAI2W,EAAkB,IAAMH,EAAe,qBAGnDlY,EAAOsY,oBACPtY,EAAOsY,mBAAmBD,EAAiBH,GAG/C,IAAIK,EAAOJ,EAAMhS,MAAMmF,UAAU,aAAc,GAC/CuM,EAAOC,OAAOM,GAAKjS,MAAQoS,IAG1BvY,EAAO2B,aACRjC,QAAQgC,IAAI,mBAGhBtF,SAvBIA,KAoCRnC,KAAK2I,KAAO,SAASxG,GACjB4a,GAAc,EAEd,IAAI9gB,EAAO+D,KAEP4c,GAAmCE,EACnCA,EAAoBnU,KAAKxG,GAI7BnC,KAAK+d,cAAc,WASfH,EAAOW,QAAQ,SAAS/Z,GACfuB,EAAO2B,aACRjC,QAAQgC,IAAI,uBAGhBxL,EAAKuI,KAAOA,EAERvI,EAAKuI,KAAKuE,UACV9M,EAAKuI,KAAO,IAAIsG,KAAK,GAAI,CACrBvK,KAAM,gBAIV4B,GACAA,EAASlG,EAAKuI,MAGlBoZ,EAAOC,OAAS,QAK5B,IAAIW,GAAoB,EAoDxB,SAAS9H,IACLkH,EAAOC,OAAS,GAChBd,GAAc,EACdyB,GAAoB,EASxB,SAASC,IAEL,IAAIC,EAAY7N,SAASC,cAAc,UACnCuK,EAAUqD,EAAUxN,WAAW,MAUnC,OAPAwN,EAAU9M,MAAQ8K,EAAY9K,MAC9B8M,EAAU7M,OAAS6K,EAAY7K,OAG/BwJ,EAAQjK,UAAUsL,EAAa,EAAG,GAG3BgC,EAGX,SAASZ,IACL,GAAIU,EAEA,OADAtM,GAAW,IAAIG,MAAOC,UACf7J,WAAWqV,EAAiB,KAGvC,GAA2C,WAAvCpB,EAAYsB,SAASxK,cAA4B,CACjD,IAAIvH,GAAW,IAAIoG,MAAOC,UAAYJ,EAYtC,OAVAA,GAAW,IAAIG,MAAOC,UAEtBsL,EAAOC,OAAOphB,KAAK,CACfyP,MAAOuS,IACPxS,SAAUA,SAGV8Q,GACAtU,WAAWqV,EAAiB/X,EAAOiJ,gBAK3C2N,YAAYD,EAAa,CACrBiC,UAA8C,qBAA5B5Y,EAAO6Y,kBAAoC7Y,EAAO6Y,iBACpEC,WAAY,SAAS9P,GACjB,IAAI9C,GAAW,IAAIoG,MAAOC,UAAYJ,EACtC,IAAKjG,EACD,OAAOxD,WAAWqV,EAAiB/X,EAAOiJ,eAI9CkD,GAAW,IAAIG,MAAOC,UAEtBsL,EAAOC,OAAOphB,KAAK,CACfyP,MAAO6C,EAAOsC,UAAU,aAAc,GACtCpF,SAAUA,IAGV8Q,GACAtU,WAAWqV,EAAiB/X,EAAOiJ,kBA9GnDhP,KAAK8J,MAAQ,WACT0U,GAAoB,EAEhB1B,aAA+B3P,GAC/B2P,EAAoBhT,SAY5B9J,KAAK+J,OAAS,WACVyU,GAAoB,EAEhB1B,aAA+B3P,EAC/B2P,EAAoB/S,SAInBgT,GACD/c,KAAK6H,UAWb7H,KAAK4H,kBAAoB,WACjBmV,GACA/c,KAAK2I,KAAK+N,GAEdA,KAUJ1W,KAAKsI,KAAO,iBACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI,MAgEhB,IAAI4J,GAAW,IAAIG,MAAOC,UAEtBsL,EAAS,IAAIkB,EAAOC,MAAM;;;;;;;;;;;;;;;;;;AA4BlC,SAAShS,EAAezF,EAAavB,GAuFjC,SAASiZ,EAAWhQ,GAChBA,EAAyC,qBAAlBA,EAAgCA,EAAgB,GAEvE,IAAI/C,GAAW,IAAIoG,MAAOC,UAAYJ,EACtC,OAAKjG,EAIDuS,GACAtM,GAAW,IAAIG,MAAOC,UACf7J,WAAWuW,EAAY,OAIlC9M,GAAW,IAAIG,MAAOC,UAElBxF,EAAMmS,QAGNnS,EAAMqE,OAGVkK,EAAQjK,UAAUtE,EAAO,EAAG,EAAGiC,EAAO6C,MAAO7C,EAAO8C,QACpD+L,EAAOC,OAAOphB,KAAK,CACfwP,SAAUA,EACVC,MAAO6C,EAAOsC,UAAU,qBAGvB6N,GACDzW,WAAWuW,EAAYhQ,EAAeA,KAxB/BvG,WAAWuW,EAAYhQ,EAAeA,GA4BrD,SAASmQ,EAAUC,GACf,IAAItgB,GAAK,EACL9D,EAASokB,EAAEpkB,QAEf,SAAUqkB,IACNvgB,IACIA,IAAM9D,EAMVyN,WAAW,WACP2W,EAAEE,eAAeD,EAAMvgB,IACxB,GAPCsgB,EAAEjd,YAHV,GAwBJ,SAASod,EAAgBC,EAASC,EAAgBC,EAAeC,EAAiBxd,GAC9E,IAAIyd,EAAc/O,SAASC,cAAc,UACzC8O,EAAYhO,MAAQ7C,EAAO6C,MAC3BgO,EAAY/N,OAAS9C,EAAO8C,OAC5B,IAAIgO,EAAYD,EAAY1O,WAAW,MACnC4O,EAAe,GAEfC,GAAyC,IAApBN,EACrBO,EAAiBP,GAAkBA,EAAiB,GAAKA,GAAkBD,EAAQxkB,OACnFykB,EAAiBD,EAAQxkB,OACzBilB,EAAc,CACdC,EAAG,EACHC,EAAG,EACHC,EAAG,GAEHC,EAAqB7N,KAAK8N,KAC1B9N,KAAKuB,IAAI,IAAK,GACdvB,KAAKuB,IAAI,IAAK,GACdvB,KAAKuB,IAAI,IAAK,IAEdwM,EAAeb,GAAiBA,GAAiB,GAAKA,GAAiB,EAAIA,EAAgB,EAC3Fc,EAAiBb,GAAmBA,GAAmB,GAAKA,GAAmB,EAAIA,EAAkB,EACrGc,GAAiB,EAErBtB,EAAU,CACNnkB,OAAQglB,EACRV,eAAgB,SAASD,EAAM/iB,GAC3B,IAAIokB,EAAeC,EAAaC,EAE5BC,EAAc,YACTJ,GAAkBG,EAAcF,GAAiBE,EAAcJ,IAI5DT,IACAU,GAAiB,GAErBX,EAAarjB,KAAK+iB,EAAQljB,KAE9B+iB,KAGJ,GAAKoB,EA6BDI,QA7BiB,CACjB,IAAI3U,EAAQ,IAAI4U,MAChB5U,EAAM3B,OAAS,WACXsV,EAAUzO,UAAUlF,EAAO,EAAG,EAAG6C,EAAO6C,MAAO7C,EAAO8C,QACtD,IAAIkP,EAAYlB,EAAUmB,aAAa,EAAG,EAAGjS,EAAO6C,MAAO7C,EAAO8C,QAClE6O,EAAgB,EAChBC,EAAcI,EAAU9iB,KAAKjD,OAC7B4lB,EAAcG,EAAU9iB,KAAKjD,OAAS,EAEtC,IAAK,IAAIimB,EAAM,EAAGA,EAAMN,EAAaM,GAAO,EAAG,CAC3C,IAAIC,EAAe,CACfhB,EAAGa,EAAU9iB,KAAKgjB,GAClBd,EAAGY,EAAU9iB,KAAKgjB,EAAM,GACxBb,EAAGW,EAAU9iB,KAAKgjB,EAAM,IAExBE,EAAkB3O,KAAK8N,KACvB9N,KAAKuB,IAAImN,EAAahB,EAAID,EAAYC,EAAG,GACzC1N,KAAKuB,IAAImN,EAAaf,EAAIF,EAAYE,EAAG,GACzC3N,KAAKuB,IAAImN,EAAad,EAAIH,EAAYG,EAAG,IAGzCe,GAAmBd,EAAqBE,GACxCG,IAGRG,KAEJ3U,EAAMkV,IAAM5B,EAAQljB,GAAG4P,QAK/B/J,SAAU,WACN2d,EAAeA,EAAauB,OAAO7B,EAAQ/G,MAAMuH,IAE7CF,EAAa9kB,QAAU,GAGvB8kB,EAAarjB,KAAK+iB,EAAQA,EAAQxkB,OAAS,IAE/CmH,EAAS2d,MApOrB/Z,EAASA,GAAU,GAEdA,EAAOiJ,gBACRjJ,EAAOiJ,cAAgB,IAGtBjJ,EAAO2B,aACRjC,QAAQgC,IAAI,yBAA0B1B,EAAOiJ,eAUjDhP,KAAK6H,OAAS,WACL9B,EAAO6L,QACR7L,EAAO6L,MAAQ,KAGd7L,EAAO8L,SACR9L,EAAO8L,OAAS,KAGf9L,EAAO+G,QACR/G,EAAO+G,MAAQ,CACX8E,MAAO7L,EAAO6L,MACdC,OAAQ9L,EAAO8L,SAIlB9L,EAAOgJ,SACRhJ,EAAOgJ,OAAS,CACZ6C,MAAO7L,EAAO6L,MACdC,OAAQ9L,EAAO8L,SAIvB9C,EAAO6C,MAAQ7L,EAAOgJ,OAAO6C,OAAS,IACtC7C,EAAO8C,OAAS9L,EAAOgJ,OAAO8C,QAAU,IAExCwJ,EAAUtM,EAAOmC,WAAW,MAGxBnL,EAAO+G,OAAS/G,EAAO+G,iBAAiBwE,kBACxCxE,EAAQ/G,EAAO+G,MAAMwU,YAEjBvb,EAAOmC,cACPnC,EAAOmC,iBAGX4E,EAAQ+D,SAASC,cAAc,SAE/B0E,EAAalO,EAAawF,GAE1BA,EAAMyU,iBAAmB,WACjBxb,EAAOmC,cACPnC,EAAOmC,gBAIf4E,EAAM8E,MAAQ7L,EAAO+G,MAAM8E,MAC3B9E,EAAM+E,OAAS9L,EAAO+G,MAAM+E,QAGhC/E,EAAM0U,OAAQ,EACd1U,EAAMqE,OAENe,GAAW,IAAIG,MAAOC,UACtBsL,EAAS,IAAIkB,EAAOC,MAEfhZ,EAAO2B,cACRjC,QAAQgC,IAAI,qBAAsBsH,EAAO6C,MAAO,IAAK7C,EAAO8C,QAC5DpM,QAAQgC,IAAI,qBAAsBqF,EAAM8E,OAAS7C,EAAO6C,MAAO,IAAK9E,EAAM+E,QAAU9C,EAAO8C,SAG/FmN,EAAWjZ,EAAOiJ,gBA2JtB,IAAIkQ,GAAgB,EAYpBlf,KAAK2I,KAAO,SAASxG,GACjBA,EAAWA,GAAY,aAEvB+c,GAAgB,EAEhB,IAAInb,EAAQ/D,KAEZyI,WAAW,WAIP8W,EAAgB3B,EAAOC,QAAS,EAAG,KAAM,KAAM,SAASA,GACpDD,EAAOC,OAASA,EAGZ9X,EAAOiG,eAAiBjG,EAAOiG,cAAchR,SAC7C4iB,EAAOC,OAAS9X,EAAOiG,cAAcqV,OAAOzD,EAAOC,SAWvDD,EAAOW,QAAQ,SAAS/Z,GACpBT,EAAMS,KAAOA,EAETT,EAAMS,KAAKuE,UACXhF,EAAMS,KAAO,IAAIsG,KAAK,GAAI,CACtBvK,KAAM,gBAIV4B,GACAA,EAAS4B,EAAMS,WAI5B,KAGP,IAAIga,GAAoB,EA0CxB,SAAS9H,IACLkH,EAAOC,OAAS,GAChBqB,GAAgB,EAChBV,GAAoB,EApCxBxe,KAAK8J,MAAQ,WACT0U,GAAoB,GAUxBxe,KAAK+J,OAAS,WACVyU,GAAoB,EAEhBU,GACAlf,KAAK6H,UAWb7H,KAAK4H,kBAAoB,WAChBsX,GACDlf,KAAK2I,KAAK+N,GAEdA,KAUJ1W,KAAKsI,KAAO,iBACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI,MAGhB,IAGIwE,EACAoF,EACA0L,EALA7O,EAAS8B,SAASC,cAAc,UAChCuK,EAAUtM,EAAOmC,WAAW,MAl7DR,qBAAjB6B,EACPrG,EAAQqG,aAAeA,EACc,qBAAvBC,qBACdtG,EAAQqG,aAAeC,oBAGF,qBAAd3L,IACPA,EAAUqF,QAAUA,GAshBC,qBAAdrF,IACPA,EAAU8F,oBAAsBA,GA+sBX,qBAAd9F,IACPA,EAAUjD,oBAAsBA,GAiVX,qBAAdiD,IACPA,EAAU2F,eAAiBA,GAyXN,qBAAd3F,IACPA,EAAU0F,eAAiBA;;;;;;;;;;;;;;AAyB/B,IAAI+R,EAAU,WAGV,SAAS2C,EAAYxV,GACjBjM,KAAK6d,OAAS,GACd7d,KAAKiM,SAAWA,GAAY,EAC5BjM,KAAKqP,QAAU,GA+BnB,SAAS1E,EAAmBE,GACxB,IAAIrG,EAAO0E,EAAIC,gBAAgB,IAAI2B,KAAK,CAACD,EAAUE,WAC/C,qCAAuCF,EAAUvC,KAAO,gBACzD,CACC/H,KAAM,4BAGNyK,EAAS,IAAIX,OAAO7F,GAExB,OADA0E,EAAI+B,gBAAgBzG,GACbwG,EAGX,SAAS0W,EAAkB7D,GACvB,SAAS8D,EAAY9D,GACjB,IAAI+D,EAAOC,EAAYhE,GACvB,IAAK+D,EACD,MAAO,GAGX,IAAIE,EAAqB,IAErBC,EAAO,CAAC,CACR7jB,GAAM,UACND,KAAQ,CAAC,CACLA,KAAQ,EACRC,GAAM,OACP,CACCD,KAAQ,EACRC,GAAM,OACP,CACCD,KAAQ,EACRC,GAAM,OACP,CACCD,KAAQ,EACRC,GAAM,OACP,CACCD,KAAQ,OACRC,GAAM,OACP,CACCD,KAAQ,EACRC,GAAM,OACP,CACCD,KAAQ,EACRC,GAAM,SAEX,CACCA,GAAM,UACND,KAAQ,CAAC,CACLC,GAAM,UACND,KAAQ,CAAC,CACLA,KAAQ,IACRC,GAAM,SACP,CACCD,KAAQ,SACRC,GAAM,OACP,CACCD,KAAQ,SACRC,GAAM,OACP,CACCD,KAAQ+jB,EAAeJ,EAAK3V,UAC5B/N,GAAM,SAEX,CACCA,GAAM,UACND,KAAQ,CAAC,CACLC,GAAM,IACND,KAAQ,CAAC,CACLA,KAAQ,EACRC,GAAM,KACP,CACCD,KAAQ,EACRC,GAAM,OACP,CACCD,KAAQ,EACRC,GAAM,KACP,CACCD,KAAQ,MACRC,GAAM,SACP,CACCD,KAAQ,QACRC,GAAM,KACP,CACCD,KAAQ,MACRC,GAAM,SACP,CACCD,KAAQ,EACRC,GAAM,KACP,CACCA,GAAM,IACND,KAAQ,CAAC,CACLA,KAAQ2jB,EAAKhQ,MACb1T,GAAM,KACP,CACCD,KAAQ2jB,EAAK/P,OACb3T,GAAM,cAQtB+jB,EAAc,EACdC,EAAkB,EACtB,MAAOD,EAAcpE,EAAO7iB,OAAQ,CAEhC,IAAImnB,EAAgB,GAChBC,EAAkB,EACtB,GACID,EAAc1lB,KAAKohB,EAAOoE,IAC1BG,GAAmBvE,EAAOoE,GAAahW,SACvCgW,UACKA,EAAcpE,EAAO7iB,QAAUonB,EAAkBN,GAE1D,IAAIO,EAAiB,EACjBC,EAAU,CACVpkB,GAAM,UACND,KAAQskB,EAAeL,EAAiBG,EAAgBF,IAE5DJ,EAAK,GAAG9jB,KAAKxB,KAAK6lB,GAClBJ,GAAmBE,EAGvB,OAAOI,EAAaT,GAGxB,SAASQ,EAAeL,EAAiBG,EAAgBF,GACrD,MAAO,CAAC,CACJlkB,KAAQikB,EACRhkB,GAAM,MACPmjB,OAAOc,EAAcnc,IAAI,SAASsY,GACjC,IAAImE,EAAQC,EAAgB,CACxBC,YAAa,EACbzE,MAAOI,EAAKrgB,KAAKwa,MAAM,GACvBmK,UAAW,EACXC,SAAU,EACVC,OAAQ,EACRC,SAAU,EACVC,SAAUxQ,KAAK6B,MAAMgO,KAGzB,OADAA,GAAkB/D,EAAKrS,SAChB,CACHhO,KAAMwkB,EACNvkB,GAAI,QAOhB,SAAS2jB,EAAYhE,GACjB,GAAKA,EAAO,GAAZ,CAWA,IAJA,IAAIjM,EAAQiM,EAAO,GAAGjM,MAClBC,EAASgM,EAAO,GAAGhM,OACnB5F,EAAW4R,EAAO,GAAG5R,SAEhBnN,EAAI,EAAGA,EAAI+e,EAAO7iB,OAAQ8D,IAC/BmN,GAAY4R,EAAO/e,GAAGmN,SAE1B,MAAO,CACHA,SAAUA,EACV2F,MAAOA,EACPC,OAAQA,GAhBR3H,YAAY,CACR3E,MAAO,qFAmBnB,SAAS0d,EAAYC,GACjB,IAAIC,EAAQ,GACZ,MAAOD,EAAM,EACTC,EAAM1mB,KAAW,IAANymB,GACXA,IAAa,EAEjB,OAAO,IAAIE,WAAWD,EAAME,WAGhC,SAASC,EAAYhkB,GACjB,OAAO,IAAI8jB,WAAW9jB,EAAIL,MAAM,IAAI+G,IAAI,SAASoD,GAC7C,OAAOA,EAAEmR,WAAW,MAI5B,SAASgJ,EAAaC,GAClB,IAAIvlB,EAAO,GACPwlB,EAAOD,EAAKxoB,OAAS,EAAM,IAAI2E,MAAM,EAAS6jB,EAAKxoB,OAAS,GAAK0oB,KAAK,KAAO,GACjFF,EAAOC,EAAMD,EACb,IAAK,IAAI1kB,EAAI,EAAGA,EAAI0kB,EAAKxoB,OAAQ8D,GAAK,EAClCb,EAAKxB,KAAKwK,IAASuc,EAAKG,OAAO7kB,EAAG,GAAI,IAE1C,OAAO,IAAIskB,WAAWnlB,GAG1B,SAASukB,EAAaoB,GAElB,IADA,IAAIC,EAAO,GACF/kB,EAAI,EAAGA,EAAI8kB,EAAK5oB,OAAQ8D,IAAK,CAClC,IAAIb,EAAO2lB,EAAK9kB,GAAGb,KAEC,WAAhBJ,OAAAkJ,EAAA,KAAAlJ,CAAOI,KACPA,EAAOukB,EAAavkB,IAGJ,kBAATA,IACPA,EAAOslB,EAAatlB,EAAK8M,SAAS,KAGlB,kBAAT9M,IACPA,EAAOqlB,EAAYrlB,IAGvB,IAAI6lB,EAAM7lB,EAAKgL,MAAQhL,EAAKmd,YAAcnd,EAAKjD,OAC3C+oB,EAASvR,KAAK+G,KAAK/G,KAAK+G,KAAK/G,KAAK/K,IAAIqc,GAAOtR,KAAK/K,IAAI,IAAM,GAC5Duc,EAAeF,EAAI/Y,SAAS,GAC5BkZ,EAAU,IAAItkB,MAAgB,EAATokB,EAAa,EAAI,EAAKC,EAAahpB,QAAS0oB,KAAK,KAAOM,EAC7E/a,EAAQ,IAAItJ,MAAMokB,GAASL,KAAK,KAAO,IAAMO,EAEjDJ,EAAKpnB,KAAKwmB,EAAYW,EAAK9kB,GAAGZ,KAC9B2lB,EAAKpnB,KAAK8mB,EAAata,IACvB4a,EAAKpnB,KAAKwB,GAGd,OAAO,IAAI6M,KAAK+Y,EAAM,CAClBtjB,KAAM,eAcd,SAASmiB,EAAgBzkB,GACrB,IAAIimB,EAAQ,EAkBZ,GAhBIjmB,EAAK4kB,WACLqB,GAAS,KAGTjmB,EAAK2kB,YACLsB,GAAS,GAGTjmB,EAAK6kB,SACLoB,GAAUjmB,EAAK6kB,QAAU,GAGzB7kB,EAAK0kB,cACLuB,GAAS,GAGTjmB,EAAK8kB,SAAW,IAChB,KAAM,kCAGV,IAAIoB,EAAM,CAAiB,IAAhBlmB,EAAK8kB,SAAiB9kB,EAAK+kB,UAAY,EAAmB,IAAhB/kB,EAAK+kB,SAAiBkB,GAAOle,IAAI,SAASoD,GAC3F,OAAO5J,OAAO4kB,aAAahb,KAC5Bsa,KAAK,IAAMzlB,EAAKigB,MAEnB,OAAOiG,EAGX,SAASE,EAAUC,GAIf,IAHA,IAOI1S,EAAOC,EAAQsH,EAPfoL,EAAMD,EAAKE,KAAK,GAAGC,KAAK,GAExBC,EAAaH,EAAIpR,QAAQ,OACpBrU,EAAI,EAAG6lB,EAAI,GAAI7lB,EAAI,EAAGA,IAC3B6lB,EAAE7lB,GAAKylB,EAAIhK,WAAWmK,EAAa,EAAI5lB,GAU3C,OAJAqa,EAAOwL,EAAE,IAAM,EAAKA,EAAE,GACtB/S,EAAc,MAANuH,EACRA,EAAOwL,EAAE,IAAM,EAAKA,EAAE,GACtB9S,EAAe,MAANsH,EACF,CACHvH,MAAOA,EACPC,OAAQA,EACR5T,KAAMsmB,EACND,KAAMA,GAId,SAASM,EAAarlB,EAAQua,GAC1B,OAAO7S,IAAS1H,EAAOokB,OAAO7J,EAAS,EAAG,GAAG7a,MAAM,IAAI+G,IAAI,SAASlH,GAChE,IAAI+lB,EAAW/lB,EAAEyb,WAAW,GAAGxP,SAAS,GACxC,OAAQ,IAAIpL,MAAM,EAAIklB,EAAS7pB,OAAS,GAAI0oB,KAAK,KAAOmB,IACzDnB,KAAK,IAAK,GAGjB,SAASoB,EAAUvlB,GACf,IAAIua,EAAS,EACTiL,EAAS,GAEb,MAAOjL,EAASva,EAAOvE,OAAQ,CAC3B,IAAIkD,EAAKqB,EAAOokB,OAAO7J,EAAQ,GAC3BgK,EAAMc,EAAarlB,EAAQua,GAC3B7b,EAAOsB,EAAOokB,OAAO7J,EAAS,EAAI,EAAGgK,GACzChK,GAAU,EAAQgK,EAClBiB,EAAO7mB,GAAM6mB,EAAO7mB,IAAO,GAEhB,SAAPA,GAAwB,SAAPA,EACjB6mB,EAAO7mB,GAAIzB,KAAKqoB,EAAU7mB,IAE1B8mB,EAAO7mB,GAAIzB,KAAKwB,GAGxB,OAAO8mB,EAGX,SAAS/C,EAAekB,GACpB,MAAO,GAAGzK,MAAMpP,KACZ,IAAI+Z,WAAY,IAAIvJ,aAAa,CAACqJ,IAAO7W,QAAS,GAAGrG,IAAI,SAASoD,GAClE,OAAO5J,OAAO4kB,aAAahb,KAC5Bia,UAAUK,KAAK,IAGtB,IAAIsB,EAAO,IAAIrD,EAAY9D,EAAO7X,IAAI,SAASkY,GAC3C,IAAII,EAAO+F,EAAUS,EAAUG,KAAK/G,EAAMhS,MAAMuM,MAAM,OAEtD,OADA6F,EAAKrS,SAAWiS,EAAMjS,SACfqS,KAGXpU,YAAY8a,GA4BhB,OA3XAvD,EAAYviB,UAAUgmB,IAAM,SAAShH,EAAOjS,GASxC,GARI,WAAYiS,IACZA,EAAQA,EAAMnP,QAGd,cAAemP,IACfA,EAAQA,EAAM7M,UAAU,aAAcrR,KAAKqP,WAGzC,8BAA+BoE,KAAKyK,GACtC,KAAM,kFAEVle,KAAK6d,OAAOphB,KAAK,CACbyP,MAAOgS,EACPjS,SAAUA,GAAYjM,KAAKiM,YA+VnCwV,EAAYviB,UAAUqf,QAAU,SAASpc,GACrC,IAAIuI,EAAYC,EAAmB+W,GAEnChX,EAAUE,UAAY,SAASJ,GACvBA,EAAMvM,KAAKsH,MACXE,QAAQF,MAAMiF,EAAMvM,KAAKsH,OAG7BpD,EAASqI,EAAMvM,OAGnByM,EAAUR,YAAYlK,KAAK6d,SAGxB,CAUHkB,MAAO0C,GAxZD,GA4ZW,qBAAdpa,IACPA,EAAUyX,OAASA;;;;;;;;;;;;;;;;;;;;;;;;;GAiCvB,IAAInV,EAAc,CASdwb,KAAM,WACF,IAAI9oB,EAAO2D,KAEX,GAAyB,qBAAdolB,WAAuD,qBAAnBA,UAAUC,KAAzD,CAKA,IAEIC,EAFAC,EAAY,EACZC,EAASxlB,KAAKwlB,QAAUjU,SAASE,KAAKxB,QAAQ,qBAAsB,IAEpElN,EAAUqiB,UAAUC,KAAKG,EAAQD,GAkCrCxiB,EAAQ0U,QAAUpb,EAAKopB,QAEvB1iB,EAAQ2iB,UAAY,WAIhB,GAHAJ,EAAKviB,EAAQvG,OACb8oB,EAAG7N,QAAUpb,EAAKopB,QAEdH,EAAGK,WACH,GAAIL,EAAG1Y,UAAY2Y,EAAW,CAC1B,IAAII,EAAaL,EAAGK,WAAWJ,GAC/BI,EAAWD,UAAY,WACnBE,EAAkBN,GAClBO,UAGJA,SAGJA,KAGR9iB,EAAQ+iB,gBAAkB,SAAStb,GAC/Bob,EAAkBpb,EAAMC,OAAOjO,cA9D/BiJ,QAAQF,MAAM,oDASlB,SAASqgB,EAAkBG,GACvBA,EAASH,kBAAkBvpB,EAAK2pB,eAGpC,SAASH,IACL,IAAII,EAAcX,EAAGW,YAAY,CAAC5pB,EAAK2pB,eAAgB,aAcvD,SAASE,EAAaC,GAClBF,EAAYG,YAAY/pB,EAAK2pB,eAAeK,IAAIF,GAAaT,UAAY,SAASlb,GAC1EnO,EAAK8F,UACL9F,EAAK8F,SAASqI,EAAMC,OAAOjO,OAAQ2pB,IAf3C9pB,EAAKkU,WACL0V,EAAYG,YAAY/pB,EAAK2pB,eAAeM,IAAIjqB,EAAKkU,UAAW,aAGhElU,EAAKmU,SACLyV,EAAYG,YAAY/pB,EAAK2pB,eAAeM,IAAIjqB,EAAKmU,QAAS,WAG9DnU,EAAKiU,WACL2V,EAAYG,YAAY/pB,EAAK2pB,eAAeM,IAAIjqB,EAAKiU,UAAW,aAWpE4V,EAAa,aACbA,EAAa,aACbA,EAAa,aAuCrBnW,MAAO,SAAS5N,GAIZ,OAHAnC,KAAKmC,SAAWA,EAChBnC,KAAKmlB,OAEEnlB,MAcX4J,MAAO,SAAS7D,GAOZ,OANA/F,KAAKsQ,UAAYvK,EAAOuK,UACxBtQ,KAAKuQ,UAAYxK,EAAOwK,UACxBvQ,KAAKwQ,QAAUzK,EAAOyK,QAEtBxQ,KAAKmlB,OAEEnlB,MAYXylB,QAAS,SAASlgB,GACdE,QAAQF,MAAMqB,IAAerB,EAAO,KAAM,QAU9CygB,cAAe,YACfR,OAAQ;;;;;;;;;;;;;;;;;AA2BZ,SAAStY,EAAY5F,EAAavB,GAC9B,GAA0B,qBAAfwgB,WAA4B,CACnC,IAAIC,EAAS3V,SAASC,cAAc,UACpC0V,EAAOpF,IAAM,qDACZvQ,SAAS6D,MAAQ7D,SAAS8D,iBAAiBC,YAAY4R,GAG5DzgB,EAASA,GAAU,GAEnB,IAAI0gB,EAAenf,aAAuBkW,0BAA4BlW,aAAuBiW,kBAS7Fvd,KAAK6H,OAAS,WA0EV,SAAS6e,EAAeC,GACpB,IAAiC,IAA7BtqB,EAAKuqB,oBAAT,CAIA,GAAIpI,EACA,OAAO/V,WAAW,WACdie,EAAeC,IAChB,KAGPE,EAAqB/U,EAAsB4U,QAEd5rB,IAAzB+C,OAAAkJ,EAAA,KAAAlJ,CAAOipB,KACPA,EAAgBH,GAIhBA,EAAOG,EAAgB,MAItBL,GAAgB3Z,EAAMmS,QAGvBnS,EAAMqE,OAGLsV,GACDpL,EAAQjK,UAAUtE,EAAO,EAAG,EAAGiC,EAAO6C,MAAO7C,EAAO8C,QAGpD9L,EAAOghB,cACPhhB,EAAOghB,aAAahY,EAAOsC,UAAU,cAGzC2V,EAAWC,SAAS5L,GACpByL,EAAgBH,IA9GM,qBAAfJ,YAKNW,GAKAT,IACI1gB,EAAO6L,QACR7L,EAAO6L,MAAQ9E,EAAMqa,aAAe,KAGnCphB,EAAO8L,SACR9L,EAAO8L,OAAS/E,EAAMsa,cAAgB,KAGrCrhB,EAAO+G,QACR/G,EAAO+G,MAAQ,CACX8E,MAAO7L,EAAO6L,MACdC,OAAQ9L,EAAO8L,SAIlB9L,EAAOgJ,SACRhJ,EAAOgJ,OAAS,CACZ6C,MAAO7L,EAAO6L,MACdC,OAAQ9L,EAAO8L,SAIvB9C,EAAO6C,MAAQ7L,EAAOgJ,OAAO6C,OAAS,IACtC7C,EAAO8C,OAAS9L,EAAOgJ,OAAO8C,QAAU,IAExC/E,EAAM8E,MAAQ7L,EAAO+G,MAAM8E,OAAS,IACpC9E,EAAM+E,OAAS9L,EAAO+G,MAAM+E,QAAU,KAI1CmV,EAAa,IAAIT,WAKjBS,EAAWK,UAAU,GAMrBL,EAAWM,SAASvhB,EAAOqJ,WAAa,KASxC4X,EAAWO,WAAWxhB,EAAOsJ,SAAW,IAIxC2X,EAAWnP,QAEiC,oBAAjC9R,EAAOyhB,uBACdzhB,EAAOyhB,wBAGC9gB,MA0CZmgB,EAAqB/U,EAAsB4U,GAEvC3gB,EAAOmC,cACPnC,EAAOmC,gBAnHPO,WAAWpM,EAAKwL,OAAQ,MAiIhC7H,KAAK2I,KAAO,SAASxG,GACjBA,EAAWA,GAAY,aAEnB0kB,GACAnU,EAAqBmU,GAGfngB,MAUV1G,KAAKwE,KAAO,IAAIsG,KAAK,CAAC,IAAIsY,WAAW4D,EAAW5R,SAASqS,MAAO,CAC5DlnB,KAAM,cAGV4B,EAASnC,KAAKwE,MAGdwiB,EAAW5R,SAASqS,IAAM,IAG9B,IAAIjJ,GAAoB,EAoCxB,SAAS9H,IACDsQ,IACAA,EAAW5R,SAASqS,IAAM,IA7BlCznB,KAAK8J,MAAQ,WACT0U,GAAoB,GAUxBxe,KAAK+J,OAAS,WACVyU,GAAoB,GAUxBxe,KAAK4H,kBAAoB,WACrBvL,EAAKuqB,qBAAsB,EAC3BlQ,KAUJ1W,KAAKsI,KAAO,cACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI,MAGhB,IAAIyG,EAAS8B,SAASC,cAAc,UAChCuK,EAAUtM,EAAOmC,WAAW,MAE5BuV,IACInf,aAAuBkW,0BACvBnC,EAAU/T,EACVyH,EAASsM,EAAQtM,QACVzH,aAAuBiW,oBAC9BlC,EAAU/T,EAAY4J,WAAW,MACjCnC,EAASzH,IAIjB,IAAI4f,GAAmB,EAEvB,IAAKT,EAAc,CACf,IAAI3Z,EAAQ+D,SAASC,cAAc,SACnChE,EAAM0U,OAAQ,EACd1U,EAAM4a,UAAW,EAEjBR,GAAmB,EACnBpa,EAAMyU,iBAAmB,WACrB2F,GAAmB,GAGvB1R,EAAalO,EAAawF,GAE1BA,EAAMqE,OAGV,IACwB2V,EAEpBE,EAHAH,EAAqB,KAKrBxqB,EAAO2D,KAmBf,SAAS2nB,EAAkBC,GAIvB,IAAIC,EAAS,GACTC,GAAsB,EAEtB/Y,EAAS8B,SAASC,cAAc,UAChCuK,EAAUtM,EAAOmC,WAAW,MAChCnC,EAAO0F,MAAQ,4HACd5D,SAAS6D,MAAQ7D,SAAS8D,iBAAiBC,YAAY7F,GAExD/O,KAAK0H,aAAc,EACnB1H,KAAKgP,cAAgB,GAErBhP,KAAK4R,MAAQ,IACb5R,KAAK6R,OAAS,IAGd7R,KAAK+nB,aAAc,EAEnB,IAAI1rB,EAAO2D,KAMP+S,EAAerC,OAAOqC,aAEE,qBAAjBA,IAC2B,qBAAvBC,qBAEPD,EAAeC,oBAGY,qBAApBC,kBAEPF,EAAeE,kBAKvB,IAAI/J,EAAMwH,OAAOxH,IAEE,qBAARA,GAA4C,qBAAduG,YAErCvG,EAAMuG,WAGe,qBAAdvK,WAA+D,qBAA3BA,UAAUE,eACT,qBAAjCF,UAAUgO,qBACjBhO,UAAUE,aAAeF,UAAUgO,oBAGE,qBAA9BhO,UAAUoF,kBACjBpF,UAAUE,aAAeF,UAAUoF,kBAI3C,IAAIsE,EAAc8B,OAAO9B,YAEE,qBAAhBA,GAA4D,qBAAtB+G,oBAC7C/G,EAAc+G,mBAIS,qBAAhB/G,GAEmC,qBAA/BA,EAAY1P,UAAUyJ,OAC7BiG,EAAY1P,UAAUyJ,KAAO,WACzB3I,KAAKoN,YAAYrE,QAAQ,SAAS6M,GAC9BA,EAAMjN,WAMtB,IAAI+D,EAAU,GAQd,SAAS8I,EAAaJ,EAAQjD,GACtB,cAAeA,EACfA,EAAQsD,UAAYL,EACb,iBAAkBjD,EACzBA,EAAQuD,aAAeN,EAEvBjD,EAAQsD,UAAYL,EAQ5B,SAAS4S,IACL,IAAIF,EAAJ,CAIA,IAAIG,EAAeJ,EAAO7sB,OAEtBktB,GAAa,EACbC,EAAY,GAahB,GAZAN,EAAO9e,QAAQ,SAAS+D,GACfA,EAAMsI,SACPtI,EAAMsI,OAAS,IAGftI,EAAMsI,OAAO8S,WACbA,EAAapb,EAEbqb,EAAU1rB,KAAKqQ,KAInBob,EACAnZ,EAAO6C,MAAQsW,EAAW9S,OAAOxD,MACjC7C,EAAO8C,OAASqW,EAAW9S,OAAOvD,YAC/B,GAAIsW,EAAUntB,OAAQ,CACzB+T,EAAO6C,MAAQqW,EAAe,EAAyB,EAArBE,EAAU,GAAGvW,MAAYuW,EAAU,GAAGvW,MAExE,IAAIC,EAAS,EACQ,IAAjBoW,GAAuC,IAAjBA,IACtBpW,EAAS,GAEQ,IAAjBoW,GAAuC,IAAjBA,IACtBpW,EAAS,GAEQ,IAAjBoW,GAAuC,IAAjBA,IACtBpW,EAAS,GAEQ,IAAjBoW,GAAuC,KAAjBA,IACtBpW,EAAS,GAEb9C,EAAO8C,OAASsW,EAAU,GAAGtW,OAASA,OAEtC9C,EAAO6C,MAAQvV,EAAKuV,OAAS,IAC7B7C,EAAO8C,OAASxV,EAAKwV,QAAU,IAG/BqW,GAAcA,aAAsB5W,kBACpCF,EAAU8W,GAGdC,EAAUpf,QAAQ,SAAS+D,EAAOqR,GAC9B/M,EAAUtE,EAAOqR,KAGrB1V,WAAWuf,EAAoB3rB,EAAK2S,gBAGxC,SAASoC,EAAUtE,EAAOqR,GACtB,IAAI2J,EAAJ,CAIA,IAAIM,EAAI,EACJC,EAAI,EACJzW,EAAQ9E,EAAM8E,MACdC,EAAS/E,EAAM+E,OAEP,IAARsM,IACAiK,EAAItb,EAAM8E,OAGF,IAARuM,IACAkK,EAAIvb,EAAM+E,QAGF,IAARsM,IACAiK,EAAItb,EAAM8E,MACVyW,EAAIvb,EAAM+E,QAGF,IAARsM,IACAkK,EAAmB,EAAfvb,EAAM+E,QAGF,IAARsM,IACAiK,EAAItb,EAAM8E,MACVyW,EAAmB,EAAfvb,EAAM+E,QAGF,IAARsM,IACAkK,EAAmB,EAAfvb,EAAM+E,QAGF,IAARsM,IACAiK,EAAItb,EAAM8E,MACVyW,EAAmB,EAAfvb,EAAM+E,QAGmB,qBAAtB/E,EAAMsI,OAAOyG,OACpBuM,EAAItb,EAAMsI,OAAOyG,MAGW,qBAArB/O,EAAMsI,OAAOkT,MACpBD,EAAIvb,EAAMsI,OAAOkT,KAGa,qBAAvBxb,EAAMsI,OAAOxD,QACpBA,EAAQ9E,EAAMsI,OAAOxD,OAGU,qBAAxB9E,EAAMsI,OAAOvD,SACpBA,EAAS/E,EAAMsI,OAAOvD,QAG1BwJ,EAAQjK,UAAUtE,EAAOsb,EAAGC,EAAGzW,EAAOC,GAED,oBAA1B/E,EAAMsI,OAAOmT,UACpBzb,EAAMsI,OAAOmT,SAASlN,EAAS+M,EAAGC,EAAGzW,EAAOC,EAAQsM,IAI5D,SAASqK,IACLV,GAAsB,EACtB,IAAIW,EAAmBC,IAEnBC,EAAmBC,IAgBvB,OAfID,GACAA,EAAiBvb,YAAYkI,OAAO,SAASC,GACzC,MAAkB,UAAXA,EAAEF,OACVtM,QAAQ,SAAS6M,GAChB6S,EAAiB5Z,SAAS+G,KAKlCgS,EAAoB7e,QAAQ,SAASqM,GAC7BA,EAAO8S,aACM,IAIdO,EAGX,SAASC,IAGL,IAAIG,EAFJC,IAII,kBAAmB/Z,EACnB8Z,EAAiB9Z,EAAOgC,gBACjB,qBAAsBhC,EAC7B8Z,EAAiB9Z,EAAOiC,mBAChB3U,EAAKqL,aACbjC,QAAQF,MAAM,qHAGlB,IAAIwjB,EAAc,IAAIna,EAUtB,OARAia,EAAezb,YAAYkI,OAAO,SAASC,GACvC,MAAkB,UAAXA,EAAEF,OACVtM,QAAQ,SAAS6M,GAChBmT,EAAYla,SAAS+G,KAGzB7G,EAAOqG,OAAS2T,EAETA,EAGX,SAASH,IAEAlc,EAAQC,0BACTD,EAAQC,wBAA0B,IAAID,EAAQqG,cAGlD1W,EAAK2sB,aAAetc,EAAQC,wBAE5BtQ,EAAK4sB,aAAe,IAEK,IAArB5sB,EAAK0rB,cACL1rB,EAAK6sB,SAAW7sB,EAAK2sB,aAAaG,aAClC9sB,EAAK6sB,SAASvN,QAAQtf,EAAK2sB,aAAavM,aACxCpgB,EAAK6sB,SAASE,KAAKlnB,MAAQ,GAG/B,IAAImnB,EAAoB,EAoBxB,GAnBAzB,EAAoB7e,QAAQ,SAASqM,GACjC,GAAKA,EAAOhI,YAAYkI,OAAO,SAASC,GAChC,MAAkB,UAAXA,EAAEF,OACVra,OAFP,CAMAquB,IACA5jB,QAAQgC,IAAI,SACZhC,QAAQgC,IAAI2N,GACZ,IAAIkU,EAAcjtB,EAAK2sB,aAAazN,wBAAwBnG,IAEnC,IAArB/Y,EAAK0rB,aACLuB,EAAY3N,QAAQtf,EAAK6sB,UAG7B7sB,EAAK4sB,aAAaxsB,KAAK6sB,MAGtBD,EAQL,OAJAhtB,EAAKktB,iBAAmBltB,EAAK2sB,aAAaxM,+BAC1CngB,EAAK4sB,aAAalgB,QAAQ,SAASugB,GAC/BA,EAAY3N,QAAQtf,EAAKktB,oBAEtBltB,EAAKktB,iBAAiBnU,OAGjC,SAASoU,EAASpU,GACd,IAAItI,EAAQ+D,SAASC,cAAc,SAYnC,OAVA0E,EAAaJ,EAAQtI,GAErBA,EAAM0U,OAAQ,EACd1U,EAAM8N,OAAS,EAEf9N,EAAM8E,MAAQwD,EAAOxD,OAASvV,EAAKuV,OAAS,IAC5C9E,EAAM+E,OAASuD,EAAOvD,QAAUxV,EAAKwV,QAAU,IAE/C/E,EAAMqE,OAECrE,EA8EX,SAASgc,EAAkBW,GACvB5B,EAAS,GACT4B,EAAUA,GAAW7B,EAGrB6B,EAAQ1gB,QAAQ,SAASqM,GACrB,GAAKA,EAAOhI,YAAYkI,OAAO,SAASC,GAChC,MAAkB,UAAXA,EAAEF,OACVra,OAFP,CAMA,IAAI8R,EAAQ0c,EAASpU,GACrBtI,EAAMsI,OAASA,EACfyS,EAAOprB,KAAKqQ,MAtVQ,qBAAjBiG,EACPrG,EAAQqG,aAAeA,EACc,qBAAvBC,qBACdtG,EAAQqG,aAAeC,oBAa3BhT,KAAK0pB,mBAAqB,WACtB1B,KA4OJhoB,KAAK2pB,cAAgB,SAASF,GAC1B,IAAKA,EACD,KAAM,+BAGJA,aAAmB9pB,QACrB8pB,EAAU,CAACA,IAGf7B,EAAoBvG,OAAOoI,GAE3BA,EAAQ1gB,QAAQ,SAASqM,GACrB,GAAIA,EAAOhI,YAAYkI,OAAO,SAASC,GAC/B,MAAkB,UAAXA,EAAEF,OACVra,OAAQ,CACX,IAAI8R,EAAQ0c,EAASpU,GACrBtI,EAAMsI,OAASA,EACfyS,EAAOprB,KAAKqQ,GAGhB,GAAIsI,EAAOhI,YAAYkI,OAAO,SAASC,GAC/B,MAAkB,UAAXA,EAAEF,OACVra,QAAUqB,EAAK2sB,aAAc,CAC5BvjB,QAAQgC,IAAI,QACZhC,QAAQgC,IAAI2N,GAChB,IAAIkU,EAAcjtB,EAAK2sB,aAAazN,wBAAwBnG,GAC5DkU,EAAY3N,QAAQtf,EAAKktB,kBACzBltB,EAAK4sB,aAAaxsB,KAAK6sB,OAKnCtpB,KAAK4pB,eAAiB,WAClB/B,EAAS,GACTC,GAAsB,EAElBzrB,EAAK6sB,WACL7sB,EAAK6sB,SAASlN,aACd3f,EAAK6sB,SAAW,MAGhB7sB,EAAK4sB,aAAajuB,SAClBqB,EAAK4sB,aAAalgB,QAAQ,SAAS8gB,GAC/BA,EAAO7N,eAEX3f,EAAK4sB,aAAe,IAGpB5sB,EAAKktB,mBACLltB,EAAKktB,iBAAiBvN,aACtB3f,EAAKktB,iBAAmB,MAGxBltB,EAAK2sB,cACL3sB,EAAK2sB,aAAa1f,QAGtBjN,EAAK2sB,aAAe,KAEpB3N,EAAQyO,UAAU,EAAG,EAAG/a,EAAO6C,MAAO7C,EAAO8C,QAEzC9C,EAAOqG,SACPrG,EAAOqG,OAAOzM,OACdoG,EAAOqG,OAAS,OAIxBpV,KAAK8oB,kBAAoB,SAASW,IAC1BA,GAAaA,aAAmB9pB,QAChC8pB,EAAU,CAACA,IAGfX,EAAkBW,IAsBtBzpB,KAAKsI,KAAO,oBACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI,MAGhBtI,KAAKwoB,eAAiBA;;;;;;;;;;;;;;;;;;;;;;;GAmC1B,SAASza,EAAoB6Z,EAAqB1X,GAC9C0X,EAAsBA,GAAuB,GAC7C,IAEImC,EACApiB,EAHAtL,EAAO2D,KAyDX,SAASgqB,IACL,IAAIC,EAAS,GAMb,OALArC,EAAoB7e,QAAQ,SAASqM,GACjChI,EAAUgI,EAAQ,SAASrM,QAAQ,SAAS6M,GACxCqU,EAAOxtB,KAAKmZ,OAGbqU,EA3DX/Z,EAAUA,GAAW,CACjB5C,SAAU,aACVR,MAAO,CACH8E,MAAO,IACPC,OAAQ,MAIX3B,EAAQlB,gBACTkB,EAAQlB,cAAgB,IAGvBkB,EAAQpD,QACToD,EAAQpD,MAAQ,IAGfoD,EAAQpD,MAAM8E,QACf1B,EAAQpD,MAAM8E,MAAQ,KAGrB1B,EAAQpD,MAAM+E,SACf3B,EAAQpD,MAAM+E,OAAS,KAU3B7R,KAAK6H,OAAS,WACVpC,QAAQgC,IAAI,UAEZsiB,EAAQ,IAAIpC,EAAkBC,GAE1BoC,IAAoBhvB,SACpB+uB,EAAM/a,cAAgBkB,EAAQlB,eAAiB,GAC/C+a,EAAMnY,MAAQ1B,EAAQpD,MAAM8E,OAAS,IACrCmY,EAAMlY,OAAS3B,EAAQpD,MAAM+E,QAAU,IACvCkY,EAAML,sBAGNxZ,EAAQga,eAAkD,oBAA1Bha,EAAQga,eACxCha,EAAQga,cAAcH,EAAMvB,kBAIhC7gB,EAAgB,IAAIwF,EAAoB4c,EAAMvB,iBAAkBtY,GAChEvI,EAAcE,UAuBlB7H,KAAK2I,KAAO,SAASxG,GACZwF,GAILA,EAAcgB,KAAK,SAASnE,GACxBnI,EAAKmI,KAAOA,EAEZrC,EAASqC,GAETnI,EAAKuL,uBAWb5H,KAAK8J,MAAQ,WACLnC,GACAA,EAAcmC,SAWtB9J,KAAK+J,OAAS,WACNpC,GACAA,EAAcoC,UAWtB/J,KAAK4H,kBAAoB,WACjBD,IACAA,EAAcC,oBACdD,EAAgB,MAGhBoiB,IACAA,EAAMH,iBACNG,EAAQ,OAYhB/pB,KAAKmqB,WAAa,SAASV,GACvB,IAAKA,EACD,KAAM,+BAGJA,aAAmB9pB,QACrB8pB,EAAU,CAACA,IAGf7B,EAAoBvG,OAAOoI,GAEtB9hB,GAAkBoiB,GAIvBA,EAAMJ,cAAcF,IAWxBzpB,KAAK8oB,kBAAoB,SAASW,GACzBM,KAIDN,GAAaA,aAAmB9pB,QAChC8pB,EAAU,CAACA,IAGfM,EAAMjB,kBAAkBW,KAI5BzpB,KAAKsI,KAAO,sBACZtI,KAAK+K,SAAW,WACZ,OAAO/K,KAAKsI;;;;;;;;;;;;;;;;;;;AA8BpB,SAAS8hB,EAAyB9iB,EAAa4I,GAC3C,IAAKlQ,KACD,KAAM,uCAGV,GAA2B,qBAAhBsH,EACP,KAAM,4CAGV,IAAIjL,EAAO2D,KASX3D,EAAKguB,UAAY,IAAIhjB,EAAUC,EAAa4I,GAW5ClQ,KAAKc,eAAiB,WAClB,OAAO,IAAIyF,EAAA+jB,EAAQ,SAASC,EAASC,GACjC,IACInuB,EAAKguB,UAAUvpB,iBACfypB,IACF,MAAOnhB,GACLohB,EAAOphB,OAcnBpJ,KAAKe,cAAgB,WACjB,OAAO,IAAIwF,EAAA+jB,EAAQ,SAASC,EAASC,GACjC,IACInuB,EAAKguB,UAAUtpB,cAAc,SAASjD,GAClCzB,EAAKmI,KAAOnI,EAAKguB,UAAU5lB,UAEtBpI,EAAKmI,MAASnI,EAAKmI,KAAKyE,KAK7BshB,EAAQzsB,GAJJ0sB,EAAO,cAAenuB,EAAKmI,QAMrC,MAAO4E,GACLohB,EAAOphB,OAgBnBpJ,KAAKwJ,WAAa,SAASrH,GACvB,OAAO,IAAIoE,EAAA+jB,EAAQ,SAASC,EAASC,GACjC,IACInuB,EAAKguB,UAAU7gB,WAAW,SAASC,GAC/B8gB,EAAQ9gB,KAEd,MAAOL,GACLohB,EAAOphB,OAcnBpJ,KAAKyE,QAAU,WACX,OAAO,IAAI8B,EAAA+jB,EAAQ,SAASC,EAASC,GACjC,IACID,EAAQluB,EAAKguB,UAAU5lB,WACzB,MAAO2E,GACLohB,EAAOphB,OAanBpJ,KAAKwE,KAAO;;;;;;;;;;;;;;;;;;AA2BhB,SAASyI,EAAoBmI,EAAQrP,GAqBjC,SAAS0kB,IACL,OAAO,IAAI7c,eAAe,CACtBiK,MAAO,SAAS6S,GACZ,IAAIC,EAAM9Z,SAASC,cAAc,UAC7BhE,EAAQ+D,SAASC,cAAc,SACnChE,EAAM2I,UAAYL,EAClBtI,EAAM8d,UAAY,WACdD,EAAI/Y,MAAQ7L,EAAO6L,MACnB+Y,EAAI9Y,OAAS9L,EAAO8L,OACpB,IAAI3W,EAAMyvB,EAAIzZ,WAAW,MACrB2Z,EAAe,IAAO9kB,EAAOqJ,UACjC3G,WAAW,SAASnM,IAChBpB,EAAIkW,UAAUtE,EAAO,EAAG,GACxB4d,EAAWI,QACP5vB,EAAI8lB,aAAa,EAAG,EAAGjb,EAAO6L,MAAO7L,EAAO8L,SAEhDpJ,WAAWnM,EAAGuuB,IACfA,IAEP/d,EAAMqE,UAKlB,IAAInG,EAsEAmQ,EApEJ,SAASra,EAAesU,EAAQ/I,GAC5B,GAAKtG,EAAOkJ,YAAe5C,EAA3B,CAYA,IAAKtG,EAAOkJ,YAAc5C,aAAkB1N,YAAa,CACrD,IAAI6F,EAAO,IAAIsG,KAAK,CAACuB,GAAS,CAC1B9L,KAAM,oBAEVwF,EAAOkJ,WAAa/F,EAAIC,gBAAgB3E,GAGvCuB,EAAOkJ,YACRxJ,QAAQF,MAAM,oCAGlByF,EAAS,IAAIX,OAAOtE,EAAOkJ,YAE3BjE,EAAOd,YAAYnE,EAAOmJ,iBAAmB,0DAC7ClE,EAAO+f,iBAAiB,UAAW,SAASvgB,GACrB,UAAfA,EAAMvM,MACN+M,EAAOd,YAAY,CACf0H,MAAO7L,EAAO6L,MACdC,OAAQ9L,EAAO8L,OACfmZ,QAASjlB,EAAOilB,SAAW,KAC3BC,YAAallB,EAAOqJ,WAAa,GACjC8b,UAAU,IAGdT,IAAeU,OAAO,IAAIC,eAAe,CACrCC,MAAO,SAASnf,GACPlB,GAILA,EAAOd,YAAYgC,EAAMjO,KAAKoO,OAAQ,CAACH,EAAMjO,KAAKoO,cAGjD7B,EAAMvM,OACVkd,GACDmQ,EAAe7uB,KAAK+N,EAAMvM,cA7ClCstB,MACI,0DACFxmB,KAAK,SAASmb,GACZA,EAAEsL,cAAczmB,KAAK,SAASsH,GAC1BvL,EAAesU,EAAQ/I,OAqFvC,SAAS2O,IACAhQ,IAILA,EAAOd,YAAY,MACnBc,EAAOgQ,YACPhQ,EAAS,MA/IiB,qBAAnB4C,gBAA4D,qBAAnBwd,gBAEhD3lB,QAAQF,MAAM,2HAGlBQ,EAASA,GAAU,GAEnBA,EAAO6L,MAAQ7L,EAAO6L,OAAS,IAC/B7L,EAAO8L,OAAS9L,EAAO8L,QAAU,IACjC9L,EAAOqJ,UAAYrJ,EAAOqJ,WAAa,GACvCrJ,EAAOilB,QAAUjlB,EAAOilB,SAAW,KA+FnChrB,KAAK6H,OAAS,WACVyjB,EAAiB,GACjBnQ,GAAW,EACXnb,KAAKwE,KAAO,KACZ1D,EAAesU,IAYnBpV,KAAK8J,MAAQ,WACTqR,GAAW,GAUfnb,KAAK+J,OAAS,WACVoR,GAAW,GAaf,IAAImQ,EAAiB,GAYrBtrB,KAAK2I,KAAO,SAASxG,GACjB6Y,IAEAhb,KAAKwE,KAAO,IAAIsG,KAAKwgB,EAAgB,CACjC/qB,KAAM,eAGV4B,EAASnC,KAAKwE,OAWlBxE,KAAKwE,KAAO,KA7xCS,qBAAd6C,IACPA,EAAUsC,YAAcA,GA6RH,qBAAdtC,IACPA,EAAU6F,YAAcA,GAgqBH,qBAAd7F,IACPA,EAAU0G,oBAAsBA,GAkJX,qBAAd1G,IACPA,EAAU+iB,yBAA2BA,GA6MhB,qBAAd/iB,IACPA,EAAU4F,oBAAsBA,yEC5rLpC,IAAAwe,EAAehxB,EAAQ,QACvBixB,EAAejxB,EAAQ,QACvBkxB,EAAyBlxB,EAAQ,QACjCmxB,EAAyBnxB,EAAQ,QACjCC,EAAeD,EAAQ,QACvBoxB,EAAqBpxB,EAAQ,QAC7BqxB,EAAiBrxB,EAAQ,QACzBsxB,EAAYtxB,EAAQ,QACpBuxB,EAAAxZ,KAAAyZ,IACAC,EAAA,GAAAzvB,KACA0vB,EAAA,QACAC,EAAA,SACAC,EAAA,YACAC,EAAA,WAGAC,GAAAR,EAAA,WAAqCS,OAAAF,EAAA,OAGrC7xB,EAAQ,OAARA,CAAuB,mBAAAgyB,EAAAC,EAAAC,EAAAC,GACvB,IAAAC,EAkDA,OAxCAA,EARA,YAAAV,GAAA,YACA,UAAAA,GAAA,WAAAC,IACA,QAAAD,GAAA,WAAAC,IACA,OAAAD,GAAA,YAAAC,IACA,IAAAD,GAAA,QAAAC,GAAA,GACA,GAAAD,GAAA,MAAAC,GAGA,SAAAU,EAAAtpB,GACA,IAAAjE,EAAAC,OAAAQ,MACA,QAAAlF,IAAAgyB,GAAA,IAAAtpB,EAAA,SAEA,IAAAioB,EAAAqB,GAAA,OAAAH,EAAAtjB,KAAA9J,EAAAutB,EAAAtpB,GACA,IASA6Z,EAAA0P,EAAAC,EATAzd,EAAA,GACA2U,GAAA4I,EAAAG,WAAA,SACAH,EAAAI,UAAA,SACAJ,EAAAK,QAAA,SACAL,EAAAM,OAAA,QACAC,EAAA,EACAC,OAAAxyB,IAAA0I,EAAA8oB,EAAA9oB,IAAA,EAEA+pB,EAAA,IAAAf,OAAAM,EAAAjD,OAAA3F,EAAA,KAEA,MAAA7G,EAAAyO,EAAAziB,KAAAkkB,EAAAhuB,GAAA,CAEA,GADAwtB,EAAAQ,EAAAlB,GACAU,EAAAM,IACA9d,EAAA9S,KAAA8C,EAAAkZ,MAAA4U,EAAAhQ,EAAA9gB,QACA8gB,EAAA+O,GAAA,GAAA/O,EAAA9gB,MAAAgD,EAAA6sB,IAAAF,EAAAsB,MAAAje,EAAA8N,EAAA5E,MAAA,IACAuU,EAAA3P,EAAA,GAAA+O,GACAiB,EAAAN,EACAxd,EAAA6c,IAAAkB,GAAA,MAEAC,EAAAlB,KAAAhP,EAAA9gB,OAAAgxB,EAAAlB,KAKA,OAHAgB,IAAA9tB,EAAA6sB,IACAY,GAAAO,EAAA9Z,KAAA,KAAAlE,EAAA9S,KAAA,IACO8S,EAAA9S,KAAA8C,EAAAkZ,MAAA4U,IACP9d,EAAA6c,GAAAkB,EAAA/d,EAAAkJ,MAAA,EAAA6U,GAAA/d,GAGG,IAAA4c,QAAArxB,EAAA,GAAAsxB,GACH,SAAAU,EAAAtpB,GACA,YAAA1I,IAAAgyB,GAAA,IAAAtpB,EAAA,GAAAmpB,EAAAtjB,KAAArJ,KAAA8sB,EAAAtpB,IAGAmpB,EAGA,CAGA,SAAAG,EAAAtpB,GACA,IAAApH,EAAAqwB,EAAAzsB,MACAytB,OAAA3yB,GAAAgyB,OAAAhyB,EAAAgyB,EAAAJ,GACA,YAAA5xB,IAAA2yB,EACAA,EAAApkB,KAAAyjB,EAAA1wB,EAAAoH,GACAqpB,EAAAxjB,KAAA7J,OAAApD,GAAA0wB,EAAAtpB,IAOA,SAAAkqB,EAAAlqB,GACA,IAAArH,EAAAywB,EAAAC,EAAAa,EAAA1tB,KAAAwD,EAAAqpB,IAAAF,GACA,GAAAxwB,EAAAwxB,KAAA,OAAAxxB,EAAA+F,MAEA,IAAA0rB,EAAAlC,EAAAgC,GACAG,EAAAruB,OAAAQ,MACA8tB,EAAAnC,EAAAiC,EAAApB,QAEAuB,EAAAH,EAAAT,QACAjJ,GAAA0J,EAAAX,WAAA,SACAW,EAAAV,UAAA,SACAU,EAAAT,QAAA,SACAZ,EAAA,SAIAkB,EAAA,IAAAK,EAAAvB,EAAAqB,EAAA,OAAAA,EAAA/D,OAAA,IAAA3F,GACA8J,OAAAlzB,IAAA0I,EAAA8oB,EAAA9oB,IAAA,EACA,OAAAwqB,EAAA,SACA,OAAAH,EAAA7yB,OAAA,cAAA6wB,EAAA4B,EAAAI,GAAA,CAAAA,GAAA,GACA,IAAAI,EAAA,EACAC,EAAA,EACAC,EAAA,GACA,MAAAD,EAAAL,EAAA7yB,OAAA,CACAyyB,EAAAV,UAAAR,EAAA2B,EAAA,EACA,IACA9kB,EADAglB,EAAAvC,EAAA4B,EAAAlB,EAAAsB,IAAApV,MAAAyV,IAEA,GACA,OAAAE,IACAhlB,EAAA4iB,EAAAtxB,EAAA+yB,EAAAV,WAAAR,EAAA,EAAA2B,IAAAL,EAAA7yB,WAAAizB,EAEAC,EAAAtC,EAAAiC,EAAAK,EAAAH,OACS,CAET,GADAI,EAAA1xB,KAAAoxB,EAAApV,MAAAwV,EAAAC,IACAC,EAAAnzB,SAAAgzB,EAAA,OAAAG,EACA,QAAArvB,EAAA,EAAyBA,GAAAsvB,EAAApzB,OAAA,EAAmB8D,IAE5C,GADAqvB,EAAA1xB,KAAA2xB,EAAAtvB,IACAqvB,EAAAnzB,SAAAgzB,EAAA,OAAAG,EAEAD,EAAAD,EAAA7kB,GAIA,OADA+kB,EAAA1xB,KAAAoxB,EAAApV,MAAAwV,IACAE,8BCjIA,IAAAzxB,EAAcjC,EAAQ,QAEtBiC,IAAAmxB,EAAA,QAA4BQ,IAAA,WAAmB,WAAAhc,MAAAC,qCCH/C7X,EAAQ,OAARA,CAAwB,mBAAA0qB,GACxB,gBAAAlnB,EAAAqwB,EAAAtzB,GACA,OAAAmqB,EAAAnlB,KAAA/B,EAAAqwB,EAAAtzB,2CCAA,IAAAI,EAAeX,EAAQ,QACvB8zB,EAAsB9zB,EAAQ,QAC9BC,EAAeD,EAAQ,QACvBE,EAAAC,QAAA,SAAAsH,GACA,IAAA9F,EAAAhB,EAAA4E,MACAhF,EAAAN,EAAA0B,EAAApB,QACAwzB,EAAA5d,UAAA5V,OACAuB,EAAAgyB,EAAAC,EAAA,EAAA5d,UAAA,QAAA9V,EAAAE,GACAyzB,EAAAD,EAAA,EAAA5d,UAAA,QAAA9V,EACA4zB,OAAA5zB,IAAA2zB,EAAAzzB,EAAAuzB,EAAAE,EAAAzzB,GACA,MAAA0zB,EAAAnyB,EAAAH,EAAAG,KAAA2F,EACA,OAAA9F,sCCXA,IAAAsvB,EAAejxB,EAAQ,QACvBC,EAAeD,EAAQ,QACvBmxB,EAAyBnxB,EAAQ,QACjCk0B,EAAiBl0B,EAAQ,QAGzBA,EAAQ,OAARA,CAAuB,mBAAAgyB,EAAAmC,EAAAC,EAAAjC,GACvB,OAGA,SAAAc,GACA,IAAAtxB,EAAAqwB,EAAAzsB,MACA8uB,OAAAh0B,GAAA4yB,OAAA5yB,EAAA4yB,EAAAkB,GACA,YAAA9zB,IAAAg0B,IAAAzlB,KAAAqkB,EAAAtxB,GAAA,IAAAowB,OAAAkB,GAAAkB,GAAApvB,OAAApD,KAIA,SAAAsxB,GACA,IAAAvxB,EAAAywB,EAAAiC,EAAAnB,EAAA1tB,MACA,GAAA7D,EAAAwxB,KAAA,OAAAxxB,EAAA+F,MACA,IAAA0rB,EAAAlC,EAAAgC,GACAG,EAAAruB,OAAAQ,MACA,IAAA4tB,EAAAvvB,OAAA,OAAAswB,EAAAf,EAAAC,GACA,IAAAkB,EAAAnB,EAAAT,QACAS,EAAAb,UAAA,EACA,IAEAvwB,EAFA2xB,EAAA,GACA3nB,EAAA,EAEA,cAAAhK,EAAAmyB,EAAAf,EAAAC,IAAA,CACA,IAAAmB,EAAAxvB,OAAAhD,EAAA,IACA2xB,EAAA3nB,GAAAwoB,EACA,KAAAA,IAAApB,EAAAb,UAAAnB,EAAAiC,EAAAnzB,EAAAkzB,EAAAb,WAAAgC,IACAvoB,IAEA,WAAAA,EAAA,KAAA2nB,8BCpCA1zB,EAAQ,OAARA,CAAwB,qBAAA0qB,GACxB,gBAAAlnB,EAAAqwB,EAAAtzB,GACA,OAAAmqB,EAAAnlB,KAAA/B,EAAAqwB,EAAAtzB,8BCFAL,EAAAC,QAAiBH,EAAQ,gCCAzBA,EAAQ,OAARA,CAAwB,qBAAA0qB,GACxB,gBAAAlnB,EAAAqwB,EAAAtzB,GACA,OAAAmqB,EAAAnlB,KAAA/B,EAAAqwB,EAAAtzB,8BCFAP,EAAQ,QACRE,EAAAC,QAAiBH,EAAQ,QAAkBqC,kCCD3C,SAAAmyB,GACAt0B,EAAAC,QAAAq0B,wCCDA,IAAAC,EAAWz0B,EAAQ,QACnB00B,EAAAD,EAAAE,OAAAF,EAAAE,KAAA,CAAuCC,UAAAD,KAAAC,YACvC10B,EAAAC,QAAA,SAAAC,GACA,OAAAs0B,EAAAE,UAAA7B,MAAA2B,EAAAve,+CCDA,IAAAxV,EAAeX,EAAQ,QACvB8zB,EAAsB9zB,EAAQ,QAC9BC,EAAeD,EAAQ,QAEvBE,EAAAC,QAAA,GAAA00B,YAAA,SAAA7kB,EAAAoN,GACA,IAAAzb,EAAAhB,EAAA4E,MACA8jB,EAAAppB,EAAA0B,EAAApB,QACAu0B,EAAAhB,EAAA9jB,EAAAqZ,GACA0L,EAAAjB,EAAA1W,EAAAiM,GACA2K,EAAA7d,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,EACA20B,EAAAjd,KAAAyZ,UAAAnxB,IAAA2zB,EAAA3K,EAAAyK,EAAAE,EAAA3K,IAAA0L,EAAA1L,EAAAyL,GACAG,EAAA,EACAF,EAAAD,KAAAC,EAAAC,IACAC,GAAA,EACAF,GAAAC,EAAA,EACAF,GAAAE,EAAA,GAEA,MAAAA,KAAA,EACAD,KAAApzB,IAAAmzB,GAAAnzB,EAAAozB,UACApzB,EAAAmzB,GACAA,GAAAG,EACAF,GAAAE,EACG,OAAAtzB,yBCvBH,IAAAuvB,EAAyBlxB,EAAQ,QAEjCE,EAAAC,QAAA,SAAA+0B,EAAA30B,GACA,WAAA2wB,EAAAgE,GAAA,CAAA30B,0BCJAP,EAAQ,QACRE,EAAAC,QAAiBH,EAAQ,QAAqB4X,KAAAgc,0BCD9C,IAAAuB,EAAen1B,EAAQ,QACvBmF,EAAcnF,EAAQ,QACtBo1B,EAAcp1B,EAAQ,OAARA,CAAgB,WAE9BE,EAAAC,QAAA,SAAA+0B,GACA,IAAA7B,EASG,OARHluB,EAAA+vB,KACA7B,EAAA6B,EAAAtnB,YAEA,mBAAAylB,OAAAnuB,QAAAC,EAAAkuB,EAAA5uB,aAAA4uB,OAAAhzB,GACA80B,EAAA9B,KACAA,IAAA+B,GACA,OAAA/B,WAAAhzB,UAEGA,IAAAgzB,EAAAnuB,MAAAmuB,sCCbH,GAAIrzB,EAAQ,QAAgB,CAC5B,IAAAq1B,EAAgBr1B,EAAQ,QACxB4D,EAAe5D,EAAQ,QACvBsxB,EAActxB,EAAQ,QACtBiC,EAAgBjC,EAAQ,QACxBs1B,EAAet1B,EAAQ,QACvBu1B,EAAgBv1B,EAAQ,QACxBS,EAAYT,EAAQ,QACpBw1B,EAAmBx1B,EAAQ,QAC3By1B,EAAqBz1B,EAAQ,QAC7B6D,EAAa7D,EAAQ,QACrB01B,EAAoB11B,EAAQ,QAC5BD,EAAkBC,EAAQ,QAC1BC,EAAiBD,EAAQ,QACzB21B,EAAgB31B,EAAQ,QACxB8zB,EAAwB9zB,EAAQ,QAChC41B,EAAoB51B,EAAQ,QAC5B61B,EAAY71B,EAAQ,QACpB81B,EAAgB91B,EAAQ,QACxBm1B,EAAiBn1B,EAAQ,QACzBW,EAAiBX,EAAQ,QACzB+1B,EAAoB/1B,EAAQ,QAC5BqB,EAAerB,EAAQ,QACvBg2B,EAAuBh2B,EAAQ,QAC/Bi2B,EAAaj2B,EAAQ,QAAgB6B,EACrCq0B,EAAkBl2B,EAAQ,QAC1B8D,EAAY9D,EAAQ,QACpBm2B,EAAYn2B,EAAQ,QACpBo2B,EAA0Bp2B,EAAQ,QAClCq2B,EAA4Br2B,EAAQ,QACpCkxB,EAA2BlxB,EAAQ,QACnCs2B,EAAuBt2B,EAAQ,QAC/Bu2B,EAAkBv2B,EAAQ,QAC1Bw2B,EAAoBx2B,EAAQ,QAC5By2B,EAAmBz2B,EAAQ,QAC3B02B,EAAkB12B,EAAQ,QAC1B22B,EAAwB32B,EAAQ,QAChC42B,EAAY52B,EAAQ,QACpB62B,EAAc72B,EAAQ,QACtB82B,EAAAF,EAAA/0B,EACAk1B,EAAAF,EAAAh1B,EACArB,EAAAoD,EAAApD,WACAw2B,EAAApzB,EAAAozB,UACArO,EAAA/kB,EAAA+kB,WACAsO,EAAA,cACAC,EAAA,SAAAD,EACAE,EAAA,oBACAC,EAAA,YACAC,EAAAnyB,MAAAkyB,GACAE,EAAA/B,EAAArxB,YACAqzB,EAAAhC,EAAApxB,SACAqzB,EAAApB,EAAA,GACAqB,GAAArB,EAAA,GACAsB,GAAAtB,EAAA,GACAuB,GAAAvB,EAAA,GACAwB,GAAAxB,EAAA,GACAyB,GAAAzB,EAAA,GACA0B,GAAAzB,GAAA,GACA0B,GAAA1B,GAAA,GACA2B,GAAA1B,EAAA2B,OACAC,GAAA5B,EAAA6B,KACAC,GAAA9B,EAAA+B,QACAC,GAAAjB,EAAAkB,YACAC,GAAAnB,EAAAoB,OACAC,GAAArB,EAAAsB,YACAC,GAAAvB,EAAApO,KACA4P,GAAAxB,EAAAyB,KACAC,GAAA1B,EAAArZ,MACAgb,GAAA3B,EAAA/mB,SACA2oB,GAAA5B,EAAA6B,eACAC,GAAAhD,EAAA,YACAiD,GAAAjD,EAAA,eACAkD,GAAAv1B,EAAA,qBACAw1B,GAAAx1B,EAAA,mBACAy1B,GAAAjE,EAAAlxB,OACAo1B,GAAAlE,EAAAvxB,MACAC,GAAAsxB,EAAAtxB,KACAy1B,GAAA,gBAEAC,GAAAtD,EAAA,WAAAz0B,EAAApB,GACA,OAAAo5B,GAAAzI,EAAAvvB,IAAA23B,KAAA/4B,KAGAq5B,GAAAtI,EAAA,WAEA,eAAA3I,EAAA,IAAAkR,YAAA,KAAAjoB,QAAA,KAGAkoB,KAAAnR,OAAAyO,GAAA7X,KAAA+R,EAAA,WACA,IAAA3I,EAAA,GAAApJ,IAAA,MAGAwa,GAAA,SAAA35B,EAAA45B,GACA,IAAA3a,EAAAtf,EAAAK,GACA,GAAAif,EAAA,GAAAA,EAAA2a,EAAA,MAAAx5B,EAAA,iBACA,OAAA6e,GAGA4a,GAAA,SAAA75B,GACA,GAAA+0B,EAAA/0B,IAAAo5B,MAAAp5B,EAAA,OAAAA,EACA,MAAA42B,EAAA52B,EAAA,2BAGAu5B,GAAA,SAAAtG,EAAA9yB,GACA,KAAA40B,EAAA9B,IAAAgG,MAAAhG,GACA,MAAA2D,EAAA,wCACK,WAAA3D,EAAA9yB,IAGL25B,GAAA,SAAAv4B,EAAAyJ,GACA,OAAA+uB,GAAAjJ,EAAAvvB,IAAA23B,KAAAluB,IAGA+uB,GAAA,SAAA9G,EAAAjoB,GACA,IAAAtJ,EAAA,EACAvB,EAAA6K,EAAA7K,OACAwB,EAAA43B,GAAAtG,EAAA9yB,GACA,MAAAA,EAAAuB,EAAAC,EAAAD,GAAAsJ,EAAAtJ,KACA,OAAAC,GAGAq4B,GAAA,SAAAh6B,EAAAsD,EAAA22B,GACAvD,EAAA12B,EAAAsD,EAAA,CAAiBkoB,IAAA,WAAmB,OAAArmB,KAAA+0B,GAAAD,OAGpCE,GAAA,SAAAnL,GACA,IAKA/qB,EAAA9D,EAAA03B,EAAAl2B,EAAAy4B,EAAAC,EALA94B,EAAAhB,EAAAyuB,GACA2E,EAAA5d,UAAA5V,OACAm6B,EAAA3G,EAAA,EAAA5d,UAAA,QAAA9V,EACAs6B,OAAAt6B,IAAAq6B,EACAE,EAAA1E,EAAAv0B,GAEA,QAAAtB,GAAAu6B,IAAA7E,EAAA6E,GAAA,CACA,IAAAH,EAAAG,EAAAhsB,KAAAjN,GAAAs2B,EAAA,GAAA5zB,EAAA,IAAyDm2B,EAAAC,EAAAI,QAAA3H,KAAgC7uB,IACzF4zB,EAAAj2B,KAAAw4B,EAAA/yB,OACO9F,EAAAs2B,EAGP,IADA0C,GAAA5G,EAAA,IAAA2G,EAAAj6B,EAAAi6B,EAAAvkB,UAAA,OACA9R,EAAA,EAAA9D,EAAAN,EAAA0B,EAAApB,QAAAwB,EAAA43B,GAAAp0B,KAAAhF,GAA6EA,EAAA8D,EAAYA,IACzFtC,EAAAsC,GAAAs2B,EAAAD,EAAA/4B,EAAA0C,MAAA1C,EAAA0C,GAEA,OAAAtC,GAGA+4B,GAAA,WACA,IAAAh5B,EAAA,EACAvB,EAAA4V,UAAA5V,OACAwB,EAAA43B,GAAAp0B,KAAAhF,GACA,MAAAA,EAAAuB,EAAAC,EAAAD,GAAAqU,UAAArU,KACA,OAAAC,GAIAg5B,KAAApS,GAAA2I,EAAA,WAAyD2H,GAAArqB,KAAA,IAAA+Z,EAAA,MAEzDqS,GAAA,WACA,OAAA/B,GAAAlG,MAAAgI,GAAAhC,GAAAnqB,KAAAqrB,GAAA10B,OAAA00B,GAAA10B,MAAA4Q,YAGA8kB,GAAA,CACApG,WAAA,SAAA7kB,EAAAoN,GACA,OAAAuZ,EAAA/nB,KAAAqrB,GAAA10B,MAAAyK,EAAAoN,EAAAjH,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEA66B,MAAA,SAAA35B,GACA,OAAAo2B,GAAAsC,GAAA10B,MAAAhE,EAAA4U,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEA86B,KAAA,SAAA1zB,GACA,OAAAivB,EAAA3D,MAAAkH,GAAA10B,MAAA4Q,YAEA0E,OAAA,SAAAtZ,GACA,OAAA24B,GAAA30B,KAAAkyB,GAAAwC,GAAA10B,MAAAhE,EACA4U,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,KAEA+6B,KAAA,SAAAC,GACA,OAAAzD,GAAAqC,GAAA10B,MAAA81B,EAAAllB,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEAi7B,UAAA,SAAAD,GACA,OAAAxD,GAAAoC,GAAA10B,MAAA81B,EAAAllB,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEAiO,QAAA,SAAA/M,GACAi2B,EAAAyC,GAAA10B,MAAAhE,EAAA4U,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEAqY,QAAA,SAAA6iB,GACA,OAAAxD,GAAAkC,GAAA10B,MAAAg2B,EAAAplB,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEAm7B,SAAA,SAAAD,GACA,OAAAzD,GAAAmC,GAAA10B,MAAAg2B,EAAAplB,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEA4oB,KAAA,SAAAoJ,GACA,OAAAuG,GAAA7F,MAAAkH,GAAA10B,MAAA4Q,YAEAoiB,YAAA,SAAAgD,GACA,OAAAjD,GAAAvF,MAAAkH,GAAA10B,MAAA4Q,YAEA5K,IAAA,SAAAmvB,GACA,OAAAhB,GAAAO,GAAA10B,MAAAm1B,EAAAvkB,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEAo4B,OAAA,SAAAl3B,GACA,OAAAi3B,GAAAzF,MAAAkH,GAAA10B,MAAA4Q,YAEAwiB,YAAA,SAAAp3B,GACA,OAAAm3B,GAAA3F,MAAAkH,GAAA10B,MAAA4Q,YAEAyS,QAAA,WACA,IAIAnhB,EAJAjG,EAAA+D,KACAhF,EAAA05B,GAAAz4B,GAAAjB,OACAk7B,EAAA1jB,KAAAsB,MAAA9Y,EAAA,GACAuB,EAAA,EAEA,MAAAA,EAAA25B,EACAh0B,EAAAjG,EAAAM,GACAN,EAAAM,KAAAN,IAAAjB,GACAiB,EAAAjB,GAAAkH,EACO,OAAAjG,GAEPk6B,KAAA,SAAAn6B,GACA,OAAAm2B,GAAAuC,GAAA10B,MAAAhE,EAAA4U,UAAA5V,OAAA,EAAA4V,UAAA,QAAA9V,IAEAy4B,KAAA,SAAA6C,GACA,OAAA9C,GAAAjqB,KAAAqrB,GAAA10B,MAAAo2B,IAEAC,SAAA,SAAAC,EAAA7H,GACA,IAAAryB,EAAAs4B,GAAA10B,MACAhF,EAAAoB,EAAApB,OACAu7B,EAAAhI,EAAA+H,EAAAt7B,GACA,WAAA2wB,EAAAvvB,IAAA23B,KAAA,CACA33B,EAAAiQ,OACAjQ,EAAAkyB,WAAAiI,EAAAn6B,EAAAw1B,kBACAl3B,QAAAI,IAAA2zB,EAAAzzB,EAAAuzB,EAAAE,EAAAzzB,IAAAu7B,MAKAC,GAAA,SAAA3e,EAAA4W,GACA,OAAAkG,GAAA30B,KAAAwzB,GAAAnqB,KAAAqrB,GAAA10B,MAAA6X,EAAA4W,KAGA/rB,GAAA,SAAA+zB,GACA/B,GAAA10B,MACA,IAAA8Z,EAAA0a,GAAA5jB,UAAA,MACA5V,EAAAgF,KAAAhF,OACAomB,EAAAhmB,EAAAq7B,GACA3S,EAAAppB,EAAA0mB,EAAApmB,QACAuB,EAAA,EACA,GAAAunB,EAAAhK,EAAA9e,EAAA,MAAAC,EAAAi5B,IACA,MAAA33B,EAAAunB,EAAA9jB,KAAA8Z,EAAAvd,GAAA6kB,EAAA7kB,MAGAm6B,GAAA,CACA5D,QAAA,WACA,OAAAD,GAAAxpB,KAAAqrB,GAAA10B,QAEA4yB,KAAA,WACA,OAAAD,GAAAtpB,KAAAqrB,GAAA10B,QAEA0yB,OAAA,WACA,OAAAD,GAAAppB,KAAAqrB,GAAA10B,SAIA22B,GAAA,SAAAlsB,EAAAtM,GACA,OAAAyxB,EAAAnlB,IACAA,EAAAwpB,KACA,iBAAA91B,GACAA,KAAAsM,GACAjL,QAAArB,IAAAqB,OAAArB,IAEAy4B,GAAA,SAAAnsB,EAAAtM,GACA,OAAAw4B,GAAAlsB,EAAAtM,EAAAkyB,EAAAlyB,GAAA,IACA+xB,EAAA,EAAAzlB,EAAAtM,IACAqzB,EAAA/mB,EAAAtM,IAEA04B,GAAA,SAAApsB,EAAAtM,EAAA24B,GACA,QAAAH,GAAAlsB,EAAAtM,EAAAkyB,EAAAlyB,GAAA,KACAyxB,EAAAkH,IACAxG,EAAAwG,EAAA,WACAxG,EAAAwG,EAAA,QACAxG,EAAAwG,EAAA,QAEAA,EAAAC,cACAzG,EAAAwG,EAAA,cAAAA,EAAAE,UACA1G,EAAAwG,EAAA,gBAAAA,EAAAG,WAIK1F,EAAA9mB,EAAAtM,EAAA24B,IAFLrsB,EAAAtM,GAAA24B,EAAA50B,MACAuI,IAIAupB,KACA1C,EAAAh1B,EAAAs6B,GACAvF,EAAA/0B,EAAAu6B,IAGAn6B,IAAAmxB,EAAAnxB,EAAAG,GAAAm3B,GAAA,UACAkD,yBAAAN,GACAO,eAAAN,KAGA9K,EAAA,WAAyB0H,GAAApqB,KAAA,QACzBoqB,GAAAC,GAAA,WACA,OAAAL,GAAAhqB,KAAArJ,QAIA,IAAAo3B,GAAAjH,EAAA,GAA4CuF,IAC5CvF,EAAAiH,GAAAV,IACAp4B,EAAA84B,GAAAxD,GAAA8C,GAAAhE,QACAvC,EAAAiH,GAAA,CACA3e,MAAA+d,GACAxc,IAAAtX,GACA2F,YAAA,aACA0C,SAAA0oB,GACAE,eAAA8B,KAEAZ,GAAAuC,GAAA,cACAvC,GAAAuC,GAAA,kBACAvC,GAAAuC,GAAA,kBACAvC,GAAAuC,GAAA,cACA7F,EAAA6F,GAAAvD,GAAA,CACAxN,IAAA,WAAsB,OAAArmB,KAAAi0B,OAItBt5B,EAAAC,QAAA,SAAAy8B,EAAA5C,EAAA6C,EAAAC,GACAA,MACA,IAAAC,EAAAH,GAAAE,EAAA,sBACAE,EAAA,MAAAJ,EACAK,EAAA,MAAAL,EACAM,EAAAt5B,EAAAm5B,GACAI,EAAAD,GAAA,GACAE,EAAAF,GAAAlH,EAAAkH,GACAG,GAAAH,IAAA5H,EAAArxB,IACAtC,EAAA,GACA27B,EAAAJ,KAAA9F,GACAmG,EAAA,SAAA/7B,EAAAM,GACA,IAAA0B,EAAAhC,EAAA84B,GACA,OAAA92B,EAAAg6B,EAAAR,GAAAl7B,EAAAk4B,EAAAx2B,EAAAmhB,EAAAiV,KAEA6D,EAAA,SAAAj8B,EAAAM,EAAA2F,GACA,IAAAjE,EAAAhC,EAAA84B,GACAwC,IAAAr1B,KAAAsQ,KAAA6B,MAAAnS,IAAA,IAAAA,EAAA,YAAAA,GACAjE,EAAAg6B,EAAAP,GAAAn7B,EAAAk4B,EAAAx2B,EAAAmhB,EAAAld,EAAAmyB,KAEA8D,EAAA,SAAAl8B,EAAAM,GACAg1B,EAAAt1B,EAAAM,EAAA,CACA8pB,IAAA,WACA,OAAA2R,EAAAh4B,KAAAzD,IAEAyd,IAAA,SAAA9X,GACA,OAAAg2B,EAAAl4B,KAAAzD,EAAA2F,IAEA+0B,YAAA,KAGAa,GACAH,EAAAL,EAAA,SAAAr7B,EAAAgC,EAAAm6B,EAAAC,GACApI,EAAAh0B,EAAA07B,EAAAH,EAAA,MACA,IAEAnrB,EAAA+O,EAAApgB,EAAAs9B,EAFA/7B,EAAA,EACAud,EAAA,EAEA,GAAA8V,EAAA3xB,GAIS,MAAAA,aAAA8zB,IAAAuG,EAAA/H,EAAAtyB,KAAAyzB,GAAA4G,GAAA3G,GAaA,OAAAsC,MAAAh2B,EACT22B,GAAA+C,EAAA15B,GAEA+2B,GAAA3rB,KAAAsuB,EAAA15B,GAfAoO,EAAApO,EACA6b,EAAA0a,GAAA4D,EAAA3D,GACA,IAAA8D,EAAAt6B,EAAAmd,WACA,QAAAtgB,IAAAu9B,EAAA,CACA,GAAAE,EAAA9D,EAAA,MAAAx5B,EAAAi5B,IAEA,GADA9Y,EAAAmd,EAAAze,EACAsB,EAAA,QAAAngB,EAAAi5B,SAGA,GADA9Y,EAAA1gB,EAAA29B,GAAA5D,EACArZ,EAAAtB,EAAAye,EAAA,MAAAt9B,EAAAi5B,IAEAl5B,EAAAogB,EAAAqZ,OAfAz5B,EAAAo1B,EAAAnyB,GACAmd,EAAApgB,EAAAy5B,EACApoB,EAAA,IAAA0lB,EAAA3W,GAmBA9c,EAAArC,EAAA,MACAmkB,EAAA/T,EACA+S,EAAAtF,EACA/a,EAAAqc,EACAhS,EAAApO,EACAi9B,EAAA,IAAAjG,EAAA3lB,KAEA,MAAA9P,EAAAvB,EAAAm9B,EAAAl8B,EAAAM,OAEAw7B,EAAAJ,EAAA9F,GAAA/1B,EAAAs7B,IACA94B,EAAAy5B,EAAA,cAAAJ,IACK5L,EAAA,WACL4L,EAAA,MACK5L,EAAA,WACL,IAAA4L,GAAA,MACK1G,EAAA,SAAAuH,GACL,IAAAb,EACA,IAAAA,EAAA,MACA,IAAAA,EAAA,KACA,IAAAA,EAAAa,KACK,KACLb,EAAAL,EAAA,SAAAr7B,EAAAgC,EAAAm6B,EAAAC,GAEA,IAAAC,EAGA,OAJArI,EAAAh0B,EAAA07B,EAAAH,GAIA5H,EAAA3xB,GACAA,aAAA8zB,IAAAuG,EAAA/H,EAAAtyB,KAAAyzB,GAAA4G,GAAA3G,OACA72B,IAAAu9B,EACA,IAAAT,EAAA35B,EAAAu2B,GAAA4D,EAAA3D,GAAA4D,QACAv9B,IAAAs9B,EACA,IAAAR,EAAA35B,EAAAu2B,GAAA4D,EAAA3D,IACA,IAAAmD,EAAA35B,GAEAg2B,MAAAh2B,EAAA22B,GAAA+C,EAAA15B,GACA+2B,GAAA3rB,KAAAsuB,EAAA15B,GATA,IAAA25B,EAAAxH,EAAAnyB,MAWAg0B,EAAA4F,IAAAY,SAAAv5B,UAAAwxB,EAAAkH,GAAAvW,OAAAqP,EAAAmH,IAAAnH,EAAAkH,GAAA,SAAAz5B,GACAA,KAAAw5B,GAAAr5B,EAAAq5B,EAAAx5B,EAAAy5B,EAAAz5B,MAEAw5B,EAAA9F,GAAAkG,EACAjI,IAAAiI,EAAA1vB,YAAAsvB,IAEA,IAAAe,EAAAX,EAAAnE,IACA+E,IAAAD,IACA,UAAAA,EAAApwB,WAAAxN,GAAA49B,EAAApwB,MACAswB,EAAAlC,GAAAhE,OACAp0B,EAAAq5B,EAAA7D,IAAA,GACAx1B,EAAAy5B,EAAA9D,GAAAuD,GACAl5B,EAAAy5B,EAAAt5B,IAAA,GACAH,EAAAy5B,EAAAhE,GAAA4D,IAEAJ,EAAA,IAAAI,EAAA,GAAA9D,KAAA2D,EAAA3D,MAAAkE,IACAxG,EAAAwG,EAAAlE,GAAA,CACAxN,IAAA,WAA0B,OAAAmR,KAI1Bp7B,EAAAo7B,GAAAG,EAEAj7B,IAAAE,EAAAF,EAAAm8B,EAAAn8B,EAAAG,GAAA86B,GAAAC,GAAAx7B,GAEAM,IAAAmxB,EAAA2J,EAAA,CACA5F,kBAAA6C,IAGA/3B,IAAAmxB,EAAAnxB,EAAAG,EAAAkvB,EAAA,WAAuD6L,EAAAkB,GAAAzvB,KAAAsuB,EAAA,KAA+BH,EAAA,CACtFhI,KAAAwF,GACA8D,GAAAvD,KAGA3D,KAAAmG,GAAAz5B,EAAAy5B,EAAAnG,EAAA6C,GAEA/3B,IAAAq8B,EAAAvB,EAAA9B,IAEAxE,EAAAsG,GAEA96B,IAAAq8B,EAAAr8B,EAAAG,EAAA03B,GAAAiD,EAAA,CAAuDxd,IAAAtX,KAEvDhG,IAAAq8B,EAAAr8B,EAAAG,GAAA87B,EAAAnB,EAAAd,IAEA5G,GAAAiI,EAAAhtB,UAAA0oB,KAAAsE,EAAAhtB,SAAA0oB,IAEA/2B,IAAAq8B,EAAAr8B,EAAAG,EAAAkvB,EAAA,WACA,IAAA4L,EAAA,GAAAlf,UACK+e,EAAA,CAAU/e,MAAA+d,KAEf95B,IAAAq8B,EAAAr8B,EAAAG,GAAAkvB,EAAA,WACA,YAAA4H,kBAAA,IAAAgE,EAAA,OAAAhE,qBACK5H,EAAA,WACLgM,EAAApE,eAAAtqB,KAAA,UACKmuB,EAAA,CAAW7D,eAAA8B,KAEhBzE,EAAAwG,GAAAmB,EAAAD,EAAAE,EACA9I,GAAA6I,GAAAr6B,EAAAy5B,EAAAnE,GAAAgF,SAECj+B,EAAAC,QAAA,gDC9dD,IAAAyD,EAAa5D,EAAQ,QACrBu+B,EAAkBv+B,EAAQ,QAC1Bq1B,EAAcr1B,EAAQ,QACtBs1B,EAAat1B,EAAQ,QACrB6D,EAAW7D,EAAQ,QACnB01B,EAAkB11B,EAAQ,QAC1BsxB,EAAYtxB,EAAQ,QACpBw1B,EAAiBx1B,EAAQ,QACzBD,EAAgBC,EAAQ,QACxBC,EAAeD,EAAQ,QACvB21B,EAAc31B,EAAQ,QACtBi2B,EAAWj2B,EAAQ,QAAgB6B,EACnCi1B,EAAS92B,EAAQ,QAAc6B,EAC/B60B,EAAgB12B,EAAQ,QACxBw+B,EAAqBx+B,EAAQ,QAC7Bi3B,EAAA,cACAwH,EAAA,WACArH,EAAA,YACAqC,EAAA,gBACAiF,EAAA,eACApH,EAAA1zB,EAAAqzB,GACAM,EAAA3zB,EAAA66B,GACA1mB,EAAAnU,EAAAmU,KACAvX,EAAAoD,EAAApD,WAEAoE,EAAAhB,EAAAgB,SACA+5B,EAAArH,EACAsH,EAAA7mB,EAAA6mB,IACAtlB,EAAAvB,EAAAuB,IACAD,EAAAtB,EAAAsB,MACArM,EAAA+K,EAAA/K,IACA6xB,EAAA9mB,EAAA8mB,IACAC,EAAA,SACAC,EAAA,aACAC,EAAA,aACAC,EAAAV,EAAA,KAAAO,EACAI,EAAAX,EAAA,KAAAQ,EACAI,EAAAZ,EAAA,KAAAS,EAGA,SAAAI,EAAA33B,EAAA43B,EAAAC,GACA,IAOA3wB,EAAA4wB,EAAArV,EAPAtY,EAAA,IAAA1M,MAAAo6B,GACAE,EAAA,EAAAF,EAAAD,EAAA,EACAI,GAAA,GAAAD,GAAA,EACAE,EAAAD,GAAA,EACAE,EAAA,KAAAN,EAAA/lB,EAAA,OAAAA,EAAA,SACAjV,EAAA,EACAu7B,EAAAn4B,EAAA,OAAAA,GAAA,EAAAA,EAAA,MAkCA,IAhCAA,EAAAm3B,EAAAn3B,GAEAA,UAAA7C,GAEA26B,EAAA93B,KAAA,IACAkH,EAAA8wB,IAEA9wB,EAAA0K,EAAArM,EAAAvF,GAAAo3B,GACAp3B,GAAAyiB,EAAA5Q,EAAA,GAAA3K,IAAA,IACAA,IACAub,GAAA,GAGAziB,GADAkH,EAAA+wB,GAAA,EACAC,EAAAzV,EAEAyV,EAAArmB,EAAA,IAAAomB,GAEAj4B,EAAAyiB,GAAA,IACAvb,IACAub,GAAA,GAEAvb,EAAA+wB,GAAAD,GACAF,EAAA,EACA5wB,EAAA8wB,GACK9wB,EAAA+wB,GAAA,GACLH,GAAA93B,EAAAyiB,EAAA,GAAA5Q,EAAA,EAAA+lB,GACA1wB,GAAA+wB,IAEAH,EAAA93B,EAAA6R,EAAA,EAAAomB,EAAA,GAAApmB,EAAA,EAAA+lB,GACA1wB,EAAA,IAGQ0wB,GAAA,EAAWztB,EAAAvN,KAAA,IAAAk7B,KAAA,IAAAF,GAAA,GAGnB,IAFA1wB,KAAA0wB,EAAAE,EACAC,GAAAH,EACQG,EAAA,EAAU5tB,EAAAvN,KAAA,IAAAsK,KAAA,IAAA6wB,GAAA,GAElB,OADA5tB,IAAAvN,IAAA,IAAAu7B,EACAhuB,EAEA,SAAAiuB,EAAAjuB,EAAAytB,EAAAC,GACA,IAOAC,EAPAC,EAAA,EAAAF,EAAAD,EAAA,EACAI,GAAA,GAAAD,GAAA,EACAE,EAAAD,GAAA,EACAK,EAAAN,EAAA,EACAn7B,EAAAi7B,EAAA,EACAM,EAAAhuB,EAAAvN,KACAsK,EAAA,IAAAixB,EAGA,IADAA,IAAA,EACQE,EAAA,EAAWnxB,EAAA,IAAAA,EAAAiD,EAAAvN,OAAAy7B,GAAA,GAInB,IAHAP,EAAA5wB,GAAA,IAAAmxB,GAAA,EACAnxB,KAAAmxB,EACAA,GAAAT,EACQS,EAAA,EAAWP,EAAA,IAAAA,EAAA3tB,EAAAvN,OAAAy7B,GAAA,GACnB,OAAAnxB,EACAA,EAAA,EAAA+wB,MACG,IAAA/wB,IAAA8wB,EACH,OAAAF,EAAAQ,IAAAH,GAAAh7B,IAEA26B,GAAAjmB,EAAA,EAAA+lB,GACA1wB,GAAA+wB,EACG,OAAAE,GAAA,KAAAL,EAAAjmB,EAAA,EAAA3K,EAAA0wB,GAGH,SAAAW,EAAA9mB,GACA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,MAAAA,EAAA,GAEA,SAAA+mB,EAAA7/B,GACA,WAAAA,GAEA,SAAA8/B,EAAA9/B,GACA,WAAAA,KAAA,OAEA,SAAA+/B,EAAA//B,GACA,WAAAA,KAAA,MAAAA,GAAA,OAAAA,GAAA,QAEA,SAAAggC,EAAAhgC,GACA,OAAAg/B,EAAAh/B,EAAA,MAEA,SAAAigC,EAAAjgC,GACA,OAAAg/B,EAAAh/B,EAAA,MAGA,SAAAg6B,EAAA/G,EAAA3vB,EAAA22B,GACAvD,EAAAzD,EAAA+D,GAAA1zB,EAAA,CAAyBkoB,IAAA,WAAmB,OAAArmB,KAAA80B,MAG5C,SAAAzO,EAAAtR,EAAApB,EAAApX,EAAAw+B,GACA,IAAAC,GAAAz+B,EACA0+B,EAAA7K,EAAA4K,GACA,GAAAC,EAAAtnB,EAAAoB,EAAA4kB,GAAA,MAAA1+B,EAAAk+B,GACA,IAAA+B,EAAAnmB,EAAA2kB,GAAAyB,GACAtjB,EAAAojB,EAAAlmB,EAAA6kB,GACAwB,EAAAF,EAAAziB,MAAAZ,IAAAlE,GACA,OAAAonB,EAAAK,IAAA/X,UAEA,SAAArJ,EAAAjF,EAAApB,EAAApX,EAAA8+B,EAAAn5B,EAAA64B,GACA,IAAAC,GAAAz+B,EACA0+B,EAAA7K,EAAA4K,GACA,GAAAC,EAAAtnB,EAAAoB,EAAA4kB,GAAA,MAAA1+B,EAAAk+B,GAIA,IAHA,IAAA+B,EAAAnmB,EAAA2kB,GAAAyB,GACAtjB,EAAAojB,EAAAlmB,EAAA6kB,GACAwB,EAAAC,GAAAn5B,GACApD,EAAA,EAAiBA,EAAA6U,EAAW7U,IAAAo8B,EAAArjB,EAAA/Y,GAAAs8B,EAAAL,EAAAj8B,EAAA6U,EAAA7U,EAAA,GAG5B,GAAAixB,EAAArxB,IAgFC,CACD,IAAAqtB,EAAA,WACAgG,EAAA,OACGhG,EAAA,WACH,IAAAgG,GAAA,MACGhG,EAAA,WAIH,OAHA,IAAAgG,EACA,IAAAA,EAAA,KACA,IAAAA,EAAAyI,KACAzI,EAAAzpB,MAAAopB,IACG,CACHK,EAAA,SAAA/2B,GAEA,OADAi1B,EAAAjwB,KAAA+xB,GACA,IAAAqH,EAAAhJ,EAAAp1B,KAGA,IADA,IACAmD,EADAm9B,EAAAvJ,EAAAF,GAAAuH,EAAAvH,GACAe,EAAAlC,EAAA0I,GAAAmC,GAAA,EAAiD3I,EAAA53B,OAAAugC,KACjDp9B,EAAAy0B,EAAA2I,SAAAxJ,GAAAzzB,EAAAyzB,EAAA5zB,EAAAi7B,EAAAj7B,IAEA2xB,IAAAwL,EAAAjzB,YAAA0pB,GAGA,IAAAhd,GAAA,IAAAid,EAAA,IAAAD,EAAA,IACAyJ,GAAAxJ,EAAAH,GAAA4J,QACA1mB,GAAA0mB,QAAA,cACA1mB,GAAA0mB,QAAA,eACA1mB,GAAA2mB,QAAA,IAAA3mB,GAAA2mB,QAAA,IAAAvL,EAAA6B,EAAAH,GAAA,CACA4J,QAAA,SAAAnN,EAAApsB,GACAs5B,GAAAnyB,KAAArJ,KAAAsuB,EAAApsB,GAAA,SAEAoY,SAAA,SAAAgU,EAAApsB,GACAs5B,GAAAnyB,KAAArJ,KAAAsuB,EAAApsB,GAAA,WAEG,QAhHH6vB,EAAA,SAAA/2B,GACAi1B,EAAAjwB,KAAA+xB,EAAAL,GACA,IAAAtW,EAAAgV,EAAAp1B,GACAgF,KAAAm7B,GAAAhK,EAAA9nB,KAAA,IAAA1J,MAAAyb,GAAA,GACApb,KAAA25B,GAAAve,GAGA4W,EAAA,SAAA3lB,EAAAiiB,EAAAlT,GACA6U,EAAAjwB,KAAAgyB,EAAAkH,GACAjJ,EAAA5jB,EAAA0lB,EAAAmH,GACA,IAAAyC,EAAAtvB,EAAAstB,GACA7f,EAAAtf,EAAA8zB,GACA,GAAAxU,EAAA,GAAAA,EAAA6hB,EAAA,MAAA1gC,EAAA,iBAEA,GADAmgB,OAAAtgB,IAAAsgB,EAAAugB,EAAA7hB,EAAApf,EAAA0gB,GACAtB,EAAAsB,EAAAugB,EAAA,MAAA1gC,EAAAi5B,GACAl0B,KAAA05B,GAAArtB,EACArM,KAAA45B,GAAA9f,EACA9Z,KAAA25B,GAAAve,GAGA4d,IACAnE,EAAA9C,EAAAyH,EAAA,MACA3E,EAAA7C,EAAAuH,EAAA,MACA1E,EAAA7C,EAAAwH,EAAA,MACA3E,EAAA7C,EAAAyH,EAAA,OAGAtJ,EAAA6B,EAAAH,GAAA,CACA6J,QAAA,SAAApN,GACA,OAAAjI,EAAArmB,KAAA,EAAAsuB,GAAA,YAEAsN,SAAA,SAAAtN,GACA,OAAAjI,EAAArmB,KAAA,EAAAsuB,GAAA,IAEAuN,SAAA,SAAAvN,GACA,IAAA3a,EAAA0S,EAAArmB,KAAA,EAAAsuB,EAAA1d,UAAA,IACA,OAAA+C,EAAA,MAAAA,EAAA,aAEAmoB,UAAA,SAAAxN,GACA,IAAA3a,EAAA0S,EAAArmB,KAAA,EAAAsuB,EAAA1d,UAAA,IACA,OAAA+C,EAAA,MAAAA,EAAA,IAEAooB,SAAA,SAAAzN,GACA,OAAAmM,EAAApU,EAAArmB,KAAA,EAAAsuB,EAAA1d,UAAA,MAEAorB,UAAA,SAAA1N,GACA,OAAAmM,EAAApU,EAAArmB,KAAA,EAAAsuB,EAAA1d,UAAA,UAEAqrB,WAAA,SAAA3N,GACA,OAAAgM,EAAAjU,EAAArmB,KAAA,EAAAsuB,EAAA1d,UAAA,WAEAsrB,WAAA,SAAA5N,GACA,OAAAgM,EAAAjU,EAAArmB,KAAA,EAAAsuB,EAAA1d,UAAA,WAEA6qB,QAAA,SAAAnN,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAoM,EAAAx4B,IAEAoY,SAAA,SAAAgU,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAoM,EAAAx4B,IAEA2Y,SAAA,SAAAyT,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAqM,EAAAz4B,EAAA0O,UAAA,KAEA+J,UAAA,SAAA2T,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAqM,EAAAz4B,EAAA0O,UAAA,KAEAurB,SAAA,SAAA7N,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAsM,EAAA14B,EAAA0O,UAAA,KAEA8J,UAAA,SAAA4T,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAsM,EAAA14B,EAAA0O,UAAA,KAEAwrB,WAAA,SAAA9N,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAwM,EAAA54B,EAAA0O,UAAA,KAEAyrB,WAAA,SAAA/N,EAAApsB,GACA8X,EAAAha,KAAA,EAAAsuB,EAAAuM,EAAA34B,EAAA0O,UAAA,OAsCAqoB,EAAAlH,EAAAL,GACAuH,EAAAjH,EAAAkH,GACA56B,EAAA0zB,EAAAH,GAAA9B,EAAAtxB,MAAA,GACA7D,EAAA82B,GAAAK,EACAn3B,EAAAs+B,GAAAlH,4CCnRA,IAAAlyB,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAN,EAAAu8B,aAAAv8B,EAAAw8B,WAAAp8B,EAAA,OAAAA,EAAA,OAA0DE,YAAA,oBAA+B,CAAAF,EAAA,YAAiBE,YAAA,cAAAm8B,YAAA,CAAuC5qB,MAAA,SAAgBtR,MAAA,CAAQm8B,UAAA,IAAeC,SAAA,CAAWC,MAAA,SAAAr7B,GAAyB,OAAAA,EAAAf,KAAA4S,QAAA,QAAApT,EAAA68B,GAAAt7B,EAAAu7B,QAAA,WAAAv7B,EAAAnD,IAAA,SAAsF,KAAe4B,EAAA+8B,aAAAx7B,KAAiCE,MAAA,CAAQU,MAAAnC,EAAAuD,UAAA,IAAAnB,SAAA,SAAAC,GAAmDrC,EAAA2C,KAAA3C,EAAAuD,UAAA,MAAAlB,IAAoCC,WAAA,mBAA6BlC,EAAA,aAAkB48B,WAAA,EAAaz0B,KAAA,QAAA00B,QAAA,YAA+B38B,YAAA,cAAAm8B,YAAA,CAAyCS,cAAA,OAAoB38B,MAAA,CAAQ48B,KAAA,kBAAwB18B,GAAA,CAAKC,MAAAV,EAAA+8B,eAA0B,CAAA/8B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,gCAAAh9B,EAAA,aAAoFE,YAAA,cAAAm8B,YAAA,CAAuCS,cAAA,QAAqB38B,MAAA,CAAQC,KAAA,UAAA28B,KAAA,gBAAuC18B,GAAA,CAAKC,MAAAV,EAAAq9B,eAA0B,CAAAr9B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,gCAAAh9B,EAAA,aAAoFE,YAAA,cAAAm8B,YAAA,CAAuCS,cAAA,QAAqB38B,MAAA,CAAQC,KAAA,UAAA28B,KAAA,gBAAuC18B,GAAA,CAAKC,MAAAV,EAAAs9B,aAAwB,CAAAt9B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,8BAAAh9B,EAAA,aAAkFE,YAAA,cAAAC,MAAA,CAAiCC,KAAA,UAAA28B,KAAA,oBAA2C18B,GAAA,CAAKC,MAAAV,EAAAu9B,eAA0B,CAAAv9B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,gCAAAh9B,EAAA,aAAoF48B,WAAA,EAAaz0B,KAAA,QAAA00B,QAAA,YAA+B38B,YAAA,cAAAm8B,YAAA,CAAyCS,cAAA,QAAqB38B,MAAA,CAAQC,KAAA,UAAA28B,KAAA,gBAAuC18B,GAAA,CAAKC,MAAAV,EAAAw9B,aAAwB,CAAAx9B,EAAAY,GAAA,8BAAAR,EAAA,cAAwDG,MAAA,CAAOrC,KAAA8B,EAAA8F,KAAA23B,QAAAz9B,EAAAy9B,QAAAC,UAAA19B,EAAA29B,OAA0Dl9B,GAAA,CAAKm9B,iBAAA59B,EAAA49B,iBAAAC,sBAAA79B,EAAA69B,yBAA2Fz9B,EAAA,cAAmB48B,WAAA,EAAaz0B,KAAA,OAAA00B,QAAA,SAAA96B,MAAAnC,EAAA89B,MAAA,EAAAx7B,WAAA,cAA0E/B,MAAA,CAASu9B,MAAA99B,EAAA89B,MAAAt6B,KAAAxD,EAAAuD,UAAAC,KAAAC,MAAAzD,EAAAuD,UAAAE,OAAwEhD,GAAA,CAAKs9B,cAAA,SAAAx8B,GAA+B,OAAAvB,EAAA2C,KAAA3C,EAAAuD,UAAA,OAAAhC,IAA+Cy8B,eAAA,SAAAz8B,GAAiC,OAAAvB,EAAA2C,KAAA3C,EAAAuD,UAAA,QAAAhC,IAAgD08B,WAAAj+B,EAAAk+B,YAA2B,GAAAl+B,EAAAu8B,WAA2Nn8B,EAAA,OAAAA,EAAA,WAAsCG,MAAA,CAAOC,KAAA,gBAAsB,CAAAJ,EAAA,eAAoBG,MAAA,CAAOsB,MAAA7B,EAAAm+B,aAAwB,CAAA/9B,EAAA,QAAaG,MAAA,CAAO69B,YAAAp+B,EAAA7B,IAAmBsC,GAAA,CAAK49B,iBAAAr+B,EAAAs+B,oBAAsC,WAAnal+B,EAAA,OAAAA,EAAA,WAAgDG,MAAA,CAAOC,KAAA,gBAAsB,CAAAJ,EAAA,eAAoBG,MAAA,CAAOsB,MAAA7B,EAAAm+B,aAAwB,CAAA/9B,EAAA,QAAaG,MAAA,CAAOpC,GAAA6B,EAAA7B,GAAAqC,KAAAR,EAAAQ,MAA4BC,GAAA,CAAK49B,iBAAAr+B,EAAAs+B,oBAAsC,cAC78Ex7B,EAAA,gHCDIy7B,EAAM,WAAgB,IAAAv+B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAF,EAAA,WAAgBoB,IAAA,WAAAlB,YAAA,gBAAAC,MAAA,CAAkDkB,MAAAzB,EAAAw+B,SAAAC,MAAAz+B,EAAAy+B,MAAA98B,cAAA,UAA8D,CAAAvB,EAAA,gBAAqBG,MAAA,CAAOsB,MAAA,QAAAiL,KAAA,eAAqC,CAAA1M,EAAA,YAAiBG,MAAA,CAAOkC,YAAA,SAAsBhB,MAAA,CAAQU,MAAAnC,EAAAw+B,SAAA,WAAAp8B,SAAA,SAAAC,GAAyDrC,EAAA2C,KAAA3C,EAAAw+B,SAAA,aAAAn8B,IAA0CC,WAAA,0BAAmC,GAAAlC,EAAA,gBAAyBG,MAAA,CAAOsB,MAAA,KAAAiL,KAAA,eAAkC,CAAA1M,EAAA,YAAiBG,MAAA,CAAOkC,YAAA,MAAmBhB,MAAA,CAAQU,MAAAnC,EAAAw+B,SAAA,WAAAp8B,SAAA,SAAAC,GAAyDrC,EAAA2C,KAAA3C,EAAAw+B,SAAA,aAAAn8B,IAA0CC,WAAA,0BAAmC,GAAAlC,EAAA,gBAAAA,EAAA,aAAyCG,MAAA,CAAOC,KAAA,WAAiBC,GAAA,CAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAA0+B,WAAA,eAAoC,CAAA1+B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,iCAAAh9B,EAAA,aAAqFK,GAAA,CAAIC,MAAAV,EAAA2+B,SAAoB,CAAA3+B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,6CAC1+BwB,EAAe,eCAEC,aAArB,SAAAC,IAAAhhC,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAA6+B,GAUS7+B,KAAA+B,SAAmB,GAEnB/B,KAAA++B,WAAqB,GAErB/+B,KAAAsC,WAAqB,6DAbRrE,GAClB,IAAM+gC,EAAiB,IAAIH,EAI3B,OAHAG,EAAOj9B,SAAW9D,EAAK8D,SACvBi9B,EAAOD,WAAa9gC,EAAK8gC,WACzBC,EAAO18B,WAAarE,EAAKqE,WAClB08B,WCNUC,aAArB,SAAAC,IAAArhC,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAk/B,GAYSl/B,KAAA+B,SAAmB,GAEnB/B,KAAAuC,SAAmB,GAEnBvC,KAAAiG,WAAqB,GAErBjG,KAAAm/B,UAAoB,GAEpBn/B,KAAAyC,UAAoB,6DAnBPxE,GAClB,IAAMmhC,EAA2B,IAAIF,EAMrC,OALAE,EAAYr9B,SAAW9D,EAAK8D,SAC5Bq9B,EAAY78B,SAAWtE,EAAKsE,SAC5B68B,EAAYn5B,WAAahI,EAAKgI,WAC9Bm5B,EAAYD,UAAYlhC,EAAKkhC,UAC7BC,EAAY38B,UAAYxE,EAAKwE,UACtB28B,WC0BUC,EAArB,SAAAC,GAHA,SAAAC,IAAA,IAAAx7B,EAAA,OAAAlG,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAu/B,kEASUx7B,EAAAw6B,SAAmB,IAAIK,EAEvB76B,EAAAy6B,MAAa,CACnBO,WAAY,CACV,CAAES,UAAU,EAAMC,QAAS,WAAYC,QAAS,SAElDp9B,WAAY,CACV,CAAEk9B,UAAU,EAAMC,QAAS,QAASC,QAAS,UAhBnD37B,EAGA,OAAAlG,OAAA8hC,EAAA,KAAA9hC,CAAA0hC,EAAAD,GAAAzhC,OAAA+hC,EAAA,KAAA/hC,CAAA0hC,EAAA,EAAAphC,IAAA,UAAA+D,MAAA,WAiBsB,SAAdlC,KAAKO,MACPP,KAAK6/B,gBAlBX,CAAA1hC,IAAA,aAAA+D,MAAA,SAsBqB49B,GAAgB,IAAAv7B,EAAAvE,KAC7B+/B,EAAY//B,KAAKggC,MAAMF,GAC3BC,EAAKrL,SAAS,SAACuL,GACb,IAAIA,EAQF,OADAx6B,QAAQgC,IAAI,mBACL,EAPW,SAAdlD,EAAKhE,KACPgE,EAAK84B,aAEL94B,EAAK27B,mBA7Bf,CAAA/hC,IAAA,eAAA+D,MAAA,WAsCsB,IAAAwD,EAAA1F,KAClBnC,OAAA+H,EAAA,KAAA/H,CAASmC,KAAKu+B,UAAUx5B,KAAK,SAAAo7B,GAC3Bz6B,EAAK06B,MAAM,iBAAkB16B,EAAKnF,UAxCxC,CAAApC,IAAA,aAAA+D,MAAA,WA4CoB,IAAAyD,EAAA3F,KAChBnC,OAAA+H,EAAA,KAAA/H,CAAWmC,KAAKu+B,UAAUx5B,KAAK,SAAAo7B,GAC7Bx6B,EAAKy6B,MAAM,iBAAkBz6B,EAAKpF,UA9CxC,CAAApC,IAAA,SAAA+D,MAAA,WAmDIlC,KAAKogC,MAAM,iBAAkB,YAnDjC,CAAAjiC,IAAA,cAAA+D,MAAA,WAsDqB,IAAA4D,EAAA9F,KACjBnC,OAAA+H,EAAA,KAAA/H,CAAcmC,KAAK9B,IAAI6G,KAAK,SAACo7B,GAC3B,IAAMliC,EAAekiC,EAASt6B,KAC9BC,EAAKy4B,SAAWK,EAAOyB,MAAMpiC,KAC5BqH,MAAM,SAAAg7B,GACP76B,QAAQgC,IAAI64B,SA3DlBf,EAAA,CAAkCgB,EAAA,MAEhCC,EAAA,MADC3iC,OAAA0iC,EAAA,KAAA1iC,6BAGD2iC,EAAA,MADC3iC,OAAA0iC,EAAA,KAAA1iC,CAAK,CAAE4iC,QAAS,qCAHEpB,EAAImB,EAAA,MAHxB3iC,OAAA0iC,EAAA,KAAA1iC,CAAU,CACTyK,KAAM,gBAEa+2B,GAAA,IAAAqB,EAAA,ECnC8YC,EAAA,cCOnax6B,EAAgBtI,OAAAuI,EAAA,KAAAvI,CACd8iC,EACArC,EACAK,GACF,EACA,KACA,KACA,MAIeiC,EAAAz6B,0DClBX06B,EAAM,WAAgB,IAAA9gC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAN,EAAA,WAAAI,EAAA,OAAAA,EAAA,OAAuCE,YAAA,oBAA+B,CAAAF,EAAA,YAAiBE,YAAA,cAAAm8B,YAAA,CAAuC5qB,MAAA,SAAgBtR,MAAA,CAAQm8B,UAAA,IAAeC,SAAA,CAAWC,MAAA,SAAAr7B,GAAyB,OAAAA,EAAAf,KAAA4S,QAAA,QAAApT,EAAA68B,GAAAt7B,EAAAu7B,QAAA,WAAAv7B,EAAAnD,IAAA,SAAsF,KAAe4B,EAAA+8B,aAAAx7B,KAAiCE,MAAA,CAAQU,MAAAnC,EAAAuD,UAAA,IAAAnB,SAAA,SAAAC,GAAmDrC,EAAA2C,KAAA3C,EAAAuD,UAAA,MAAAlB,IAAoCC,WAAA,mBAA6BlC,EAAA,aAAkB48B,WAAA,EAAaz0B,KAAA,QAAA00B,QAAA,YAA+B38B,YAAA,cAAAm8B,YAAA,CAAyCS,cAAA,OAAoB38B,MAAA,CAAQ48B,KAAA,kBAAwB18B,GAAA,CAAKC,MAAAV,EAAA+8B,eAA0B,CAAA/8B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,gCAAAh9B,EAAA,aAAoFE,YAAA,cAAAm8B,YAAA,CAAuCS,cAAA,QAAqB38B,MAAA,CAAQC,KAAA,UAAA28B,KAAA,gBAAuC18B,GAAA,CAAKC,MAAAV,EAAAq9B,eAA0B,CAAAr9B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,gCAAAh9B,EAAA,aAAoFE,YAAA,cAAAm8B,YAAA,CAAuCS,cAAA,QAAqB38B,MAAA,CAAQC,KAAA,UAAA28B,KAAA,gBAAuC18B,GAAA,CAAKC,MAAAV,EAAAs9B,aAAwB,CAAAt9B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,8BAAAh9B,EAAA,aAAkFE,YAAA,cAAAC,MAAA,CAAiCC,KAAA,UAAA28B,KAAA,oBAA2C18B,GAAA,CAAKC,MAAAV,EAAAu9B,eAA0B,CAAAv9B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,oCAAAh9B,EAAA,cAAyFG,MAAA,CAAOrC,KAAA8B,EAAA8F,KAAA23B,QAAAz9B,EAAAy9B,QAAAC,UAAA19B,EAAA29B,OAA0Dl9B,GAAA,CAAKm9B,iBAAA59B,EAAA49B,iBAAAC,sBAAA79B,EAAA69B,yBAA2Fz9B,EAAA,cAAmB48B,WAAA,EAAaz0B,KAAA,OAAA00B,QAAA,SAAA96B,MAAAnC,EAAA89B,MAAA,EAAAx7B,WAAA,cAA0E/B,MAAA,CAASu9B,MAAA99B,EAAA89B,MAAAt6B,KAAAxD,EAAAuD,UAAAC,KAAAC,MAAAzD,EAAAuD,UAAAE,OAAwEhD,GAAA,CAAKs9B,cAAA,SAAAx8B,GAA+B,OAAAvB,EAAA2C,KAAA3C,EAAAuD,UAAA,OAAAhC,IAA+Cy8B,eAAA,SAAAz8B,GAAiC,OAAAvB,EAAA2C,KAAA3C,EAAAuD,UAAA,QAAAhC,IAAgD08B,WAAAj+B,EAAAk+B,YAA2B,GAAA99B,EAAA,OAAAA,EAAA,WAA8BG,MAAA,CAAOC,KAAA,gBAAsB,CAAAJ,EAAA,eAAoBG,MAAA,CAAOsB,MAAA,SAAA7B,EAAAQ,KAAA,YAA2C,CAAAJ,EAAA,QAAaG,MAAA,CAAOpC,GAAA6B,EAAA7B,GAAAqC,KAAAR,EAAAQ,KAAA49B,YAAAp+B,EAAAgC,UAAqDvB,GAAA,CAAK49B,iBAAAr+B,EAAAs+B,oBAAsC,cACvuEyC,EAAe,GCDfC,EAAM,WAAgB,IAAAhhC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAF,EAAA,WAAgBoB,IAAA,WAAAlB,YAAA,gBAAAC,MAAA,CAAkDkB,MAAAzB,EAAAw+B,SAAAC,MAAAz+B,EAAAy+B,MAAA98B,cAAA,UAA8D,CAAAvB,EAAA,gBAAqBG,MAAA,CAAOsB,MAAA,QAAAiL,KAAA,aAAmC,CAAA1M,EAAA,YAAiBG,MAAA,CAAOkC,YAAA,SAAsBhB,MAAA,CAAQU,MAAAnC,EAAAw+B,SAAA,SAAAp8B,SAAA,SAAAC,GAAuDrC,EAAA2C,KAAA3C,EAAAw+B,SAAA,WAAAn8B,IAAwCC,WAAA,wBAAiC,GAAAlC,EAAA,gBAAyBG,MAAA,CAAOsB,MAAA,MAAAiL,KAAA,eAAmC,CAAA1M,EAAA,YAAiBG,MAAA,CAAOkC,YAAA,OAAoBhB,MAAA,CAAQU,MAAAnC,EAAAw+B,SAAA,WAAAp8B,SAAA,SAAAC,GAAyDrC,EAAA2C,KAAA3C,EAAAw+B,SAAA,aAAAn8B,IAA0CC,WAAA,0BAAmC,GAAAlC,EAAA,gBAAyBG,MAAA,CAAOsB,MAAA,OAAAiL,KAAA,cAAmC,CAAA1M,EAAA,YAAiBG,MAAA,CAAOkC,YAAA,QAAqBhB,MAAA,CAAQU,MAAAnC,EAAAw+B,SAAA,UAAAp8B,SAAA,SAAAC,GAAwDrC,EAAA2C,KAAA3C,EAAAw+B,SAAA,YAAAn8B,IAAyCC,WAAA,yBAAkC,GAAAlC,EAAA,gBAAyBG,MAAA,CAAOsB,MAAA,OAAc,CAAAzB,EAAA,YAAiBqB,MAAA,CAAOU,MAAAnC,EAAAw+B,SAAA,UAAAp8B,SAAA,SAAAC,GAAwDrC,EAAA2C,KAAA3C,EAAAw+B,SAAA,YAAAn8B,IAAyCC,WAAA,yBAAkC,GAAAlC,EAAA,gBAAAA,EAAA,aAAyCG,MAAA,CAAOC,KAAA,WAAiBC,GAAA,CAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAA0+B,WAAA,eAAoC,CAAA1+B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,iCAAAh9B,EAAA,aAAqFK,GAAA,CAAIC,MAAAV,EAAA2+B,SAAoB,CAAA3+B,EAAAY,GAAA,aAAAZ,EAAAiB,GAAAjB,EAAAo9B,GAAA,6CACx6C6D,EAAe,GCwCEC,EAArB,SAAA3B,GAHA,SAAA4B,IAAA,IAAAn9B,EAAA,OAAAlG,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAkhC,kEAYUn9B,EAAAw6B,SAAwB,IAAIU,EAE5Bl7B,EAAAy6B,MAAa,CACnBrgC,IAAK,CACH,CAAEqhC,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAEjDx9B,MAAO,CACL,CAAEs9B,UAAU,EAAMC,QAAS,SAAUC,QAAS,UAI1C37B,EAAAo9B,cAAwB,GAvBlCp9B,EAGA,OAAAlG,OAAA8hC,EAAA,KAAA9hC,CAAAqjC,EAAA5B,GAAAzhC,OAAA+hC,EAAA,KAAA/hC,CAAAqjC,EAAA,EAAA/iC,IAAA,UAAA+D,MAAA,WAsBIlC,KAAKu+B,SAASx8B,SAAW/B,KAAK+B,SACZ,SAAd/B,KAAKO,MACPP,KAAK6/B,gBAxBX,CAAA1hC,IAAA,aAAA+D,MAAA,SA4BqB49B,GAAgB,IAAAv7B,EAAAvE,KAC7B+/B,EAAY//B,KAAKggC,MAAMF,GAC3BC,EAAKrL,SAAS,SAACuL,GACb,IAAIA,EAQF,OADAx6B,QAAQgC,IAAI,mBACL,EAPW,SAAdlD,EAAKhE,KACPgE,EAAK84B,aAEL94B,EAAK27B,mBAnCf,CAAA/hC,IAAA,eAAA+D,MAAA,WA4CsB,IAAAwD,EAAA1F,KAClBnC,OAAA+H,EAAA,KAAA/H,CAAamC,KAAKu+B,UAAUx5B,KAAK,SAAAo7B,GAC/Bz6B,EAAK06B,MAAM,iBAAkB16B,EAAKnF,UA9CxC,CAAApC,IAAA,aAAA+D,MAAA,WAkDoB,IAAAyD,EAAA3F,KACV+B,EAAW,CACf5D,IAAK6B,KAAKmhC,eAEZtjC,OAAA+H,EAAA,KAAA/H,CAAekE,EAAU/B,KAAKu+B,UAAUx5B,KAAK,SAAAo7B,GAC3Cx6B,EAAKy6B,MAAM,iBAAkBz6B,EAAKpF,UAvDxC,CAAApC,IAAA,SAAA+D,MAAA,WA4DIlC,KAAKogC,MAAM,iBAAkB,YA5DjC,CAAAjiC,IAAA,cAAA+D,MAAA,WA+DqB,IAAA4D,EAAA9F,KACjBnC,OAAA+H,EAAA,KAAA/H,CAAoBmC,KAAK+B,SAAU/B,KAAK9B,IAAI6G,KAAK,SAACo7B,GAChD,IAAMliC,EAAoBkiC,EAASt6B,KACnCC,EAAKy4B,SAAWU,EAAYoB,MAAMpiC,GAClC6H,EAAKq7B,cAAgBr7B,EAAKy4B,SAASh8B,WAClC+C,MAAM,SAAAg7B,GACP76B,QAAQgC,IAAI64B,SArElBY,EAAA,CAAiDX,EAAA,MAE/CC,EAAA,MADC3iC,OAAA0iC,EAAA,KAAA1iC,6BAGD2iC,EAAA,MADC3iC,OAAA0iC,EAAA,KAAA1iC,CAAK,CAAE4iC,QAAS,qCAIjBD,EAAA,MAFC3iC,OAAA0iC,EAAA,KAAA1iC,mCALkBojC,EAAmBT,EAAA,MAHvC3iC,OAAA0iC,EAAA,KAAA1iC,CAAU,CACTyK,KAAM,6BAEa24B,GAAA,IAAAG,EAAA,ECzCkZC,EAAA,ECOnaC,EAAYzjC,OAAAuI,EAAA,KAAAvI,CACdwjC,EACAN,EACAC,GACF,EACA,KACA,KACA,MAIeO,EAAAD,UCyETE,cAAN,SAAAC,IAAA,IAAA19B,EAAA,OAAAlG,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAyhC,kEACS19B,EAAA5F,IAAc,GACd4F,EAAAhC,SAAmB,GAF5BgC,gCAAoBT,EAAA,MAkBCo+B,GAbFC,EAAA,KAanB,SAAArC,GATA,SAAA4B,IAAA,IAAAx7B,EAAA,OAAA7H,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAkhC,kEAWUx7B,EAAA42B,YAAsB,EAEtB52B,EAAApC,UAAmB,IAAIk+B,EAEvB97B,EAAAG,KAAsB,GAEtBH,EAAAk8B,QAAoB,GAEpBl8B,EAAA83B,QAAoB,CAC1B,CACE57B,MAAO,QACPzD,IAAK,YAEP,CACEyD,MAAO,MACPzD,IAAK,cAEP,CACEyD,MAAO,KACPzD,IAAK,aAEP,CACEyD,MAAO,KACPzD,IAAK,cAIDuH,EAAAm4B,MAAgB,EAEhBn4B,EAAAnF,KAAe,GAEfmF,EAAAxH,GAAa,IAEbwH,EAAAm8B,kBAAmC,GAEnCn8B,EAAAg4B,MAAgB,WAKhBh4B,EAAAw4B,WAAqB,KAnD/Bx4B,EASA,OAAA7H,OAAA8hC,EAAA,KAAA9hC,CAAAqjC,EAAA5B,GAAAzhC,OAAA+hC,EAAA,KAAA/hC,CAAAqjC,EAAA,EAAA/iC,IAAA,UAAA+D,MAAA,WA6CIlC,KAAKsD,UAAUvB,SAAW/B,KAAK+B,SAC/B/B,KAAKi+B,YA9CT,CAAA9/B,IAAA,UAAA+D,MAAA,WAkDiB,IAAAyD,EAAA3F,KACbnC,OAAA+H,EAAA,KAAA/H,CAAcmC,KAAKsD,WAAWyB,KAAK,SAACo7B,GAClC,IAAM58B,EAAa48B,EAAS58B,KAC5BoC,EAAKE,KAAOtC,EAAKsC,KACjBF,EAAKk4B,MAAQt6B,EAAKu+B,WAGlBn8B,EAAKi8B,QAAUj8B,EAAKE,KAAKG,IAAI,SAACiyB,GAAD,OAAoBA,EAAEtyB,EAAK+3B,SAExD,IAAMqE,EAAKlxB,SAASmxB,iBAAiB,2CAA2C,GAChFnkC,OAAAokC,EAAA,KAAApkC,CAASkkC,EAAIp8B,EAAKE,KAAMF,EAAKi8B,aA5DnC,CAAAzjC,IAAA,eAAA+D,MAAA,WAiEIlC,KAAKsD,UAAUG,SAAU,EACzBzD,KAAKsD,UAAUC,KAAO,EACtBvD,KAAKi+B,YAnET,CAAA9/B,IAAA,eAAA+D,MAAA,WAuEIlC,KAAKO,KAAO,OACZP,KAAKs8B,YAAa,IAxEtB,CAAAn+B,IAAA,aAAA+D,MAAA,WA2EoB,IAAA4D,EAAA9F,KAChBnC,OAAAqkC,EAAA,KAAArkC,CAAemC,KAAK6hC,kBAAmB,OAAO98B,KAAK,WACjDe,EAAK5H,GAAK4H,EAAK+7B,kBAAkB,GAAG/7B,EAAK43B,OACzC53B,EAAKo4B,WAAa,KAClBp4B,EAAKvF,KAAO,OACZuF,EAAKw2B,YAAa,MAhFxB,CAAAn+B,IAAA,eAAA+D,MAAA,WAoFsB,IAAAigC,EAAAniC,KAClBnC,OAAAqkC,EAAA,KAAArkC,CAAemC,KAAK6hC,mBAAmB98B,KAAK,WAC1Co9B,EAAKC,SAAS,aAAc,KAAM,CAChCC,kBAAmB,KACnBC,iBAAkB,KAClB/hC,KAAM,YACLwE,KAAK,WACN,IAAMw9B,EAAgB,GACtBJ,EAAKN,kBAAkB77B,IAAI,SAAAlE,GACzBygC,EAAI9lC,KAAKqF,EAAKqgC,EAAKzE,UAErB,IAAM37B,EAAW,CACf7D,GAAIikC,EAAKpgC,UAEXlE,OAAA+H,EAAA,KAAA/H,CAAe0kC,EAAKxgC,GAAUgD,KAAK,SAAAo7B,GACjCgC,EAAKK,SAAS,CACZjiC,KAAM,UACNk/B,QAAS,UAEX0C,EAAKrF,mBAENx3B,MAAM,kBAzGf,CAAAnH,IAAA,mBAAA+D,MAAA,SA6G2BqxB,QACLz4B,IAAdy4B,EAAK7vB,OACP1D,KAAKsD,UAAUI,KAAO6vB,EAAK7vB,MAE7B1D,KAAKsD,UAAUK,MAAQ4vB,EAAK5vB,MAC5B3D,KAAK88B,iBAlHT,CAAA3+B,IAAA,wBAAA+D,MAAA,SAoHgChG,GAC5B8D,KAAK6hC,kBAAoB3lC,IArH7B,CAAAiC,IAAA,kBAAA+D,MAAA,SAwH0B+1B,GACZ,WAANA,GACFj4B,KAAK88B,eAEP98B,KAAKs8B,YAAa,MA5HtB4E,EAAA,CAAiDX,EAAA,OAwC/CC,EAAA,MAFC3iC,OAAA0iC,EAAA,KAAA1iC,mCAtCkB6jC,EAAmBlB,EAAA,MATvC3iC,OAAA0iC,EAAA,KAAA1iC,CAAU,CACTyK,KAAM,sBACNm6B,WAAY,CACVC,YAAA,KACAC,aAAA,KACApD,KAAAgC,MAIiBG,GAAA,IAAAkB,EAAA,EC7G8YC,EAAA,ECO/ZC,EAAYjlC,OAAAuI,EAAA,KAAAvI,CACdglC,EACAhC,EACAC,GACF,EACA,KACA,KACA,MAIelf,EAAAkhB,UC6FTC,cAAN,SAAAtB,IAAA,IAAA19B,EAAA,OAAAlG,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAyhC,kEACS19B,EAAA5F,IAAc,GADvB4F,gCAAoBT,EAAA,MAkBC0/B,GAdFrB,EAAA,KAcnB,SAAArC,GAVA,SAAA2D,IAAA,IAAAv9B,EAAA,OAAA7H,OAAAihC,EAAA,KAAAjhC,CAAAmC,KAAAijC,kEAYUv9B,EAAA42B,YAAsB,EAEtB52B,EAAA62B,YAAsB,EAEtB72B,EAAApC,UAAmB,IAAIy/B,EAEvBr9B,EAAAG,KAAiB,GAEjBH,EAAAk8B,QAAoB,GAEpBl8B,EAAA83B,QAAoB,CAC1B,CACE57B,MAAO,KACPzD,IAAK,YAEP,CACEyD,MAAO,QACPzD,IAAK,cAEP,CACEyD,MAAO,KACPzD,IAAK,eAIDuH,EAAAm4B,MAAgB,EAEhBn4B,EAAAnF,KAAe,GAEfmF,EAAAxH,GAAa,IAEbwH,EAAAm8B,kBAA8B,GAE9Bn8B,EAAAg4B,MAAgB,WAEhBh4B,EAAAw4B,WAAqB,KA/C/Bx4B,EAUA,OAAA7H,OAAA8hC,EAAA,KAAA9hC,CAAAolC,EAAA3D,GAAAzhC,OAAA+hC,EAAA,KAAA/hC,CAAAolC,EAAA,EAAA9kC,IAAA,UAAA+D,MAAA,WAwCIlC,KAAKi+B,YAxCT,CAAA9/B,IAAA,UAAA+D,MAAA,WA4CiB,IAAAyD,EAAA3F,KACbnC,OAAA+H,EAAA,KAAA/H,CAAUmC,KAAKsD,WAAWyB,KAAK,SAACo7B,GAC9B,IAAM58B,EAAa48B,EAAS58B,KAC5BoC,EAAKE,KAAOtC,EAAKsC,KACjBF,EAAKk4B,MAAQt6B,EAAKu+B,WAGlBn8B,EAAKi8B,QAAUj8B,EAAKE,KAAKG,IAAI,SAACiyB,GAAD,OAAeA,EAAEtyB,EAAK+3B,SAEnD,IAAMqE,EAAKlxB,SAASmxB,iBAAiB,2CAA2C,GAChFnkC,OAAAokC,EAAA,KAAApkC,CAASkkC,EAAIp8B,EAAKE,KAAMF,EAAKi8B,aAtDnC,CAAAzjC,IAAA,eAAA+D,MAAA,WA2DIlC,KAAKsD,UAAUG,SAAU,EACzBzD,KAAKsD,UAAUC,KAAO,EACtBvD,KAAKi+B,YA7DT,CAAA9/B,IAAA,eAAA+D,MAAA,WAiEIlC,KAAKO,KAAO,OACZP,KAAKs8B,YAAa,IAlEtB,CAAAn+B,IAAA,aAAA+D,MAAA,WAqEoB,IAAA4D,EAAA9F,KAChBnC,OAAAqkC,EAAA,KAAArkC,CAAemC,KAAK6hC,kBAAmB,OAAO98B,KAAK,WACjDe,EAAK5H,GAAK4H,EAAK+7B,kBAAkB,GAAG/7B,EAAK43B,OACzC53B,EAAKvF,KAAO,OACZuF,EAAKw2B,YAAa,MAzExB,CAAAn+B,IAAA,eAAA+D,MAAA,WA6EsB,IAAAigC,EAAAniC,KAClBnC,OAAAqkC,EAAA,KAAArkC,CAAemC,KAAK6hC,mBAAmB98B,KAAK,WAC1Co9B,EAAKC,SAAS,aAAc,KAAM,CAChCC,kBAAmB,KACnBC,iBAAkB,KAClB/hC,KAAM,YACLwE,KAAK,WACN,IAAMw9B,EAAgB,GACtBJ,EAAKN,kBAAkB77B,IAAI,SAAAlE,GACzBygC,EAAI9lC,KAAKqF,EAAKqgC,EAAKzE,UAErB7/B,OAAA+H,EAAA,KAAA/H,CAAW0kC,GAAKx9B,KAAK,SAAAo7B,GACnBgC,EAAKK,SAAS,CACZjiC,KAAM,UACNk/B,QAAS,UAEX0C,EAAKrF,mBAENx3B,MAAM,kBA/Ff,CAAAnH,IAAA,mBAAA+D,MAAA,SAmG2BqxB,QACLz4B,IAAdy4B,EAAK7vB,OACP1D,KAAKsD,UAAUI,KAAO6vB,EAAK7vB,MAE7B1D,KAAKsD,UAAUK,MAAQ4vB,EAAK5vB,MAC5B3D,KAAK88B,iBAxGT,CAAA3+B,IAAA,wBAAA+D,MAAA,SA0GgChG,GAC5B8D,KAAK6hC,kBAAoB3lC,IA3G7B,CAAAiC,IAAA,kBAAA+D,MAAA,SA8G0B+1B,GACZ,WAANA,GACFj4B,KAAK88B,eAEP98B,KAAKs8B,YAAa,IAlHtB,CAAAn+B,IAAA,aAAA+D,MAAA,WAqHoB,IAAAghC,EAAAljC,KAChBnC,OAAAqkC,EAAA,KAAArkC,CAAemC,KAAK6hC,kBAAmB,OAAO98B,KAAK,WACjDm+B,EAAKhF,WAAa,OAClBgF,EAAKhlC,GAAKglC,EAAKrB,kBAAkB,GAAG9/B,SACpCmhC,EAAK3G,YAAa,QAzHxB0G,EAAA,CAA6C1C,EAAA,OAAxByC,EAAexC,EAAA,MAVnC3iC,OAAA0iC,EAAA,KAAA1iC,CAAU,CACTyK,KAAM,kBACNm6B,WAAY,CACVC,YAAA,KACAC,aAAA,KACApD,KAAAqB,EACAuC,KAAAvhB,MAIiBohB,GAAA,IAAAI,EAAA,ECjI+YC,EAAA,ECOhaC,EAAYzlC,OAAAuI,EAAA,KAAAvI,CACdwlC,EACAvjC,EACA+C,GACF,EACA,KACA,KACA,MAIe7F,EAAA,WAAAsmC,gCClBf3oC,EAAAC,QAAiBH,EAAQ","file":"js/RecordingManage.d8222452.js","sourcesContent":["// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","module.exports = require(\"core-js/library/fn/date/now\");","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","import request from '@/utils/request'\r\nimport { ListQuery } from '@/domains/listQuery'\r\nimport { Engine, EngineParam } from '@/domains/recording'\r\n\r\ninterface ID {\r\n  id: string\r\n}\r\n\r\ninterface Key {\r\n  key: string\r\n}\r\n\r\nexport function fetchList(query: ListQuery) {\r\n  return request({\r\n    url: '/sys/engineController',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function saveData(data: Engine) {\r\n  return request({\r\n    url: '/sys/engineController',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function fetchEditInfo(id: string) {\r\n  const url = '/sys/engineController/' + id\r\n  return request({\r\n    url,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateData(data: Engine) {\r\n  return request({\r\n    url: '/sys/engineController',\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteData(data: string[]) {\r\n  return request({\r\n    url: '/sys/engineController',\r\n    method: 'delete',\r\n    data\r\n  })\r\n}\r\n\r\nexport function fetchInfoList(query: ListQuery) {\r\n  return request({\r\n    url: '/sys/engineParamController',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function saveInfoData(data: EngineParam) {\r\n  return request({\r\n    url: '/sys/engineParamController',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteInfoData(data: string[], id: ID) {\r\n  return request({\r\n    url: '/sys/engineParamController',\r\n    method: 'delete',\r\n    data,\r\n    params: id\r\n  })\r\n}\r\n\r\nexport function fetchEditParamsInfo(id: string, key: string) {\r\n  const url = 'sys/engineParamController/getOptionValue/' + id + '/' + key\r\n  return request({\r\n    url,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateInfoData(key: Key, data: EngineParam) {\r\n  return request({\r\n    url: '/sys/engineParamController',\r\n    method: 'put',\r\n    data,\r\n    params: key\r\n  })\r\n}\r\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeConfig}},[_vm._v(\"\\n      修改配置\\n    \")]),_c('el-button',{attrs:{\"disabled\":_vm.recording,\"type\":\"primary\"},on:{\"click\":_vm.startRecording}},[_vm._v(\"\\n      录音\\n    \")]),_c('el-button',{attrs:{\"disabled\":!_vm.recording,\"type\":\"primary\"},on:{\"click\":_vm.stopRecording}},[_vm._v(\"\\n      结束\\n    \")])],1),_c('p',[_vm._v(\"翻译结果：\"+_vm._s(_vm.text))]),_c('el-dialog',{attrs:{\"visible\":_vm.isShowDialog,\"title\":\"修改引擎\"},on:{\"update:visible\":function($event){_vm.isShowDialog=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label-width\":_vm.formLabelWidth,\"label\":\"引擎类型\"}},[_vm._l((_vm.optionList),function(item){return _c('el-radio',{key:item.engineId,attrs:{\"label\":item.engineId},on:{\"change\":_vm.radioChange},model:{value:(_vm.engineId),callback:function ($$v) {_vm.engineId=$$v},expression:\"engineId\"}},[_vm._v(\"\\n            \"+_vm._s(item.engineDesc)+\"\\n          \")])})],2),_vm._l((_vm.paramsList),function(item){return _c('el-form-item',{key:item.paramKey,attrs:{\"label-width\":_vm.formLabelWidth,\"label\":item.paramKey}},[_c('el-input',{attrs:{\"placeholder\":item.paramDesc},model:{value:(item.paramValue),callback:function ($$v) {_vm.$set(item, \"paramValue\", $$v)},expression:\"item.paramValue\"}})],1)})],2),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isShowDialog = false}}},[_vm._v(\"\\n        取消\\n      \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleConfig('ruleForm')}}},[_vm._v(\"\\n        确定\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\nexport function fetAudio(data: any) {\r\n  return request({\r\n    url: '/AudioController/audioConvertToText',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function fetchOptionList() {\r\n  return request({\r\n    url: '/sys/engineController/getOptionValue',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function updateInfo(data: any, id: any) {\r\n  return request({\r\n    url: '/sys/engineParamController/updateEngineParam',\r\n    method: 'put',\r\n    params: id,\r\n    data\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <el-button type=\"primary\" @click=\"changeConfig\">\r\n        修改配置\r\n      </el-button>\r\n      <el-button :disabled=\"recording\" type=\"primary\" @click=\"startRecording\">\r\n        录音\r\n      </el-button>\r\n      <el-button :disabled=\"!recording\" type=\"primary\" @click=\"stopRecording\">\r\n        结束\r\n      </el-button>\r\n    </div>\r\n    <p>翻译结果：{{ text }}</p>\r\n    <el-dialog :visible.sync=\"isShowDialog\" title=\"修改引擎\">\r\n      <el-form ref=\"ruleForm\" :model=\"form\">\r\n        <el-form-item :label-width=\"formLabelWidth\" label=\"引擎类型\">\r\n          <template>\r\n            <el-radio\r\n              v-for=\"item in optionList\"\r\n              :key=\"item.engineId\"\r\n              v-model=\"engineId\"\r\n              :label=\"item.engineId\"\r\n              @change=\"radioChange\"\r\n            >\r\n              {{ item.engineDesc }}\r\n            </el-radio>\r\n          </template>\r\n        </el-form-item>\r\n        <el-form-item v-for=\"item in paramsList\" :key=\"item.paramKey\" :label-width=\"formLabelWidth\" :label=\"item.paramKey\">\r\n          <el-input v-model=\"item.paramValue\" :placeholder=\"item.paramDesc\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"isShowDialog = false\">\r\n          取消\r\n        </el-button>\r\n        <el-button type=\"primary\" @click=\"handleConfig('ruleForm')\">\r\n          确定\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WebAudioTrack from '@/utils/recordRtc.js' // 录音插件\r\nimport { fetAudio, fetchOptionList, updateInfo } from '@/api/demo/recording'\r\nimport { fetchInfoList } from '@/api/sysManage/recordingManage'\r\nexport default {\r\n  data() {\r\n    return {\r\n      audioTrack: null,\r\n      recording: false,\r\n      text: '',\r\n      optionList: [],\r\n      engineId: 0,\r\n      formLabelWidth: '100px',\r\n      paramsList: [],\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 99,\r\n        _search: false,\r\n        sidx: 'param_key',\r\n        order: 'desc',\r\n        paramKey: '',\r\n        engineId: ''\r\n      },\r\n      isShowDialog: false,\r\n      form: {}\r\n    }\r\n  },\r\n  created() {\r\n    this.getOptionList()\r\n  },\r\n  methods: {\r\n    startRecording() {\r\n      if (!this.engineId) {\r\n        this.$alert('请修改引擎配置')\r\n        return\r\n      }\r\n      this.captureMicrophone((microphone) => {\r\n        this.audioTrack = WebAudioTrack(microphone, {\r\n          type: 'audio',\r\n          recorderType: WebAudioTrack.StereoAudioRecorder,\r\n          desiredSampRate: 16000\r\n        })\r\n        this.audioTrack.startRecording()\r\n        this.recording = true\r\n      })\r\n    },\r\n    stopRecording() {\r\n      this.audioTrack.stopRecording(() => {\r\n        this.recording = false\r\n        var blob = this.audioTrack.getBlob()\r\n        const reader = new FileReader()\r\n        reader.readAsDataURL(blob)\r\n        reader.onloadend = () => {\r\n          // console.log('reader.result: ' + reader.result)\r\n          // let engine = ''\r\n          // for (let i = 0, length = this.optionList.length; i < length; i++) {\r\n          //   if (this.optionList[i].id === this.id) {\r\n          //     engine = this.optionList[i].engineName\r\n          //     break\r\n          //   }\r\n          // }\r\n          const data = {\r\n            audioBase64: reader.result,\r\n            // engine: 'baidu'\r\n            key: this.engineId\r\n          }\r\n\r\n          fetAudio(data).then(responese => {\r\n            this.text = responese.msg\r\n          })\r\n        }\r\n      })\r\n    },\r\n    captureMicrophone(callback) {\r\n      navigator.mediaDevices.getUserMedia({ audio: true }).then(callback).catch(function(error) {\r\n        alert('Unable to access your microphone.')\r\n        console.error(error)\r\n        alert(error)\r\n      })\r\n    },\r\n    getOptionList() {\r\n      fetchOptionList().then(responese => {\r\n        this.optionList = responese.data\r\n        this.engineId = this.optionList.length > 0 ? this.optionList[0].engineId : ''\r\n      })\r\n    },\r\n    radioChange(engineId) {\r\n      this.listQuery.engineId = engineId\r\n      fetchInfoList(this.listQuery).then(responese => {\r\n        this.paramsList = responese.page.list\r\n      })\r\n    },\r\n    changeConfig() {\r\n      if (this.engineId) {\r\n        this.radioChange(this.engineId)\r\n      }\r\n      this.isShowDialog = true\r\n    },\r\n    handleConfig() {\r\n      const config = {}\r\n      this.paramsList.map(item => {\r\n        config[item.paramKey] = item.paramValue\r\n      })\r\n      updateInfo(config, { key: this.engineId }).then(responese => {\r\n        this.isShowDialog = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recording.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recording.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recording.vue?vue&type=template&id=3203f906&\"\nimport script from \"./recording.vue?vue&type=script&lang=js&\"\nexport * from \"./recording.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\r\n\r\n'use strict';\r\n\r\n// Last time updated: 2019-01-15 1:33:03 AM UTC\r\n\r\n// ________________\r\n// RecordRTC v5.5.3\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\n// ____________\r\n// RecordRTC.js\r\n\r\n/**\r\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. \r\n * @summary Record audio, video or screen inside the browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTC\r\n * @class\r\n * @example\r\n * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {\r\n *     type: 'video', // audio or video or gif or canvas\r\n *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc\r\n * });\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}\r\n */\r\n\r\n /* eslint-disable */\r\nvar globalContext = null\r\nfunction RecordRTC(mediaStream, config) {\r\n    if (!mediaStream) {\r\n        throw 'First parameter is required.';\r\n    }\r\n\r\n    config = config || {\r\n        type: 'video'\r\n    };\r\n\r\n    config = new RecordRTCConfiguration(mediaStream, config);\r\n\r\n    // a reference to user's recordRTC object\r\n    var self = this;\r\n\r\n    function startRecording(config2) {\r\n        console.log('s1')\r\n        if (!!config2) {\r\n            // allow users to set options using startRecording method\r\n            // config2 is similar to main \"config\" object (second parameter over RecordRTC constructor)\r\n            config = new RecordRTCConfiguration(mediaStream, config2);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('started recording ' + config.type + ' stream.');\r\n        }\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder.record();\r\n\r\n            setState('recording');\r\n\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n            return self;\r\n        }\r\n\r\n        initRecorder(function() {\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n        });\r\n\r\n        return self;\r\n    }\r\n\r\n    function initRecorder(initCallback) {\r\n        if (initCallback) {\r\n            config.initCallback = function() {\r\n                initCallback();\r\n                initCallback = config.initCallback = null; // recorder.initRecorder should be call-backed once.\r\n            };\r\n        }\r\n        var Recorder = new GetRecorderType(mediaStream, config);\r\n\r\n        mediaRecorder = new Recorder(mediaStream, config);\r\n        mediaRecorder.record();\r\n\r\n        setState('recording');\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\r\n        }\r\n    }\r\n\r\n    function stopRecording(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n        if (self.state === 'paused') {\r\n            self.resumeRecording();\r\n\r\n            setTimeout(function() {\r\n                stopRecording(callback);\r\n            }, 1);\r\n            return;\r\n        }\r\n        if (self.state !== 'recording' && !config.disableLogs) {\r\n            console.warn('Recording state should be: \"recording\", however current state is: ', self.state);\r\n        }\r\n        if (!config.disableLogs) {\r\n            console.log('Stopped recording ' + config.type + ' stream.');\r\n        }\r\n        if (config.type !== 'gif') {\r\n            mediaRecorder.stop(_callback);\r\n        } else {\r\n            mediaRecorder.stop();\r\n            _callback();\r\n        }\r\n        setState('stopped');\r\n\r\n        function _callback(__blob) {\r\n            if (!mediaRecorder) {\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, '');\r\n                } else {\r\n                    callback('');\r\n                }\r\n                return;\r\n            }\r\n            Object.keys(mediaRecorder).forEach(function(key) {\r\n                if (typeof mediaRecorder[key] === 'function') {\r\n                    return;\r\n                }\r\n\r\n                self[key] = mediaRecorder[key];\r\n            });\r\n            var blob = mediaRecorder.blob;\r\n\r\n            if (!blob) {\r\n                if (__blob) {\r\n                    mediaRecorder.blob = blob = __blob;\r\n                } else {\r\n                    throw 'Recording failed.';\r\n                }\r\n            }\r\n            if (blob && !config.disableLogs) {\r\n                console.log(blob.type, '->', bytesToSize(blob.size));\r\n            }\r\n            if (callback) {\r\n                var url;\r\n\r\n                try {\r\n                    url = URL.createObjectURL(blob);\r\n                } catch (e) {}\r\n\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, url);\r\n                } else {\r\n                    callback(url);\r\n                }\r\n            }\r\n            globalContext.close()\r\n            // self.destroy()\r\n            if (!config.autoWriteToDisk) {\r\n                return;\r\n            }\r\n\r\n            getDataURL(function(dataURL) {\r\n                var parameter = {};\r\n                parameter[config.type + 'Blob'] = dataURL;\r\n                DiskStorage.Store(parameter);\r\n            });\r\n        }\r\n    }\r\n\r\n    function pauseRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to pause the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('paused');\r\n\r\n        mediaRecorder.pause();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Paused recording.');\r\n        }\r\n    }\r\n\r\n    function resumeRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'paused') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to resume the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('recording');\r\n\r\n        // not all libs have this method yet\r\n        mediaRecorder.resume();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Resumed recording.');\r\n        }\r\n    }\r\n\r\n    function readFile(_blob) {\r\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n    }\r\n\r\n    function getDataURL(callback, _mediaRecorder) {\r\n        if (!callback) {\r\n            throw 'Pass a callback function over getDataURL.';\r\n        }\r\n\r\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\r\n\r\n        if (!blob) {\r\n            if (!config.disableLogs) {\r\n                console.warn('Blob encoder did not finish its job yet.');\r\n            }\r\n\r\n            setTimeout(function() {\r\n                getDataURL(callback, _mediaRecorder);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\r\n            var webWorker = processInWebWorker(readFile);\r\n\r\n            webWorker.onmessage = function(event) {\r\n                callback(event.data);\r\n            };\r\n\r\n            webWorker.postMessage(blob);\r\n        } else {\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onload = function(event) {\r\n                callback(event.target.result);\r\n            };\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            try {\r\n                var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                    'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n                ], {\r\n                    type: 'application/javascript'\r\n                }));\r\n\r\n                var worker = new Worker(blob);\r\n                URL.revokeObjectURL(blob);\r\n                return worker;\r\n            } catch (e) {}\r\n        }\r\n    }\r\n\r\n    function handleRecordingDuration(counter) {\r\n        counter = counter || 0;\r\n\r\n        if (self.state === 'paused') {\r\n            setTimeout(function() {\r\n                handleRecordingDuration(counter);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'stopped') {\r\n            return;\r\n        }\r\n\r\n        if (counter >= self.recordingDuration) {\r\n            stopRecording(self.onRecordingStopped);\r\n            return;\r\n        }\r\n\r\n        counter += 1000; // 1-second\r\n\r\n        setTimeout(function() {\r\n            handleRecordingDuration(counter);\r\n        }, 1000);\r\n    }\r\n\r\n    function setState(state) {\r\n        if (!self) {\r\n            return;\r\n        }\r\n\r\n        self.state = state;\r\n\r\n        if (typeof self.onStateChanged.call === 'function') {\r\n            self.onStateChanged.call(self, state);\r\n        } else {\r\n            self.onStateChanged(state);\r\n        }\r\n    }\r\n\r\n    var WARNING = 'It seems that recorder is destroyed or \"startRecording\" is not invoked for ' + config.type + ' recorder.';\r\n\r\n    function warningLog() {\r\n        if (config.disableLogs === true) {\r\n            return;\r\n        }\r\n\r\n        console.warn(WARNING);\r\n    }\r\n\r\n    var mediaRecorder;\r\n\r\n    var returnObject = {\r\n        /**\r\n         * This method starts the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var recorder = RecordRTC(mediaStream, {\r\n         *     type: 'video'\r\n         * });\r\n         * recorder.startRecording();\r\n         */\r\n        startRecording: startRecording,\r\n\r\n        /**\r\n         * This method stops the recording. It is strongly recommended to get \"blob\" or \"URI\" inside the callback to make sure all recorders finished their job.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     // use either \"this\" or \"recorder\" object; both are identical\r\n         *     video.src = this.toURL();\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        stopRecording: stopRecording,\r\n\r\n        /**\r\n         * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Firefox is unable to pause the recording. Fix it.\r\n         * @example\r\n         * recorder.pauseRecording();  // pause the recording\r\n         * recorder.resumeRecording(); // resume again\r\n         */\r\n        pauseRecording: pauseRecording,\r\n\r\n        /**\r\n         * This method resumes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.pauseRecording();  // first of all, pause the recording\r\n         * recorder.resumeRecording(); // now resume it\r\n         */\r\n        resumeRecording: resumeRecording,\r\n\r\n        /**\r\n         * This method initializes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * recorder.initRecorder();\r\n         */\r\n        initRecorder: initRecorder,\r\n\r\n        /**\r\n         * Ask RecordRTC to auto-stop the recording after 5 minutes.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var fiveMinutes = 5 * 1000 * 60;\r\n         * recorder.setRecordingDuration(fiveMinutes, function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         * \r\n         * // or otherwise\r\n         * recorder.setRecordingDuration(fiveMinutes).onRecordingStopped(function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         */\r\n        setRecordingDuration: function(recordingDuration, callback) {\r\n            if (typeof recordingDuration === 'undefined') {\r\n                throw 'recordingDuration is required.';\r\n            }\r\n\r\n            if (typeof recordingDuration !== 'number') {\r\n                throw 'recordingDuration must be a number.';\r\n            }\r\n\r\n            self.recordingDuration = recordingDuration;\r\n            self.onRecordingStopped = callback || function() {};\r\n\r\n            return {\r\n                onRecordingStopped: function(callback) {\r\n                    self.onRecordingStopped = callback;\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * This method can be used to clear/reset all the recorded data.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Figure out the difference between \"reset\" and \"clearRecordedData\" methods.\r\n         * @example\r\n         * recorder.clearRecordedData();\r\n         */\r\n        clearRecordedData: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            mediaRecorder.clearRecordedData();\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('Cleared old recorded data.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get the recorded blob. Use this method inside the \"stopRecording\" callback.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.getBlob();\r\n         *\r\n         *     var file = new File([blob], 'filename.webm', {\r\n         *         type: 'video/webm'\r\n         *     });\r\n         *\r\n         *     var formData = new FormData();\r\n         *     formData.append('file', file); // upload \"File\" object rather than a \"Blob\"\r\n         *     uploadToServer(formData);\r\n         * });\r\n         * @returns {Blob} Returns recorded data as \"Blob\" object.\r\n         */\r\n        getBlob: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return mediaRecorder.blob;\r\n        },\r\n\r\n        /**\r\n         * Get data-URI instead of Blob.\r\n         * @param {function} callback - Callback to get the Data-URI.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     recorder.getDataURL(function(dataURI) {\r\n         *         video.src = dataURI;\r\n         *     });\r\n         * });\r\n         */\r\n        getDataURL: getDataURL,\r\n\r\n        /**\r\n         * Get virtual/temporary URL. Usage of this URL is limited to current tab.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     video.src = this.toURL();\r\n         * });\r\n         * @returns {String} Returns a virtual/temporary URL for the recorded \"Blob\".\r\n         */\r\n        toURL: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return URL.createObjectURL(mediaRecorder.blob);\r\n        },\r\n\r\n        /**\r\n         * Get internal recording object (i.e. internal module) e.g. MutliStreamRecorder, MediaStreamRecorder, StereoAudioRecorder or WhammyRecorder etc.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var internal = recorder.getInternalRecorder();\r\n         * if(internal instanceof MultiStreamRecorder) {\r\n         *     internal.addStreams([newAudioStream]);\r\n         *     internal.resetVideoStreams([screenStream]);\r\n         * }\r\n         * @returns {Object} Returns internal recording object.\r\n         */\r\n        getInternalRecorder: function() {\r\n            return mediaRecorder;\r\n        },\r\n\r\n        /**\r\n         * Invoke save-as dialog to save the recorded blob into your disk.\r\n         * @param {string} fileName - Set your own file name.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     this.save('file-name');\r\n         *\r\n         *     // or manually:\r\n         *     invokeSaveAsDialog(this.getBlob(), 'filename.webm');\r\n         * });\r\n         */\r\n        save: function(fileName) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\r\n        },\r\n\r\n        /**\r\n         * This method gets a blob from indexed-DB storage.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.getFromDisk(function(dataURL) {\r\n         *     video.src = dataURL;\r\n         * });\r\n         */\r\n        getFromDisk: function(callback) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            RecordRTC.getFromDisk(config.type, callback);\r\n        },\r\n\r\n        /**\r\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\r\n         * @type {Array.<Array>}\r\n         * @param {Array} arrayOfWebPImages - Array of webp images.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * var arrayOfWebPImages = [];\r\n         * arrayOfWebPImages.push({\r\n         *     duration: index,\r\n         *     image: 'data:image/webp;base64,...'\r\n         * });\r\n         * recorder.setAdvertisementArray(arrayOfWebPImages);\r\n         */\r\n        setAdvertisementArray: function(arrayOfWebPImages) {\r\n            config.advertisement = [];\r\n\r\n            var length = arrayOfWebPImages.length;\r\n            for (var i = 0; i < length; i++) {\r\n                config.advertisement.push({\r\n                    duration: i,\r\n                    image: arrayOfWebPImages[i]\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * It is equivalent to <code class=\"str\">\"recorder.getBlob()\"</code> method. Usage of \"getBlob\" is recommended, though.\r\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.blob;\r\n         *\r\n         *     // below one is recommended\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        blob: null,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} bufferSize - Buffer-size used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used this buffer-size: ' + this.bufferSize);\r\n         * });\r\n         */\r\n        bufferSize: 0,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} sampleRate - Sample-rates used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used these sample-rates: ' + this.sampleRate);\r\n         * });\r\n         */\r\n        sampleRate: 0,\r\n\r\n        /**\r\n         * {recorderType:StereoAudioRecorder} returns ArrayBuffer object.\r\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var arrayBuffer = this.buffer;\r\n         *     alert(arrayBuffer.byteLength);\r\n         * });\r\n         */\r\n        buffer: null,\r\n\r\n        /**\r\n         * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.reset();\r\n         * recorder.startRecording();\r\n         */\r\n        reset: function() {\r\n            if (mediaRecorder && typeof mediaRecorder.clearRecordedData === 'function') {\r\n                mediaRecorder.clearRecordedData();\r\n            }\r\n            mediaRecorder = null;\r\n            setState('inactive');\r\n            self.blob = null;\r\n        },\r\n\r\n        /**\r\n         * This method is called whenever recorder's state changes. Use this as an \"event\".\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.onStateChanged = function(state) {\r\n         *     console.log('Recorder state: ', state);\r\n         * };\r\n         */\r\n        onStateChanged: function(state) {\r\n            if (!config.disableLogs) {\r\n                console.log('Recorder state changed:', state);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * A recorder can have inactive, recording, paused or stopped states.\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * // this looper function will keep you updated about the recorder's states.\r\n         * (function looper() {\r\n         *     document.querySelector('h1').innerHTML = 'Recorder's state is: ' + recorder.state;\r\n         *     if(recorder.state === 'stopped') return; // ignore+stop\r\n         *     setTimeout(looper, 1000); // update after every 3-seconds\r\n         * })();\r\n         * recorder.startRecording();\r\n         */\r\n        state: 'inactive',\r\n\r\n        /**\r\n         * Get recorder's readonly state.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * var state = recorder.getState();\r\n         * @returns {String} Returns recording state.\r\n         */\r\n        getState: function() {\r\n            return self.state;\r\n        },\r\n\r\n        /**\r\n         * Destroy RecordRTC instance. Clear all recorders and objects.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * recorder.destroy();\r\n         */\r\n        destroy: function() {\r\n            var disableLogsCache = config.disableLogs;\r\n\r\n            config = {\r\n                disableLogs: true\r\n            };\r\n            self.reset();\r\n            setState('destroyed');\r\n            returnObject = self = null;\r\n\r\n            if (Storage.AudioContextConstructor) {\r\n                Storage.AudioContextConstructor.close();\r\n                Storage.AudioContextConstructor = null;\r\n            }\r\n\r\n            config.disableLogs = disableLogsCache;\r\n\r\n            if (!config.disableLogs) {\r\n                console.warn('RecordRTC is destroyed.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * RecordRTC version number\r\n         * @property {String} version - Release version number.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * alert(recorder.version);\r\n         */\r\n        version: '5.5.3'\r\n    };\r\n\r\n    if (!this) {\r\n        self = returnObject;\r\n        return returnObject;\r\n    }\r\n\r\n    // if someone wants to use RecordRTC with the \"new\" keyword.\r\n    for (var prop in returnObject) {\r\n        this[prop] = returnObject[prop];\r\n    }\r\n\r\n    self = this;\r\n\r\n    return returnObject;\r\n}\r\n\r\nRecordRTC.version = '5.5.3';\r\n\r\n// if (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n//     module.exports = RecordRTC;\r\n// }\r\nexport default RecordRTC\r\n\r\nif (typeof define === 'function' && define.amd) {\r\n    define('RecordRTC', [], function() {\r\n        return RecordRTC;\r\n    });\r\n}\r\n\r\nRecordRTC.getFromDisk = function(type, callback) {\r\n    if (!callback) {\r\n        throw 'callback is mandatory.';\r\n    }\r\n\r\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\r\n    DiskStorage.Fetch(function(dataURL, _type) {\r\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\r\n            callback(dataURL);\r\n        }\r\n\r\n        if (type === 'all' && callback) {\r\n            callback(dataURL, _type.replace('Blob', ''));\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof RecordRTC\r\n * @example\r\n * RecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nRecordRTC.writeToDisk = function(options) {\r\n    console.log('Writing recorded blob(s) to disk!');\r\n    options = options || {};\r\n    if (options.audio && options.video && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                options.gif.getDataURL(function(gifDataURL) {\r\n                    DiskStorage.Store({\r\n                        audioBlob: audioDataURL,\r\n                        videoBlob: videoDataURL,\r\n                        gifBlob: gifDataURL\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.video) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    videoBlob: videoDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.video && options.gif) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    videoBlob: videoDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            DiskStorage.Store({\r\n                audioBlob: audioDataURL\r\n            });\r\n        });\r\n    } else if (options.video) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            DiskStorage.Store({\r\n                videoBlob: videoDataURL\r\n            });\r\n        });\r\n    } else if (options.gif) {\r\n        options.gif.getDataURL(function(gifDataURL) {\r\n            DiskStorage.Store({\r\n                gifBlob: gifDataURL\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\n// __________________________\r\n// RecordRTC-Configuration.js\r\n\r\n/**\r\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCConfiguration\r\n * @class\r\n * @example\r\n * var options = RecordRTCConfiguration(mediaStream, options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\r\n */\r\n\r\nfunction RecordRTCConfiguration(mediaStream, config) {\r\n    console.log('123123123')\r\n    if (!config.recorderType && !config.type) {\r\n        if (!!config.audio && !!config.video) {\r\n            config.type = 'video';\r\n        } else if (!!config.audio && !config.video) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    if (config.recorderType && !config.type) {\r\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder || (typeof WebAssemblyRecorder !== 'undefined' && config.recorderType === WebAssemblyRecorder)) {\r\n            config.type = 'video';\r\n        } else if (config.recorderType === GifRecorder) {\r\n            config.type = 'gif';\r\n        } else if (config.recorderType === StereoAudioRecorder) {\r\n            config.type = 'audio';\r\n        } else if (config.recorderType === MediaStreamRecorder) {\r\n            if (getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (!getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (getTracks(mediaStream, 'audio').length && !getTracks(mediaStream, 'video').length) {\r\n                config.type = 'audio';\r\n            } else {\r\n                // config.type = 'UnKnown';\r\n            }\r\n        }\r\n    }\r\n\r\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (!config.mimeType) {\r\n            config.mimeType = 'video/webm';\r\n        }\r\n\r\n        if (!config.type) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n\r\n        if (!config.bitsPerSecond) {\r\n            // config.bitsPerSecond = 128000;\r\n        }\r\n    }\r\n\r\n    // consider default type=audio\r\n    if (!config.type) {\r\n        if (config.mimeType) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n        if (!config.type) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    return config;\r\n}\r\n\r\n// __________________\r\n// GetRecorderType.js\r\n\r\n/**\r\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It returns best recorder-type available for your browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef GetRecorderType\r\n * @class\r\n * @example\r\n * var RecorderType = GetRecorderType(options);\r\n * var recorder = new RecorderType(options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction GetRecorderType(mediaStream, config) {\r\n    var recorder;\r\n\r\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\r\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\r\n    if (isChrome || isEdge || isOpera) {\r\n        // Media Stream Recording API has not been implemented in chrome yet;\r\n        // That's why using WebAudio API to record stereo audio in WAV format\r\n        recorder = StereoAudioRecorder;\r\n    }\r\n\r\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    // video recorder (in WebM format)\r\n    if (config.type === 'video' && (isChrome || isOpera)) {\r\n        recorder = WhammyRecorder;\r\n\r\n        if (typeof WebAssemblyRecorder !== 'undefined' && typeof ReadableStream !== 'undefined') {\r\n            recorder = WebAssemblyRecorder;\r\n        }\r\n    }\r\n\r\n    // video recorder (in Gif format)\r\n    if (config.type === 'gif') {\r\n        recorder = GifRecorder;\r\n    }\r\n\r\n    // html2canvas recording!\r\n    if (config.type === 'canvas') {\r\n        recorder = CanvasRecorder;\r\n    }\r\n\r\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (getTracks(mediaStream, 'video').length || getTracks(mediaStream, 'audio').length) {\r\n            // audio-only recording\r\n            if (config.type === 'audio') {\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('audio/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n                // else recorder = StereoAudioRecorder;\r\n            } else {\r\n                // video or screen tracks\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('video/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (mediaStream instanceof Array && mediaStream.length) {\r\n        recorder = MultiStreamRecorder;\r\n    }\r\n\r\n    if (config.recorderType) {\r\n        recorder = config.recorderType;\r\n    }\r\n\r\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\r\n        console.log('Using recorderType:', recorder.name || recorder.constructor.name);\r\n    }\r\n\r\n    if (!recorder && isSafari) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    return recorder;\r\n}\r\n\r\n// _____________\r\n// MRecordRTC.js\r\n\r\n/**\r\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\r\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef MRecordRTC\r\n * @class\r\n * @example\r\n * var recorder = new MRecordRTC();\r\n * recorder.addStream(MediaStream);\r\n * recorder.mediaType = {\r\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\r\n *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder\r\n *     gif: true    // or GifRecorder\r\n * };\r\n * // mimeType is optional and should be set only in advance cases.\r\n * recorder.mimeType = {\r\n *     audio: 'audio/wav',\r\n *     video: 'video/webm',\r\n *     gif:   'image/gif'\r\n * };\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction MRecordRTC(mediaStream) {\r\n\r\n    /**\r\n     * This method attaches MediaStream object to {@link MRecordRTC}.\r\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.addStream(MediaStream);\r\n     */\r\n    this.addStream = function(_mediaStream) {\r\n        if (_mediaStream) {\r\n            mediaStream = _mediaStream;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\r\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * var recorder = new MRecordRTC();\r\n     * recorder.mediaType = {\r\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\r\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder\r\n     *     gif  : true  // TRUE or GifRecorder\r\n     * };\r\n     */\r\n    this.mediaType = {\r\n        audio: true,\r\n        video: true\r\n    };\r\n\r\n    /**\r\n     * This method starts recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.startRecording();\r\n     */\r\n    this.startRecording = function() {\r\n        console.log('s')\r\n        var mediaType = this.mediaType;\r\n        var recorderType;\r\n        var mimeType = this.mimeType || {\r\n            audio: null,\r\n            video: null,\r\n            gif: null\r\n        };\r\n\r\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'audio').length) {\r\n            mediaType.audio = false;\r\n        }\r\n\r\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.video = false;\r\n        }\r\n\r\n        if (typeof mediaType.gif !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.gif = false;\r\n        }\r\n\r\n        if (!mediaType.audio && !mediaType.video && !mediaType.gif) {\r\n            throw 'MediaStream must have either audio or video tracks.';\r\n        }\r\n\r\n        if (!!mediaType.audio) {\r\n            recorderType = null;\r\n            if (typeof mediaType.audio === 'function') {\r\n                recorderType = mediaType.audio;\r\n            }\r\n\r\n            this.audioRecorder = new RecordRTC(mediaStream, {\r\n                type: 'audio',\r\n                bufferSize: this.bufferSize,\r\n                sampleRate: this.sampleRate,\r\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.audio,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp\r\n            });\r\n\r\n            if (!mediaType.video) {\r\n                this.audioRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.video) {\r\n            recorderType = null;\r\n            if (typeof mediaType.video === 'function') {\r\n                recorderType = mediaType.video;\r\n            }\r\n\r\n            var newStream = mediaStream;\r\n\r\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\r\n                var videoTrack = getTracks(mediaStream, 'video')[0];\r\n\r\n                if (!!navigator.mozGetUserMedia) {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n\r\n                    if (recorderType && recorderType === WhammyRecorder) {\r\n                        // Firefox does NOT support webp-encoding yet\r\n                        recorderType = MediaStreamRecorder;\r\n                    }\r\n                } else {\r\n                    newStream = new MediaStream([videoTrack]);\r\n                }\r\n            }\r\n\r\n            this.videoRecorder = new RecordRTC(newStream, {\r\n                type: 'video',\r\n                video: this.video,\r\n                canvas: this.canvas,\r\n                frameInterval: this.frameInterval || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.video,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp,\r\n                workerPath: this.workerPath,\r\n                webAssemblyPath: this.webAssemblyPath\r\n            });\r\n\r\n            if (!mediaType.audio) {\r\n                this.videoRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.audio && !!mediaType.video) {\r\n            var self = this;\r\n\r\n            // this line prevents StereoAudioRecorder\r\n            // todo: fix it\r\n            if (isMediaRecorderCompatible() /* && !this.audioRecorder */ ) {\r\n                self.audioRecorder = null;\r\n                self.videoRecorder.startRecording();\r\n            } else {\r\n                self.videoRecorder.initRecorder(function() {\r\n                    self.audioRecorder.initRecorder(function() {\r\n                        // Both recorders are ready to record things accurately\r\n                        self.videoRecorder.startRecording();\r\n                        self.audioRecorder.startRecording();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.gif) {\r\n            recorderType = null;\r\n            if (typeof mediaType.gif === 'function') {\r\n                recorderType = mediaType.gif;\r\n            }\r\n            this.gifRecorder = new RecordRTC(mediaStream, {\r\n                type: 'gif',\r\n                frameRate: this.frameRate || 200,\r\n                quality: this.quality || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.gif\r\n            });\r\n            this.gifRecorder.startRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording.\r\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.stopRecording(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     */\r\n    this.stopRecording = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'audio');\r\n            });\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'video');\r\n            });\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'gif');\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.pauseRecording();\r\n     */\r\n    this.pauseRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.pauseRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.resumeRecording();\r\n     */\r\n    this.resumeRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.resumeRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs.\r\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getBlob(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     * // or\r\n     * var audioBlob = recorder.getBlob().audio;\r\n     * var videoBlob = recorder.getBlob().video;\r\n     */\r\n    this.getBlob = function(callback) {\r\n        var output = {};\r\n\r\n        if (this.audioRecorder) {\r\n            output.audio = this.audioRecorder.getBlob();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            output.video = this.videoRecorder.getBlob();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            output.gif = this.gifRecorder.getBlob();\r\n        }\r\n\r\n        if (callback) {\r\n            callback(output);\r\n        }\r\n\r\n        return output;\r\n    };\r\n\r\n    /**\r\n     * Destroy all recorder instances.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.destroy();\r\n     */\r\n    this.destroy = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.destroy();\r\n            this.audioRecorder = null;\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.destroy();\r\n            this.videoRecorder = null;\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.destroy();\r\n            this.gifRecorder = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs' DataURLs.\r\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getDataURL(function(recording){\r\n     *     var audioDataURL = recording.audio;\r\n     *     var videoDataURL = recording.video;\r\n     *     var gifDataURL   = recording.gif;\r\n     * });\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        this.getBlob(function(blob) {\r\n            if (blob.audio && blob.video) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    getDataURL(blob.video, function(_videoDataURL) {\r\n                        callback({\r\n                            audio: _audioDataURL,\r\n                            video: _videoDataURL\r\n                        });\r\n                    });\r\n                });\r\n            } else if (blob.audio) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    callback({\r\n                        audio: _audioDataURL\r\n                    });\r\n                });\r\n            } else if (blob.video) {\r\n                getDataURL(blob.video, function(_videoDataURL) {\r\n                    callback({\r\n                        video: _videoDataURL\r\n                    });\r\n                });\r\n            }\r\n        });\r\n\r\n        function getDataURL(blob, callback00) {\r\n            if (typeof Worker !== 'undefined') {\r\n                var webWorker = processInWebWorker(function readFile(_blob) {\r\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n                });\r\n\r\n                webWorker.onmessage = function(event) {\r\n                    callback00(event.data);\r\n                };\r\n\r\n                webWorker.postMessage(blob);\r\n            } else {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onload = function(event) {\r\n                    callback00(event.target.result);\r\n                };\r\n            }\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n            ], {\r\n                type: 'application/javascript'\r\n            }));\r\n\r\n            var worker = new Worker(blob);\r\n            var url;\r\n            if (typeof URL !== 'undefined') {\r\n                url = URL;\r\n            } else if (typeof webkitURL !== 'undefined') {\r\n                url = webkitURL;\r\n            } else {\r\n                throw 'Neither URL nor webkitURL detected.';\r\n            }\r\n            url.revokeObjectURL(blob);\r\n            return worker;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.writeToDisk();\r\n     */\r\n    this.writeToDisk = function() {\r\n        RecordRTC.writeToDisk({\r\n            audio: this.audioRecorder,\r\n            video: this.videoRecorder,\r\n            gif: this.gifRecorder\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\r\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.save({\r\n     *     audio: 'audio-file-name',\r\n     *     video: 'video-file-name',\r\n     *     gif  : 'gif-file-name'\r\n     * });\r\n     */\r\n    this.save = function(args) {\r\n        args = args || {\r\n            audio: true,\r\n            video: true,\r\n            gif: true\r\n        };\r\n\r\n        if (!!args.audio && this.audioRecorder) {\r\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\r\n        }\r\n\r\n        if (!!args.video && this.videoRecorder) {\r\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\r\n        }\r\n        if (!!args.gif && this.gifRecorder) {\r\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * This method can be used to get all recorded blobs from IndexedDB storage.\r\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\r\n * @param {function} callback - Callback function to get all stored blobs.\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\r\n *     if(type === 'audio') { }\r\n *     if(type === 'video') { }\r\n *     if(type === 'gif')   { }\r\n * });\r\n */\r\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MRecordRTC = MRecordRTC;\r\n}\r\n\r\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n(function(that) {\r\n    if (!that) {\r\n        return;\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof global === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    global.navigator = {\r\n        userAgent: browserFakeUserAgent,\r\n        getUserMedia: function() {}\r\n    };\r\n\r\n    if (!global.console) {\r\n        global.console = {};\r\n    }\r\n\r\n    if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n        global.console.error = global.console.log = global.console.log || function() {\r\n            console.log(arguments);\r\n        };\r\n    }\r\n\r\n    if (typeof document === 'undefined') {\r\n        /*global document:true */\r\n        that.document = {};\r\n\r\n        document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n            var obj = {\r\n                getContext: function() {\r\n                    return obj;\r\n                },\r\n                play: function() {},\r\n                pause: function() {},\r\n                drawImage: function() {},\r\n                toDataURL: function() {\r\n                    return '';\r\n                }\r\n            };\r\n            return obj;\r\n        };\r\n\r\n        that.HTMLVideoElement = function() {};\r\n    }\r\n\r\n    if (typeof location === 'undefined') {\r\n        /*global location:true */\r\n        that.location = {\r\n            protocol: 'file:',\r\n            href: '',\r\n            hash: ''\r\n        };\r\n    }\r\n\r\n    if (typeof screen === 'undefined') {\r\n        /*global screen:true */\r\n        that.screen = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    }\r\n\r\n    if (typeof URL === 'undefined') {\r\n        /*global screen:true */\r\n        that.URL = {\r\n            createObjectURL: function() {\r\n                return '';\r\n            },\r\n            revokeObjectURL: function() {\r\n                return '';\r\n            }\r\n        };\r\n    }\r\n\r\n    /*global window:true */\r\n    that.window = global;\r\n})(typeof global !== 'undefined' ? global : null);\r\n\r\n// _____________________________\r\n// Cross-Browser-Declarations.js\r\n\r\n// animation-frame used in WebM recording\r\n\r\n/*jshint -W079 */\r\nvar requestAnimationFrame = window.requestAnimationFrame;\r\nif (typeof requestAnimationFrame === 'undefined') {\r\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = webkitRequestAnimationFrame;\r\n    } else if (typeof mozRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = mozRequestAnimationFrame;\r\n    } else if (typeof msRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = msRequestAnimationFrame;\r\n    } else if (typeof requestAnimationFrame === 'undefined') {\r\n        // via: https://gist.github.com/paulirish/1579671\r\n        var lastTime = 0;\r\n\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar cancelAnimationFrame = window.cancelAnimationFrame;\r\nif (typeof cancelAnimationFrame === 'undefined') {\r\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = webkitCancelAnimationFrame;\r\n    } else if (typeof mozCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = mozCancelAnimationFrame;\r\n    } else if (typeof msCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = msCancelAnimationFrame;\r\n    } else if (typeof cancelAnimationFrame === 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n    }\r\n}\r\n\r\n// WebAudio API representer\r\nvar AudioContext = window.AudioContext;\r\n\r\nif (typeof AudioContext === 'undefined') {\r\n    if (typeof webkitAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    if (typeof mozAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = mozAudioContext;\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar URL = window.URL;\r\n\r\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n    /*global URL:true */\r\n    URL = webkitURL;\r\n}\r\n\r\nif (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n    }\r\n\r\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.mozGetUserMedia;\r\n    }\r\n}\r\n\r\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\r\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\r\nvar isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && ('netscape' in window) && / rv:/.test(navigator.userAgent);\r\nvar isChrome = (!isOpera && !isEdge && !!navigator.webkitGetUserMedia) || isElectron() || navigator.userAgent.toLowerCase().indexOf('chrome/') !== -1;\r\n\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\nif (isSafari && !isChrome && navigator.userAgent.indexOf('CriOS') !== -1) {\r\n    isSafari = false;\r\n    isChrome = true;\r\n}\r\n\r\nvar MediaStream = window.MediaStream;\r\n\r\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n    MediaStream = webkitMediaStream;\r\n}\r\n\r\n/*global MediaStream:true */\r\nif (typeof MediaStream !== 'undefined') {\r\n    // override \"stop\" method for all browsers\r\n    if (typeof MediaStream.prototype.stop === 'undefined') {\r\n        MediaStream.prototype.stop = function() {\r\n            this.getTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        };\r\n    }\r\n}\r\n\r\n// below function via: http://goo.gl/B3ae8c\r\n/**\r\n * Return human-readable file size.\r\n * @param {number} bytes - Pass bytes and get formatted string.\r\n * @returns {string} - formatted string\r\n * @example\r\n * bytesToSize(1024*1024*5) === '5 GB'\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction bytesToSize(bytes) {\r\n    var k = 1000;\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) {\r\n        return '0 Bytes';\r\n    }\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\r\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object. This parameter is required.\r\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\r\n * @example\r\n * invokeSaveAsDialog(blob or file, [optional] fileName);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction invokeSaveAsDialog(file, fileName) {\r\n    if (!file) {\r\n        throw 'Blob object is required.';\r\n    }\r\n\r\n    if (!file.type) {\r\n        try {\r\n            file.type = 'video/webm';\r\n        } catch (e) {}\r\n    }\r\n\r\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\r\n\r\n    if (fileName && fileName.indexOf('.') !== -1) {\r\n        var splitted = fileName.split('.');\r\n        fileName = splitted[0];\r\n        fileExtension = splitted[1];\r\n    }\r\n\r\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\r\n\r\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\r\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\r\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\r\n        return navigator.msSaveBlob(file, fileFullName);\r\n    }\r\n\r\n    var hyperlink = document.createElement('a');\r\n    hyperlink.href = URL.createObjectURL(file);\r\n    hyperlink.download = fileFullName;\r\n\r\n    hyperlink.style = 'display:none;opacity:0;color:transparent;';\r\n    (document.body || document.documentElement).appendChild(hyperlink);\r\n\r\n    if (typeof hyperlink.click === 'function') {\r\n        hyperlink.click();\r\n    } else {\r\n        hyperlink.target = '_blank';\r\n        hyperlink.dispatchEvent(new MouseEvent('click', {\r\n            view: window,\r\n            bubbles: true,\r\n            cancelable: true\r\n        }));\r\n    }\r\n\r\n    URL.revokeObjectURL(hyperlink.href);\r\n}\r\n\r\n/**\r\n * from: https://github.com/cheton/is-electron/blob/master/index.js\r\n **/\r\nfunction isElectron() {\r\n    // Renderer process\r\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\r\n        return true;\r\n    }\r\n\r\n    // Main process\r\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\r\n        return true;\r\n    }\r\n\r\n    // Detect the user agent when the `nodeIntegration` option is set to true\r\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction getTracks(stream, kind) {\r\n    if (!stream || !stream.getTracks) {\r\n        return [];\r\n    }\r\n\r\n    return stream.getTracks().filter(function(t) {\r\n        return t.kind === (kind || 'audio');\r\n    });\r\n}\r\n\r\nfunction setSrcObject(stream, element) {\r\n    if ('srcObject' in element) {\r\n        element.srcObject = stream;\r\n    } else if ('mozSrcObject' in element) {\r\n        element.mozSrcObject = stream;\r\n    } else {\r\n        element.srcObject = stream;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object.\r\n * @param {function} callback - Callback function.\r\n * @example\r\n * getSeekableBlob(blob or file, callback);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction getSeekableBlob(inputBlob, callback) {\r\n    // EBML.js copyrights goes to: https://github.com/legokichi/ts-ebml\r\n    if (typeof EBML === 'undefined') {\r\n        throw new Error('Please link: https://cdn.webrtc-experiment.com/EBML.js');\r\n    }\r\n\r\n    var reader = new EBML.Reader();\r\n    var decoder = new EBML.Decoder();\r\n    var tools = EBML.tools;\r\n\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function(e) {\r\n        var ebmlElms = decoder.decode(this.result);\r\n        ebmlElms.forEach(function(element) {\r\n            reader.read(element);\r\n        });\r\n        reader.stop();\r\n        var refinedMetadataBuf = tools.makeMetadataSeekable(reader.metadatas, reader.duration, reader.cues);\r\n        var body = this.result.slice(reader.metadataSize);\r\n        var newBlob = new Blob([refinedMetadataBuf, body], {\r\n            type: 'video/webm'\r\n        });\r\n\r\n        callback(newBlob);\r\n    };\r\n    fileReader.readAsArrayBuffer(inputBlob);\r\n}\r\n\r\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\r\n// Storage.js\r\n\r\n/**\r\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @example\r\n * Storage.AudioContext === webkitAudioContext\r\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Storage = {};\r\n\r\nif (typeof AudioContext !== 'undefined') {\r\n    Storage.AudioContext = AudioContext;\r\n} else if (typeof webkitAudioContext !== 'undefined') {\r\n    Storage.AudioContext = webkitAudioContext;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Storage = Storage;\r\n}\r\n\r\nfunction isMediaRecorderCompatible() {\r\n    if (isFirefox || isSafari || isEdge) {\r\n        return true;\r\n    }\r\n\r\n    var nVer = navigator.appVersion;\r\n    var nAgt = navigator.userAgent;\r\n    var fullVersion = '' + parseFloat(navigator.appVersion);\r\n    var majorVersion = parseInt(navigator.appVersion, 10);\r\n    var nameOffset, verOffset, ix;\r\n\r\n    if (isChrome || isOpera) {\r\n        verOffset = nAgt.indexOf('Chrome');\r\n        fullVersion = nAgt.substring(verOffset + 7);\r\n    }\r\n\r\n    // trim the fullVersion string at semicolon/space if present\r\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    majorVersion = parseInt('' + fullVersion, 10);\r\n\r\n    if (isNaN(majorVersion)) {\r\n        fullVersion = '' + parseFloat(navigator.appVersion);\r\n        majorVersion = parseInt(navigator.appVersion, 10);\r\n    }\r\n\r\n    return majorVersion >= 49;\r\n}\r\n\r\n// ______________________\r\n// MediaStreamRecorder.js\r\n\r\n/**\r\n * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.\r\n * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link https://github.com/muaz-khan|Muaz Khan}\r\n * @typedef MediaStreamRecorder\r\n * @class\r\n * @example\r\n * var config = {\r\n *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis\r\n *     audioBitsPerSecond : 256 * 8 * 1024,\r\n *     videoBitsPerSecond : 256 * 8 * 1024,\r\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\r\n *     checkForInactiveTracks: true,\r\n *     timeSlice: 1000, // concatenate intervals based blobs\r\n *     ondataavailable: function() {} // get intervals based blobs\r\n * }\r\n * var recorder = new MediaStreamRecorder(mediaStream, config);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", timeSlice: 1000}\r\n * @throws Will throw an error if first argument \"MediaStream\" is missing. Also throws error if \"MediaRecorder API\" are not supported by the browser.\r\n */\r\n\r\nfunction MediaStreamRecorder(mediaStream, config) {\r\n    var self = this;\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    if (typeof MediaRecorder === 'undefined') {\r\n        throw 'Your browser does not supports Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.';\r\n    }\r\n\r\n    config = config || {\r\n        // bitsPerSecond: 256 * 8 * 1024,\r\n        mimeType: 'video/webm'\r\n    };\r\n\r\n    if (config.type === 'audio') {\r\n        if (getTracks(mediaStream, 'video').length && getTracks(mediaStream, 'audio').length) {\r\n            var stream;\r\n            if (!!navigator.mozGetUserMedia) {\r\n                stream = new MediaStream();\r\n                stream.addTrack(getTracks(mediaStream, 'audio')[0]);\r\n            } else {\r\n                // webkitMediaStream\r\n                stream = new MediaStream(getTracks(mediaStream, 'audio'));\r\n            }\r\n            mediaStream = stream;\r\n        }\r\n\r\n        if (!config.mimeType || config.mimeType.toString().toLowerCase().indexOf('audio') === -1) {\r\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\r\n        }\r\n\r\n        if (config.mimeType && config.mimeType.toString().toLowerCase() !== 'audio/ogg' && !!navigator.mozGetUserMedia) {\r\n            // forcing better codecs on Firefox (via #166)\r\n            config.mimeType = 'audio/ogg';\r\n        }\r\n    }\r\n\r\n    var arrayOfBlobs = [];\r\n\r\n    /**\r\n     * This method returns array of blobs. Use only with \"timeSlice\". Its useful to preview recording anytime, without using the \"stop\" method.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var arrayOfBlobs = recorder.getArrayOfBlobs();\r\n     * @returns {Array} Returns array of recorded blobs.\r\n     */\r\n    this.getArrayOfBlobs = function() {\r\n        return arrayOfBlobs;\r\n    };\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // set defaults\r\n        self.blob = null;\r\n        self.clearRecordedData();\r\n        self.timestamps = [];\r\n        allStates = [];\r\n        arrayOfBlobs = [];\r\n\r\n        var recorderHints = config;\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (isChrome && !isMediaRecorderCompatible()) {\r\n            // to support video-only recording on stable\r\n            recorderHints = 'video/vp8';\r\n        }\r\n\r\n        if (typeof MediaRecorder.isTypeSupported === 'function' && recorderHints.mimeType) {\r\n            if (!MediaRecorder.isTypeSupported(recorderHints.mimeType)) {\r\n                if (!config.disableLogs) {\r\n                    console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n                }\r\n\r\n                recorderHints.mimeType = config.type === 'audio' ? 'audio/webm' : 'video/webm';\r\n            }\r\n        }\r\n\r\n        // using MediaRecorder API here\r\n        try {\r\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\r\n\r\n            // reset\r\n            config.mimeType = recorderHints.mimeType;\r\n        } catch (e) {\r\n            // chrome-based fallback\r\n            mediaRecorder = new MediaRecorder(mediaStream);\r\n        }\r\n\r\n        // old hack?\r\n        if (recorderHints.mimeType && !MediaRecorder.isTypeSupported && 'canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(recorderHints.mimeType) === false) {\r\n            if (!config.disableLogs) {\r\n                console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n            }\r\n        }\r\n\r\n        // Dispatching OnDataAvailable Handler\r\n        mediaRecorder.ondataavailable = function(e) {\r\n            if (e.data) {\r\n                allStates.push('ondataavailable: ' + bytesToSize(e.data.size));\r\n            }\r\n\r\n            if (typeof config.timeSlice === 'number') {\r\n                if (e.data && e.data.size && e.data.size > 100) {\r\n                    arrayOfBlobs.push(e.data);\r\n                    updateTimeStamp();\r\n\r\n                    if (typeof config.ondataavailable === 'function') {\r\n                        // intervals based blobs\r\n                        var blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                            type: getMimeType(recorderHints)\r\n                        });\r\n                        config.ondataavailable(blob);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\r\n                // make sure that stopRecording always getting fired\r\n                // even if there is invalid data\r\n                if (self.recordingCallback) {\r\n                    self.recordingCallback(new Blob([], {\r\n                        type: getMimeType(recorderHints)\r\n                    }));\r\n                    self.recordingCallback = null;\r\n                }\r\n                return;\r\n            }\r\n\r\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                type: getMimeType(recorderHints)\r\n            });\r\n\r\n            if (self.recordingCallback) {\r\n                self.recordingCallback(self.blob);\r\n                self.recordingCallback = null;\r\n            }\r\n        };\r\n\r\n        mediaRecorder.onstart = function() {\r\n            allStates.push('started');\r\n        };\r\n\r\n        mediaRecorder.onpause = function() {\r\n            allStates.push('paused');\r\n        };\r\n\r\n        mediaRecorder.onresume = function() {\r\n            allStates.push('resumed');\r\n        };\r\n\r\n        mediaRecorder.onstop = function() {\r\n            allStates.push('stopped');\r\n        };\r\n\r\n        mediaRecorder.onerror = function(error) {\r\n            if (!error) {\r\n                return;\r\n            }\r\n\r\n            if (!error.name) {\r\n                error.name = 'UnknownError';\r\n            }\r\n\r\n            allStates.push('error: ' + error);\r\n\r\n            if (!config.disableLogs) {\r\n                // via: https://w3c.github.io/mediacapture-record/MediaRecorder.html#exception-summary\r\n                if (error.name.toString().toLowerCase().indexOf('invalidstate') !== -1) {\r\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('notsupported') !== -1) {\r\n                    console.error('MIME type (', recorderHints.mimeType, ') is not supported.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('security') !== -1) {\r\n                    console.error('MediaRecorder security error', error);\r\n                }\r\n\r\n                // older code below\r\n                else if (error.name === 'OutOfMemory') {\r\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'IllegalStreamModification') {\r\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'OtherRecordingError') {\r\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'GenericError') {\r\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\r\n                } else {\r\n                    console.error('MediaRecorder Error', error);\r\n                }\r\n            }\r\n\r\n            (function(looper) {\r\n                if (!self.manuallyStopped && mediaRecorder && mediaRecorder.state === 'inactive') {\r\n                    delete config.timeslice;\r\n\r\n                    // 10 minutes, enough?\r\n                    mediaRecorder.start(10 * 60 * 1000);\r\n                    return;\r\n                }\r\n\r\n                setTimeout(looper, 1000);\r\n            })();\r\n\r\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\r\n                mediaRecorder.stop();\r\n            }\r\n        };\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            updateTimeStamp();\r\n            mediaRecorder.start(config.timeSlice);\r\n        } else {\r\n            // default is 60 minutes; enough?\r\n            // use config => {timeSlice: 1000} otherwise\r\n\r\n            mediaRecorder.start(3.6e+6);\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback(); // old code\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @property {Array} timestamps - Array of time stamps\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * console.log(recorder.timestamps);\r\n     */\r\n    this.timestamps = [];\r\n\r\n    function updateTimeStamp() {\r\n        self.timestamps.push(new Date().getTime());\r\n\r\n        if (typeof config.onTimeStamp === 'function') {\r\n            config.onTimeStamp(self.timestamps[self.timestamps.length - 1], self.timestamps);\r\n        }\r\n    }\r\n\r\n    function getMimeType(secondObject) {\r\n        if (mediaRecorder && mediaRecorder.mimeType) {\r\n            return mediaRecorder.mimeType;\r\n        }\r\n\r\n        return secondObject.mimeType || 'video/webm';\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        self.manuallyStopped = true; // used inside the mediaRecorder.onerror\r\n\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        this.recordingCallback = callback;\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.stop();\r\n        }\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            setTimeout(function() {\r\n                self.blob = new Blob(arrayOfBlobs, {\r\n                    type: getMimeType(config)\r\n                });\r\n\r\n                self.recordingCallback(self.blob);\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'paused') {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder && mediaRecorder.state === 'recording') {\r\n            self.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        arrayOfBlobs = [];\r\n        mediaRecorder = null;\r\n        self.timestamps = [];\r\n    }\r\n\r\n    // Reference to \"MediaRecorder\" object\r\n    var mediaRecorder;\r\n\r\n    /**\r\n     * Access to native MediaRecorder API\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @instance\r\n     * @example\r\n     * var internal = recorder.getInternalRecorder();\r\n     * internal.ondataavailable = function() {}; // override\r\n     * internal.stream, internal.onpause, internal.onstop, etc.\r\n     * @returns {Object} Returns internal recording object.\r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return mediaRecorder;\r\n    };\r\n\r\n    function isMediaStreamActive() {\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function() {\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n\r\n\r\n    /**\r\n     * Get MediaRecorder readonly state.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getState();\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        if (!mediaRecorder) {\r\n            return 'inactive';\r\n        }\r\n\r\n        return mediaRecorder.state || 'inactive';\r\n    };\r\n\r\n    // list of all recording states\r\n    var allStates = [];\r\n\r\n    /**\r\n     * Get MediaRecorder all recording states.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getAllStates();\r\n     * @returns {Array} Returns all recording states\r\n     */\r\n    this.getAllStates = function() {\r\n        return allStates;\r\n    };\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = false; // disable to minimize CPU usage\r\n    }\r\n\r\n    var self = this;\r\n\r\n    // this method checks if media stream is stopped\r\n    // or if any track is ended.\r\n    (function looper() {\r\n        if (!mediaRecorder || config.checkForInactiveTracks === false) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            self.stop();\r\n            return;\r\n        }\r\n\r\n        setTimeout(looper, 1000); // check every second\r\n    })();\r\n\r\n    // for debugging\r\n    this.name = 'MediaStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\r\n}\r\n\r\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\r\n// https://github.com/mattdiamond/Recorderjs#license-mit\r\n// ______________________\r\n// StereoAudioRecorder.js\r\n\r\n/**\r\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\r\n * @summary JavaScript standalone object for stereo audio recording.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef StereoAudioRecorder\r\n * @class\r\n * @example\r\n * var recorder = new StereoAudioRecorder(MediaStream, {\r\n *     sampleRate: 44100,\r\n *     bufferSize: 4096\r\n * });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\r\n */\r\n\r\nfunction StereoAudioRecorder(mediaStream, config) {\r\n    if (!getTracks(mediaStream, 'audio').length) {\r\n        throw 'Your stream has no audio tracks.';\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var self = this;\r\n\r\n    // variables\r\n    var leftchannel = [];\r\n    var rightchannel = [];\r\n    var recording = false;\r\n    var recordingLength = 0;\r\n    var jsAudioNode;\r\n\r\n    var numberOfAudioChannels = 2;\r\n\r\n    /**\r\n     * Set sample rates such as 8K or 16K. Reference: http://stackoverflow.com/a/28977136/552182\r\n     * @property {number} desiredSampRate - Desired Bits per sample * 1000\r\n     * @memberof StereoAudioRecorder\r\n     * @instance\r\n     * @example\r\n     * var recorder = StereoAudioRecorder(mediaStream, {\r\n     *   desiredSampRate: 16 * 1000 // bits-per-sample * 1000\r\n     * });\r\n     */\r\n    var desiredSampRate = config.desiredSampRate;\r\n\r\n    // backward compatibility\r\n    if (config.leftChannel === true) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (config.numberOfAudioChannels === 1) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (!numberOfAudioChannels || numberOfAudioChannels < 1) {\r\n        numberOfAudioChannels = 2;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('StereoAudioRecorder is set to record number of channels: ' + numberOfAudioChannels);\r\n    }\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = true;\r\n    }\r\n\r\n    function isMediaStreamActive() {\r\n        if (config.checkForInactiveTracks === false) {\r\n            // always return \"true\"\r\n            return true;\r\n        }\r\n\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        resetVariables();\r\n\r\n        isAudioProcessStarted = isPaused = false;\r\n        recording = true;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            looper();\r\n        }\r\n    };\r\n\r\n    function mergeLeftRightBuffers(config, callback) {\r\n        function mergeAudioBuffers(config, cb) {\r\n            var numberOfAudioChannels = config.numberOfAudioChannels;\r\n\r\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\r\n            var leftBuffers = config.leftBuffers.slice(0);\r\n            var rightBuffers = config.rightBuffers.slice(0);\r\n            var sampleRate = config.sampleRate;\r\n            var internalInterleavedLength = config.internalInterleavedLength;\r\n            var desiredSampRate = config.desiredSampRate;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                    rightBuffers = interpolateArray(rightBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            // set sample rate as desired sample rate\r\n            if (desiredSampRate) {\r\n                sampleRate = desiredSampRate;\r\n            }\r\n\r\n            // for changing the sampling rate, reference:\r\n            // http://stackoverflow.com/a/28977136/552182\r\n            function interpolateArray(data, newSampleRate, oldSampleRate) {\r\n                var fitCount = Math.round(data.length * (newSampleRate / oldSampleRate));\r\n                var newData = [];\r\n                var springFactor = Number((data.length - 1) / (fitCount - 1));\r\n                newData[0] = data[0];\r\n                for (var i = 1; i < fitCount - 1; i++) {\r\n                    var tmp = i * springFactor;\r\n                    var before = Number(Math.floor(tmp)).toFixed();\r\n                    var after = Number(Math.ceil(tmp)).toFixed();\r\n                    var atPoint = tmp - before;\r\n                    newData[i] = linearInterpolate(data[before], data[after], atPoint);\r\n                }\r\n                newData[fitCount - 1] = data[data.length - 1];\r\n                return newData;\r\n            }\r\n\r\n            function linearInterpolate(before, after, atPoint) {\r\n                return before + (after - before) * atPoint;\r\n            }\r\n\r\n            function mergeBuffers(channelBuffer, rLength) {\r\n                var result = new Float64Array(rLength);\r\n                var offset = 0;\r\n                var lng = channelBuffer.length;\r\n\r\n                for (var i = 0; i < lng; i++) {\r\n                    var buffer = channelBuffer[i];\r\n                    result.set(buffer, offset);\r\n                    offset += buffer.length;\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function interleave(leftChannel, rightChannel) {\r\n                var length = leftChannel.length + rightChannel.length;\r\n\r\n                var result = new Float64Array(length);\r\n\r\n                var inputIndex = 0;\r\n\r\n                for (var index = 0; index < length;) {\r\n                    result[index++] = leftChannel[inputIndex];\r\n                    result[index++] = rightChannel[inputIndex];\r\n                    inputIndex++;\r\n                }\r\n                return result;\r\n            }\r\n\r\n            function writeUTFBytes(view, offset, string) {\r\n                var lng = string.length;\r\n                for (var i = 0; i < lng; i++) {\r\n                    view.setUint8(offset + i, string.charCodeAt(i));\r\n                }\r\n            }\r\n\r\n            // interleave both channels together\r\n            var interleaved;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                interleaved = interleave(leftBuffers, rightBuffers);\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                interleaved = leftBuffers;\r\n            }\r\n\r\n            var interleavedLength = interleaved.length;\r\n\r\n            // create wav file\r\n            var resultingBufferLength = 44 + interleavedLength * 2;\r\n\r\n            var buffer = new ArrayBuffer(resultingBufferLength);\r\n\r\n            var view = new DataView(buffer);\r\n\r\n            // RIFF chunk descriptor/identifier \r\n            writeUTFBytes(view, 0, 'RIFF');\r\n\r\n            // RIFF chunk length\r\n            // changed \"44\" to \"36\" via #401\r\n            view.setUint32(4, 36 + interleavedLength * 2, true);\r\n\r\n            // RIFF type \r\n            writeUTFBytes(view, 8, 'WAVE');\r\n\r\n            // format chunk identifier \r\n            // FMT sub-chunk\r\n            writeUTFBytes(view, 12, 'fmt ');\r\n\r\n            // format chunk length \r\n            view.setUint32(16, 16, true);\r\n\r\n            // sample format (raw)\r\n            view.setUint16(20, 1, true);\r\n\r\n            // stereo (2 channels)\r\n            view.setUint16(22, numberOfAudioChannels, true);\r\n\r\n            // sample rate \r\n            view.setUint32(24, sampleRate, true);\r\n\r\n            // byte rate (sample rate * block align)\r\n            view.setUint32(28, sampleRate * 2, true);\r\n\r\n            // block align (channel count * bytes per sample) \r\n            view.setUint16(32, numberOfAudioChannels * 2, true);\r\n\r\n            // bits per sample \r\n            view.setUint16(34, 16, true);\r\n\r\n            // data sub-chunk\r\n            // data chunk identifier \r\n            writeUTFBytes(view, 36, 'data');\r\n\r\n            // data chunk length \r\n            view.setUint32(40, interleavedLength * 2, true);\r\n\r\n            // write the PCM samples\r\n            var lng = interleavedLength;\r\n            var index = 44;\r\n            var volume = 1;\r\n            for (var i = 0; i < lng; i++) {\r\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\r\n                index += 2;\r\n            }\r\n\r\n            if (cb) {\r\n                return cb({\r\n                    buffer: buffer,\r\n                    view: view\r\n                });\r\n            }\r\n\r\n            postMessage({\r\n                buffer: buffer,\r\n                view: view\r\n            });\r\n        }\r\n\r\n        if (config.noWorker) {\r\n            mergeAudioBuffers(config, function(data) {\r\n                callback(data.buffer, data.view);\r\n            });\r\n            return;\r\n        }\r\n\r\n\r\n        var webWorker = processInWebWorker(mergeAudioBuffers);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            callback(event.data.buffer, event.data.view);\r\n\r\n            // release memory\r\n            URL.revokeObjectURL(webWorker.workerURL);\r\n\r\n            // kill webworker (or Chrome will kill your page after ~25 calls)\r\n            webWorker.terminate();\r\n        };\r\n\r\n        webWorker.postMessage(config);\r\n    }\r\n\r\n    function processInWebWorker(_function) {\r\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(),\r\n            ';this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(workerURL);\r\n        worker.workerURL = workerURL;\r\n        return worker;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        // stop recording\r\n        recording = false;\r\n\r\n        mergeLeftRightBuffers({\r\n            desiredSampRate: desiredSampRate,\r\n            sampleRate: sampleRate,\r\n            numberOfAudioChannels: numberOfAudioChannels,\r\n            internalInterleavedLength: recordingLength,\r\n            leftBuffers: leftchannel,\r\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel,\r\n            noWorker: config.noWorker\r\n        }, function(buffer, view) {\r\n            /**\r\n             * @property {Blob} blob - The recorded blob object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            self.blob = new Blob([view], {\r\n                type: 'audio/wav'\r\n            });\r\n\r\n            /**\r\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var buffer = recorder.buffer;\r\n             * });\r\n             */\r\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\r\n\r\n            /**\r\n             * @property {DataView} view - The recorded data-view object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var view = recorder.view;\r\n             * });\r\n             */\r\n            self.view = view;\r\n\r\n            self.sampleRate = desiredSampRate || sampleRate;\r\n            self.bufferSize = bufferSize;\r\n\r\n            // recorded audio length\r\n            self.length = recordingLength;\r\n\r\n            isAudioProcessStarted = false;\r\n\r\n            if (callback) {\r\n                callback(self.blob);\r\n            }\r\n        });\r\n    };\r\n\r\n    if (typeof Storage === 'undefined') {\r\n        var Storage = {\r\n            AudioContextConstructor: null,\r\n            AudioContext: window.AudioContext || window.webkitAudioContext\r\n        };\r\n    }\r\n\r\n    if (!Storage.AudioContextConstructor) {\r\n        Storage.AudioContextConstructor = new Storage.AudioContext();\r\n    }\r\n\r\n    var context = Storage.AudioContextConstructor;\r\n    globalContext = context\r\n\r\n    // creates an audio node from the microphone incoming stream\r\n    var audioInput = context.createMediaStreamSource(mediaStream);\r\n\r\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\r\n\r\n    /**\r\n     * From the spec: This value controls how frequently the audioprocess event is\r\n     * dispatched and how many sample-frames need to be processed each call.\r\n     * Lower values for buffer size will result in a lower (better) latency.\r\n     * Higher values will be necessary to avoid audio breakup and glitches\r\n     * The size of the buffer (in sample-frames) which needs to\r\n     * be processed each time onprocessaudio is called.\r\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\r\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     bufferSize: 4096\r\n     * });\r\n     */\r\n\r\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\r\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\r\n\r\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\r\n        if (!config.disableLogs) {\r\n            console.log('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\r\n        }\r\n    }\r\n\r\n    if (context.createJavaScriptNode) {\r\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else if (context.createScriptProcessor) {\r\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else {\r\n        throw 'WebAudio API has no support on this browser.';\r\n    }\r\n\r\n    // connect the stream to the script processor\r\n    audioInput.connect(jsAudioNode);\r\n\r\n    if (!config.bufferSize) {\r\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\r\n    }\r\n\r\n    /**\r\n     * The sample rate (in sample-frames per second) at which the\r\n     * AudioContext handles audio. It is assumed that all AudioNodes\r\n     * in the context run at this rate. In making this assumption,\r\n     * sample-rate converters or \"varispeed\" processors are not supported\r\n     * in real-time processing.\r\n     * The sampleRate parameter describes the sample-rate of the\r\n     * linear PCM audio data in the buffer in sample-frames per second.\r\n     * An implementation must support sample-rates in at least\r\n     * the range 22050 to 96000.\r\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     sampleRate: 44100\r\n     * });\r\n     */\r\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\r\n\r\n    if (sampleRate < 22050 || sampleRate > 96000) {\r\n        // Ref: http://stackoverflow.com/a/26303918/552182\r\n        if (!config.disableLogs) {\r\n            console.log('sample-rate must be under range 22050 and 96000.');\r\n        }\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        if (config.desiredSampRate) {\r\n            console.log('Desired sample-rate: ' + config.desiredSampRate);\r\n        }\r\n    }\r\n\r\n    var isPaused = false;\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        if (!recording) {\r\n            if (!config.disableLogs) {\r\n                console.log('Seems recording has been restarted.');\r\n            }\r\n            this.record();\r\n            return;\r\n        }\r\n\r\n        isPaused = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        config.checkForInactiveTracks = false;\r\n\r\n        if (recording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function resetVariables() {\r\n        leftchannel = [];\r\n        rightchannel = [];\r\n        recordingLength = 0;\r\n        isAudioProcessStarted = false;\r\n        recording = false;\r\n        isPaused = false;\r\n        context = null;\r\n\r\n        self.leftchannel = leftchannel;\r\n        self.rightchannel = rightchannel;\r\n        self.numberOfAudioChannels = numberOfAudioChannels;\r\n        self.desiredSampRate = desiredSampRate;\r\n        self.sampleRate = sampleRate;\r\n        self.recordingLength = recordingLength;\r\n\r\n        intervalsBasedBuffers = {\r\n            left: [],\r\n            right: [],\r\n            recordingLength: 0\r\n        };\r\n    }\r\n\r\n    function clearRecordedDataCB() {\r\n        if (jsAudioNode) {\r\n            jsAudioNode.onaudioprocess = null;\r\n            jsAudioNode.disconnect();\r\n            jsAudioNode = null;\r\n        }\r\n\r\n        if (audioInput) {\r\n            audioInput.disconnect();\r\n            audioInput = null;\r\n        }\r\n\r\n        resetVariables();\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'StereoAudioRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var isAudioProcessStarted = false;\r\n\r\n    function onAudioProcessDataAvailable(e) {\r\n        if (isPaused) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            jsAudioNode.disconnect();\r\n            recording = false;\r\n        }\r\n\r\n        if (!recording) {\r\n            if (audioInput) {\r\n                audioInput.disconnect();\r\n                audioInput = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * This method is called on \"onaudioprocess\" event's first invocation.\r\n         * @method {function} onAudioProcessStarted\r\n         * @memberof StereoAudioRecorder\r\n         * @example\r\n         * recorder.onAudioProcessStarted: function() { };\r\n         */\r\n        if (!isAudioProcessStarted) {\r\n            isAudioProcessStarted = true;\r\n            if (config.onAudioProcessStarted) {\r\n                config.onAudioProcessStarted();\r\n            }\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        }\r\n\r\n        var left = e.inputBuffer.getChannelData(0);\r\n\r\n        // we clone the samples\r\n        var chLeft = new Float32Array(left);\r\n        leftchannel.push(chLeft);\r\n\r\n        if (numberOfAudioChannels === 2) {\r\n            var right = e.inputBuffer.getChannelData(1);\r\n            var chRight = new Float32Array(right);\r\n            rightchannel.push(chRight);\r\n        }\r\n\r\n        recordingLength += bufferSize;\r\n\r\n        // export raw PCM\r\n        self.recordingLength = recordingLength;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            intervalsBasedBuffers.recordingLength += bufferSize;\r\n            intervalsBasedBuffers.left.push(chLeft);\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                intervalsBasedBuffers.right.push(chRight);\r\n            }\r\n        }\r\n    }\r\n\r\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\r\n\r\n    // to prevent self audio to be connected with speakers\r\n    if (context.createMediaStreamDestination) {\r\n        jsAudioNode.connect(context.createMediaStreamDestination());\r\n    } else {\r\n        jsAudioNode.connect(context.destination);\r\n    }\r\n\r\n    // export raw PCM\r\n    this.leftchannel = leftchannel;\r\n    this.rightchannel = rightchannel;\r\n    this.numberOfAudioChannels = numberOfAudioChannels;\r\n    this.desiredSampRate = desiredSampRate;\r\n    this.sampleRate = sampleRate;\r\n    self.recordingLength = recordingLength;\r\n\r\n    // helper for intervals based blobs\r\n    var intervalsBasedBuffers = {\r\n        left: [],\r\n        right: [],\r\n        recordingLength: 0\r\n    };\r\n\r\n    // this looper is used to support intervals based blobs (via timeSlice+ondataavailable)\r\n    function looper() {\r\n        if (!recording || typeof config.ondataavailable !== 'function' || typeof config.timeSlice === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (intervalsBasedBuffers.left.length) {\r\n            mergeLeftRightBuffers({\r\n                desiredSampRate: desiredSampRate,\r\n                sampleRate: sampleRate,\r\n                numberOfAudioChannels: numberOfAudioChannels,\r\n                internalInterleavedLength: intervalsBasedBuffers.recordingLength,\r\n                leftBuffers: intervalsBasedBuffers.left,\r\n                rightBuffers: numberOfAudioChannels === 1 ? [] : intervalsBasedBuffers.right\r\n            }, function(buffer, view) {\r\n                var blob = new Blob([view], {\r\n                    type: 'audio/wav'\r\n                });\r\n                config.ondataavailable(blob);\r\n\r\n                setTimeout(looper, config.timeSlice);\r\n            });\r\n\r\n            intervalsBasedBuffers = {\r\n                left: [],\r\n                right: [],\r\n                recordingLength: 0\r\n            };\r\n        } else {\r\n            setTimeout(looper, config.timeSlice);\r\n        }\r\n    }\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\r\n}\r\n\r\n// _________________\r\n// CanvasRecorder.js\r\n\r\n/**\r\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\r\n * @summary HTML2Canvas recording into video WebM.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef CanvasRecorder\r\n * @class\r\n * @example\r\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\r\n * @param {object} config - {disableLogs:true, initCallback: function}\r\n */\r\n\r\nfunction CanvasRecorder(htmlElement, config) {\r\n    if (typeof html2canvas === 'undefined') {\r\n        throw 'Please link: https://cdn.webrtc-experiment.com/screenshot.js';\r\n    }\r\n\r\n    config = config || {};\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    // via DetectRTC.js\r\n    var isCanvasSupportsStreamCapturing = false;\r\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\r\n        if (item in document.createElement('canvas')) {\r\n            isCanvasSupportsStreamCapturing = true;\r\n        }\r\n    });\r\n\r\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\r\n\r\n    var chromeVersion = 50;\r\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\r\n    if (_isChrome && matchArray && matchArray[2]) {\r\n        chromeVersion = parseInt(matchArray[2], 10);\r\n    }\r\n\r\n    if (_isChrome && chromeVersion < 52) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    if (config.useWhammyRecorder) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    var globalCanvas, mediaStreamRecorder;\r\n\r\n    if (isCanvasSupportsStreamCapturing) {\r\n        if (!config.disableLogs) {\r\n            console.log('Your browser supports both MediRecorder API and canvas.captureStream!');\r\n        }\r\n\r\n        if (htmlElement instanceof HTMLCanvasElement) {\r\n            globalCanvas = htmlElement;\r\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\r\n            globalCanvas = htmlElement.canvas;\r\n        } else {\r\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\r\n        }\r\n    } else if (!!navigator.mozGetUserMedia) {\r\n        if (!config.disableLogs) {\r\n            console.error('Canvas recording is NOT supported in Firefox.');\r\n        }\r\n    }\r\n\r\n    var isRecording;\r\n\r\n    /**\r\n     * This method records Canvas.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        isRecording = true;\r\n\r\n        if (isCanvasSupportsStreamCapturing && !config.useWhammyRecorder) {\r\n            // CanvasCaptureMediaStream\r\n            var canvasMediaStream;\r\n            if ('captureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\r\n            } else if ('mozCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\r\n            } else if ('webkitCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\r\n            }\r\n\r\n            try {\r\n                var mdStream = new MediaStream();\r\n                mdStream.addTrack(getTracks(canvasMediaStream, 'video')[0]);\r\n                canvasMediaStream = mdStream;\r\n            } catch (e) {}\r\n\r\n            if (!canvasMediaStream) {\r\n                throw 'captureStream API are NOT available.';\r\n            }\r\n\r\n            // Note: Jan 18, 2016 status is that, \r\n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\r\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\r\n                mimeType: config.mimeType || 'video/webm'\r\n            });\r\n            mediaStreamRecorder.record();\r\n        } else {\r\n            whammy.frames = [];\r\n            lastTime = new Date().getTime();\r\n            drawCanvasFrame();\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    this.getWebPImages = function(callback) {\r\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\r\n            callback();\r\n            return;\r\n        }\r\n\r\n        var framesLength = whammy.frames.length;\r\n        whammy.frames.forEach(function(frame, idx) {\r\n            var framesRemaining = framesLength - idx;\r\n            if (!config.disableLogs) {\r\n                console.log(framesRemaining + '/' + framesLength + ' frames remaining');\r\n            }\r\n\r\n            if (config.onEncodingCallback) {\r\n                config.onEncodingCallback(framesRemaining, framesLength);\r\n            }\r\n\r\n            var webp = frame.image.toDataURL('image/webp', 1);\r\n            whammy.frames[idx].image = webp;\r\n        });\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Generating WebM');\r\n        }\r\n\r\n        callback();\r\n    };\r\n\r\n    /**\r\n     * This method stops recording Canvas.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        isRecording = false;\r\n\r\n        var that = this;\r\n\r\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\r\n            mediaStreamRecorder.stop(callback);\r\n            return;\r\n        }\r\n\r\n        this.getWebPImages(function() {\r\n            /**\r\n             * @property {Blob} blob - Recorded frames in video/webm blob.\r\n             * @memberof CanvasRecorder\r\n             * @example\r\n             * recorder.stop(function() {\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            whammy.compile(function(blob) {\r\n                if (!config.disableLogs) {\r\n                    console.log('Recording finished!');\r\n                }\r\n\r\n                that.blob = blob;\r\n\r\n                if (that.blob.forEach) {\r\n                    that.blob = new Blob([], {\r\n                        type: 'video/webm'\r\n                    });\r\n                }\r\n\r\n                if (callback) {\r\n                    callback(that.blob);\r\n                }\r\n\r\n                whammy.frames = [];\r\n            });\r\n        });\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.pause();\r\n            return;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.resume();\r\n            return;\r\n        }\r\n\r\n        if (!isRecording) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (isRecording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isRecording = false;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'CanvasRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    function cloneCanvas() {\r\n        //create a new canvas\r\n        var newCanvas = document.createElement('canvas');\r\n        var context = newCanvas.getContext('2d');\r\n\r\n        //set dimensions\r\n        newCanvas.width = htmlElement.width;\r\n        newCanvas.height = htmlElement.height;\r\n\r\n        //apply the old canvas to the new one\r\n        context.drawImage(htmlElement, 0, 0);\r\n\r\n        //return the new canvas\r\n        return newCanvas;\r\n    }\r\n\r\n    function drawCanvasFrame() {\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawCanvasFrame, 500);\r\n        }\r\n\r\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\r\n            var duration = new Date().getTime() - lastTime;\r\n            // via #206, by Jack i.e. @Seymourr\r\n            lastTime = new Date().getTime();\r\n\r\n            whammy.frames.push({\r\n                image: cloneCanvas(),\r\n                duration: duration\r\n            });\r\n\r\n            if (isRecording) {\r\n                setTimeout(drawCanvasFrame, config.frameInterval);\r\n            }\r\n            return;\r\n        }\r\n\r\n        html2canvas(htmlElement, {\r\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\r\n            onrendered: function(canvas) {\r\n                var duration = new Date().getTime() - lastTime;\r\n                if (!duration) {\r\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n\r\n                // via #206, by Jack i.e. @Seymourr\r\n                lastTime = new Date().getTime();\r\n\r\n                whammy.frames.push({\r\n                    image: canvas.toDataURL('image/webp', 1),\r\n                    duration: duration\r\n                });\r\n\r\n                if (isRecording) {\r\n                    setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    var lastTime = new Date().getTime();\r\n\r\n    var whammy = new Whammy.Video(100);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.CanvasRecorder = CanvasRecorder;\r\n}\r\n\r\n// _________________\r\n// WhammyRecorder.js\r\n\r\n/**\r\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\r\n * @summary Video recording feature in Chrome.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef WhammyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WhammyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction WhammyRecorder(mediaStream, config) {\r\n\r\n    config = config || {};\r\n\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('Using frames-interval:', config.frameInterval);\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (!config.width) {\r\n            config.width = 320;\r\n        }\r\n\r\n        if (!config.height) {\r\n            config.height = 240;\r\n        }\r\n\r\n        if (!config.video) {\r\n            config.video = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        if (!config.canvas) {\r\n            config.canvas = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        canvas.width = config.canvas.width || 320;\r\n        canvas.height = config.canvas.height || 240;\r\n\r\n        context = canvas.getContext('2d');\r\n\r\n        // setting defaults\r\n        if (config.video && config.video instanceof HTMLVideoElement) {\r\n            video = config.video.cloneNode();\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        } else {\r\n            video = document.createElement('video');\r\n\r\n            setSrcObject(mediaStream, video);\r\n\r\n            video.onloadedmetadata = function() { // \"onloadedmetadata\" may NOT work in FF?\r\n                if (config.initCallback) {\r\n                    config.initCallback();\r\n                }\r\n            };\r\n\r\n            video.width = config.video.width;\r\n            video.height = config.video.height;\r\n        }\r\n\r\n        video.muted = true;\r\n        video.play();\r\n\r\n        lastTime = new Date().getTime();\r\n        whammy = new Whammy.Video();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\r\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\r\n        }\r\n\r\n        drawFrames(config.frameInterval);\r\n    };\r\n\r\n    /**\r\n     * Draw and push frames to Whammy\r\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\r\n     */\r\n    function drawFrames(frameInterval) {\r\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\r\n\r\n        var duration = new Date().getTime() - lastTime;\r\n        if (!duration) {\r\n            return setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawFrames, 100);\r\n        }\r\n\r\n        // via #206, by Jack i.e. @Seymourr\r\n        lastTime = new Date().getTime();\r\n\r\n        if (video.paused) {\r\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n            // Tweak for Android Chrome\r\n            video.play();\r\n        }\r\n\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        whammy.frames.push({\r\n            duration: duration,\r\n            image: canvas.toDataURL('image/webp')\r\n        });\r\n\r\n        if (!isStopDrawing) {\r\n            setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n    }\r\n\r\n    function asyncLoop(o) {\r\n        var i = -1,\r\n            length = o.length;\r\n\r\n        (function loop() {\r\n            i++;\r\n            if (i === length) {\r\n                o.callback();\r\n                return;\r\n            }\r\n\r\n            // \"setTimeout\" added by Jim McLeod\r\n            setTimeout(function() {\r\n                o.functionToLoop(loop, i);\r\n            }, 1);\r\n        })();\r\n    }\r\n\r\n\r\n    /**\r\n     * remove black frames from the beginning to the specified frame\r\n     * @param {Array} _frames - array of frames to be checked\r\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\r\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\r\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\r\n     * @returns {Array} - array of frames\r\n     */\r\n    // pull#293 by @volodalexey\r\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, callback) {\r\n        var localCanvas = document.createElement('canvas');\r\n        localCanvas.width = canvas.width;\r\n        localCanvas.height = canvas.height;\r\n        var context2d = localCanvas.getContext('2d');\r\n        var resultFrames = [];\r\n\r\n        var checkUntilNotBlack = _framesToCheck === -1;\r\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\r\n            _framesToCheck : _frames.length;\r\n        var sampleColor = {\r\n            r: 0,\r\n            g: 0,\r\n            b: 0\r\n        };\r\n        var maxColorDifference = Math.sqrt(\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2)\r\n        );\r\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\r\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\r\n        var doNotCheckNext = false;\r\n\r\n        asyncLoop({\r\n            length: endCheckFrame,\r\n            functionToLoop: function(loop, f) {\r\n                var matchPixCount, endPixCheck, maxPixCount;\r\n\r\n                var finishImage = function() {\r\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\r\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\r\n                    } else {\r\n                        // console.log('frame is passed : ' + f);\r\n                        if (checkUntilNotBlack) {\r\n                            doNotCheckNext = true;\r\n                        }\r\n                        resultFrames.push(_frames[f]);\r\n                    }\r\n                    loop();\r\n                };\r\n\r\n                if (!doNotCheckNext) {\r\n                    var image = new Image();\r\n                    image.onload = function() {\r\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\r\n                        matchPixCount = 0;\r\n                        endPixCheck = imageData.data.length;\r\n                        maxPixCount = imageData.data.length / 4;\r\n\r\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\r\n                            var currentColor = {\r\n                                r: imageData.data[pix],\r\n                                g: imageData.data[pix + 1],\r\n                                b: imageData.data[pix + 2]\r\n                            };\r\n                            var colorDifference = Math.sqrt(\r\n                                Math.pow(currentColor.r - sampleColor.r, 2) +\r\n                                Math.pow(currentColor.g - sampleColor.g, 2) +\r\n                                Math.pow(currentColor.b - sampleColor.b, 2)\r\n                            );\r\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\r\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\r\n                                matchPixCount++;\r\n                            }\r\n                        }\r\n                        finishImage();\r\n                    };\r\n                    image.src = _frames[f].image;\r\n                } else {\r\n                    finishImage();\r\n                }\r\n            },\r\n            callback: function() {\r\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\r\n\r\n                if (resultFrames.length <= 0) {\r\n                    // at least one last frame should be available for next manipulation\r\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\r\n                    resultFrames.push(_frames[_frames.length - 1]);\r\n                }\r\n                callback(resultFrames);\r\n            }\r\n        });\r\n    }\r\n\r\n    var isStopDrawing = false;\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        isStopDrawing = true;\r\n\r\n        var _this = this;\r\n        // analyse of all frames takes some time!\r\n        setTimeout(function() {\r\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\r\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\r\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\r\n            dropBlackFrames(whammy.frames, -1, null, null, function(frames) {\r\n                whammy.frames = frames;\r\n\r\n                // to display advertisement images!\r\n                if (config.advertisement && config.advertisement.length) {\r\n                    whammy.frames = config.advertisement.concat(whammy.frames);\r\n                }\r\n\r\n                /**\r\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\r\n                 * @memberof WhammyRecorder\r\n                 * @example\r\n                 * recorder.stop(function() {\r\n                 *     var blob = recorder.blob;\r\n                 * });\r\n                 */\r\n                whammy.compile(function(blob) {\r\n                    _this.blob = blob;\r\n\r\n                    if (_this.blob.forEach) {\r\n                        _this.blob = new Blob([], {\r\n                            type: 'video/webm'\r\n                        });\r\n                    }\r\n\r\n                    if (callback) {\r\n                        callback(_this.blob);\r\n                    }\r\n                });\r\n            });\r\n        }, 10);\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (isStopDrawing) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (!isStopDrawing) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isStopDrawing = true;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'WhammyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    var video;\r\n    var lastTime;\r\n    var whammy;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WhammyRecorder = WhammyRecorder;\r\n}\r\n\r\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\r\n// _________\r\n// Whammy.js\r\n\r\n// todo: Firefox now supports webp for webm containers!\r\n// their MediaRecorder implementation works well!\r\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\r\n\r\n/**\r\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\r\n * @summary A real time javascript webm encoder based on a canvas hack.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef Whammy\r\n * @class\r\n * @example\r\n * var recorder = new Whammy().Video(15);\r\n * recorder.add(context || canvas || dataURL);\r\n * var output = recorder.compile();\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Whammy = (function() {\r\n    // a more abstract-ish API\r\n\r\n    function WhammyVideo(duration) {\r\n        this.frames = [];\r\n        this.duration = duration || 1;\r\n        this.quality = 0.8;\r\n    }\r\n\r\n    /**\r\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.add(canvas || context || 'image/webp');\r\n     * @param {string} frame - Canvas || Context || image/webp\r\n     * @param {number} duration - Stick a duration (in milliseconds)\r\n     */\r\n    WhammyVideo.prototype.add = function(frame, duration) {\r\n        if ('canvas' in frame) { //CanvasRenderingContext2D\r\n            frame = frame.canvas;\r\n        }\r\n\r\n        if ('toDataURL' in frame) {\r\n            frame = frame.toDataURL('image/webp', this.quality);\r\n        }\r\n\r\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\r\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\r\n        }\r\n        this.frames.push({\r\n            image: frame,\r\n            duration: duration || this.duration\r\n        });\r\n    };\r\n\r\n    function processInWebWorker(_function) {\r\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n            'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(blob);\r\n        URL.revokeObjectURL(blob);\r\n        return worker;\r\n    }\r\n\r\n    function whammyInWebWorker(frames) {\r\n        function ArrayToWebM(frames) {\r\n            var info = checkFrames(frames);\r\n            if (!info) {\r\n                return [];\r\n            }\r\n\r\n            var clusterMaxDuration = 30000;\r\n\r\n            var EBML = [{\r\n                'id': 0x1a45dfa3, // EBML\r\n                'data': [{\r\n                    'data': 1,\r\n                    'id': 0x4286 // EBMLVersion\r\n                }, {\r\n                    'data': 1,\r\n                    'id': 0x42f7 // EBMLReadVersion\r\n                }, {\r\n                    'data': 4,\r\n                    'id': 0x42f2 // EBMLMaxIDLength\r\n                }, {\r\n                    'data': 8,\r\n                    'id': 0x42f3 // EBMLMaxSizeLength\r\n                }, {\r\n                    'data': 'webm',\r\n                    'id': 0x4282 // DocType\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4287 // DocTypeVersion\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4285 // DocTypeReadVersion\r\n                }]\r\n            }, {\r\n                'id': 0x18538067, // Segment\r\n                'data': [{\r\n                    'id': 0x1549a966, // Info\r\n                    'data': [{\r\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\r\n                        'id': 0x2ad7b1 // TimecodeScale\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x4d80 // MuxingApp\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x5741 // WritingApp\r\n                    }, {\r\n                        'data': doubleToString(info.duration),\r\n                        'id': 0x4489 // Duration\r\n                    }]\r\n                }, {\r\n                    'id': 0x1654ae6b, // Tracks\r\n                    'data': [{\r\n                        'id': 0xae, // TrackEntry\r\n                        'data': [{\r\n                            'data': 1,\r\n                            'id': 0xd7 // TrackNumber\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x73c5 // TrackUID\r\n                        }, {\r\n                            'data': 0,\r\n                            'id': 0x9c // FlagLacing\r\n                        }, {\r\n                            'data': 'und',\r\n                            'id': 0x22b59c // Language\r\n                        }, {\r\n                            'data': 'V_VP8',\r\n                            'id': 0x86 // CodecID\r\n                        }, {\r\n                            'data': 'VP8',\r\n                            'id': 0x258688 // CodecName\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x83 // TrackType\r\n                        }, {\r\n                            'id': 0xe0, // Video\r\n                            'data': [{\r\n                                'data': info.width,\r\n                                'id': 0xb0 // PixelWidth\r\n                            }, {\r\n                                'data': info.height,\r\n                                'id': 0xba // PixelHeight\r\n                            }]\r\n                        }]\r\n                    }]\r\n                }]\r\n            }];\r\n\r\n            //Generate clusters (max duration)\r\n            var frameNumber = 0;\r\n            var clusterTimecode = 0;\r\n            while (frameNumber < frames.length) {\r\n\r\n                var clusterFrames = [];\r\n                var clusterDuration = 0;\r\n                do {\r\n                    clusterFrames.push(frames[frameNumber]);\r\n                    clusterDuration += frames[frameNumber].duration;\r\n                    frameNumber++;\r\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\r\n\r\n                var clusterCounter = 0;\r\n                var cluster = {\r\n                    'id': 0x1f43b675, // Cluster\r\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\r\n                }; //Add cluster to segment\r\n                EBML[1].data.push(cluster);\r\n                clusterTimecode += clusterDuration;\r\n            }\r\n\r\n            return generateEBML(EBML);\r\n        }\r\n\r\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\r\n            return [{\r\n                'data': clusterTimecode,\r\n                'id': 0xe7 // Timecode\r\n            }].concat(clusterFrames.map(function(webp) {\r\n                var block = makeSimpleBlock({\r\n                    discardable: 0,\r\n                    frame: webp.data.slice(4),\r\n                    invisible: 0,\r\n                    keyframe: 1,\r\n                    lacing: 0,\r\n                    trackNum: 1,\r\n                    timecode: Math.round(clusterCounter)\r\n                });\r\n                clusterCounter += webp.duration;\r\n                return {\r\n                    data: block,\r\n                    id: 0xa3\r\n                };\r\n            }));\r\n        }\r\n\r\n        // sums the lengths of all the frames and gets the duration\r\n\r\n        function checkFrames(frames) {\r\n            if (!frames[0]) {\r\n                postMessage({\r\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\r\n                });\r\n                return;\r\n            }\r\n\r\n            var width = frames[0].width,\r\n                height = frames[0].height,\r\n                duration = frames[0].duration;\r\n\r\n            for (var i = 1; i < frames.length; i++) {\r\n                duration += frames[i].duration;\r\n            }\r\n            return {\r\n                duration: duration,\r\n                width: width,\r\n                height: height\r\n            };\r\n        }\r\n\r\n        function numToBuffer(num) {\r\n            var parts = [];\r\n            while (num > 0) {\r\n                parts.push(num & 0xff);\r\n                num = num >> 8;\r\n            }\r\n            return new Uint8Array(parts.reverse());\r\n        }\r\n\r\n        function strToBuffer(str) {\r\n            return new Uint8Array(str.split('').map(function(e) {\r\n                return e.charCodeAt(0);\r\n            }));\r\n        }\r\n\r\n        function bitsToBuffer(bits) {\r\n            var data = [];\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data.push(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return new Uint8Array(data);\r\n        }\r\n\r\n        function generateEBML(json) {\r\n            var ebml = [];\r\n            for (var i = 0; i < json.length; i++) {\r\n                var data = json[i].data;\r\n\r\n                if (typeof data === 'object') {\r\n                    data = generateEBML(data);\r\n                }\r\n\r\n                if (typeof data === 'number') {\r\n                    data = bitsToBuffer(data.toString(2));\r\n                }\r\n\r\n                if (typeof data === 'string') {\r\n                    data = strToBuffer(data);\r\n                }\r\n\r\n                var len = data.size || data.byteLength || data.length;\r\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\r\n                var sizeToString = len.toString(2);\r\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\r\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\r\n\r\n                ebml.push(numToBuffer(json[i].id));\r\n                ebml.push(bitsToBuffer(size));\r\n                ebml.push(data);\r\n            }\r\n\r\n            return new Blob(ebml, {\r\n                type: 'video/webm'\r\n            });\r\n        }\r\n\r\n        function toBinStrOld(bits) {\r\n            var data = '';\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return data;\r\n        }\r\n\r\n        function makeSimpleBlock(data) {\r\n            var flags = 0;\r\n\r\n            if (data.keyframe) {\r\n                flags |= 128;\r\n            }\r\n\r\n            if (data.invisible) {\r\n                flags |= 8;\r\n            }\r\n\r\n            if (data.lacing) {\r\n                flags |= (data.lacing << 1);\r\n            }\r\n\r\n            if (data.discardable) {\r\n                flags |= 1;\r\n            }\r\n\r\n            if (data.trackNum > 127) {\r\n                throw 'TrackNumber > 127 not supported';\r\n            }\r\n\r\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).join('') + data.frame;\r\n\r\n            return out;\r\n        }\r\n\r\n        function parseWebP(riff) {\r\n            var VP8 = riff.RIFF[0].WEBP[0];\r\n\r\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\r\n            for (var i = 0, c = []; i < 4; i++) {\r\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\r\n            }\r\n\r\n            var width, height, tmp;\r\n\r\n            //the code below is literally copied verbatim from the bitstream spec\r\n            tmp = (c[1] << 8) | c[0];\r\n            width = tmp & 0x3FFF;\r\n            tmp = (c[3] << 8) | c[2];\r\n            height = tmp & 0x3FFF;\r\n            return {\r\n                width: width,\r\n                height: height,\r\n                data: VP8,\r\n                riff: riff\r\n            };\r\n        }\r\n\r\n        function getStrLength(string, offset) {\r\n            return parseInt(string.substr(offset + 4, 4).split('').map(function(i) {\r\n                var unpadded = i.charCodeAt(0).toString(2);\r\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\r\n            }).join(''), 2);\r\n        }\r\n\r\n        function parseRIFF(string) {\r\n            var offset = 0;\r\n            var chunks = {};\r\n\r\n            while (offset < string.length) {\r\n                var id = string.substr(offset, 4);\r\n                var len = getStrLength(string, offset);\r\n                var data = string.substr(offset + 4 + 4, len);\r\n                offset += 4 + 4 + len;\r\n                chunks[id] = chunks[id] || [];\r\n\r\n                if (id === 'RIFF' || id === 'LIST') {\r\n                    chunks[id].push(parseRIFF(data));\r\n                } else {\r\n                    chunks[id].push(data);\r\n                }\r\n            }\r\n            return chunks;\r\n        }\r\n\r\n        function doubleToString(num) {\r\n            return [].slice.call(\r\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).reverse().join('');\r\n        }\r\n\r\n        var webm = new ArrayToWebM(frames.map(function(frame) {\r\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\r\n            webp.duration = frame.duration;\r\n            return webp;\r\n        }));\r\n\r\n        postMessage(webm);\r\n    }\r\n\r\n    /**\r\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.compile(function(blob) {\r\n     *    // blob.size - blob.type\r\n     * });\r\n     */\r\n    WhammyVideo.prototype.compile = function(callback) {\r\n        var webWorker = processInWebWorker(whammyInWebWorker);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            if (event.data.error) {\r\n                console.error(event.data.error);\r\n                return;\r\n            }\r\n            callback(event.data);\r\n        };\r\n\r\n        webWorker.postMessage(this.frames);\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * A more abstract-ish API.\r\n         * @method\r\n         * @memberof Whammy\r\n         * @example\r\n         * recorder = new Whammy().Video(0.8, 100);\r\n         * @param {?number} speed - 0.8\r\n         * @param {?number} quality - 100\r\n         */\r\n        Video: WhammyVideo\r\n    };\r\n})();\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Whammy = Whammy;\r\n}\r\n\r\n// ______________ (indexed-db)\r\n// DiskStorage.js\r\n\r\n/**\r\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\r\n * @summary Writing blobs into IndexedDB.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @example\r\n * DiskStorage.Store({\r\n *     audioBlob: yourAudioBlob,\r\n *     videoBlob: yourVideoBlob,\r\n *     gifBlob  : yourGifBlob\r\n * });\r\n * DiskStorage.Fetch(function(dataURL, type) {\r\n *     if(type === 'audioBlob') { }\r\n *     if(type === 'videoBlob') { }\r\n *     if(type === 'gifBlob')   { }\r\n * });\r\n * // DiskStorage.dataStoreName = 'recordRTC';\r\n * // DiskStorage.onError = function(error) { };\r\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\r\n * @property {function} Store - This method stores blobs in IndexedDB.\r\n * @property {function} onError - This function is invoked for any known/unknown error.\r\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\n\r\nvar DiskStorage = {\r\n    /**\r\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.init();\r\n     */\r\n    init: function() {\r\n        var self = this;\r\n\r\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\r\n            console.error('IndexedDB API are not available in this browser.');\r\n            return;\r\n        }\r\n\r\n        var dbVersion = 1;\r\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\r\n            db;\r\n        var request = indexedDB.open(dbName, dbVersion);\r\n\r\n        function createObjectStore(dataBase) {\r\n            dataBase.createObjectStore(self.dataStoreName);\r\n        }\r\n\r\n        function putInDB() {\r\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\r\n\r\n            if (self.videoBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\r\n            }\r\n\r\n            if (self.gifBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\r\n            }\r\n\r\n            if (self.audioBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\r\n            }\r\n\r\n            function getFromStore(portionName) {\r\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function(event) {\r\n                    if (self.callback) {\r\n                        self.callback(event.target.result, portionName);\r\n                    }\r\n                };\r\n            }\r\n\r\n            getFromStore('audioBlob');\r\n            getFromStore('videoBlob');\r\n            getFromStore('gifBlob');\r\n        }\r\n\r\n        request.onerror = self.onError;\r\n\r\n        request.onsuccess = function() {\r\n            db = request.result;\r\n            db.onerror = self.onError;\r\n\r\n            if (db.setVersion) {\r\n                if (db.version !== dbVersion) {\r\n                    var setVersion = db.setVersion(dbVersion);\r\n                    setVersion.onsuccess = function() {\r\n                        createObjectStore(db);\r\n                        putInDB();\r\n                    };\r\n                } else {\r\n                    putInDB();\r\n                }\r\n            } else {\r\n                putInDB();\r\n            }\r\n        };\r\n        request.onupgradeneeded = function(event) {\r\n            createObjectStore(event.target.result);\r\n        };\r\n    },\r\n    /**\r\n     * This method fetches stored blobs from IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Fetch(function(dataURL, type) {\r\n     *     if(type === 'audioBlob') { }\r\n     *     if(type === 'videoBlob') { }\r\n     *     if(type === 'gifBlob')   { }\r\n     * });\r\n     */\r\n    Fetch: function(callback) {\r\n        this.callback = callback;\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This method stores blobs in IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Store({\r\n     *     audioBlob: yourAudioBlob,\r\n     *     videoBlob: yourVideoBlob,\r\n     *     gifBlob  : yourGifBlob\r\n     * });\r\n     */\r\n    Store: function(config) {\r\n        this.audioBlob = config.audioBlob;\r\n        this.videoBlob = config.videoBlob;\r\n        this.gifBlob = config.gifBlob;\r\n\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This function is invoked for any known/unknown error.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.onError = function(error){\r\n     *     alerot( JSON.stringify(error) );\r\n     * };\r\n     */\r\n    onError: function(error) {\r\n        console.error(JSON.stringify(error, null, '\\t'));\r\n    },\r\n\r\n    /**\r\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.dataStoreName = 'recordRTC';\r\n     */\r\n    dataStoreName: 'recordRTC',\r\n    dbName: null\r\n};\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.DiskStorage = DiskStorage;\r\n}\r\n\r\n// ______________\r\n// GifRecorder.js\r\n\r\n/**\r\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef GifRecorder\r\n * @class\r\n * @example\r\n * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     img.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\r\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\r\n */\r\n\r\nfunction GifRecorder(mediaStream, config) {\r\n    if (typeof GIFEncoder === 'undefined') {\r\n        var script = document.createElement('script');\r\n        script.src = 'https://cdn.webrtc-experiment.com/gif-recorder.js';\r\n        (document.body || document.documentElement).appendChild(script);\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (typeof GIFEncoder === 'undefined') {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isLoadedMetaData) {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isHTMLObject) {\r\n            if (!config.width) {\r\n                config.width = video.offsetWidth || 320;\r\n            }\r\n\r\n            if (!config.height) {\r\n                config.height = video.offsetHeight || 240;\r\n            }\r\n\r\n            if (!config.video) {\r\n                config.video = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            if (!config.canvas) {\r\n                config.canvas = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            canvas.width = config.canvas.width || 320;\r\n            canvas.height = config.canvas.height || 240;\r\n\r\n            video.width = config.video.width || 320;\r\n            video.height = config.video.height || 240;\r\n        }\r\n\r\n        // external library to record as GIF images\r\n        gifEncoder = new GIFEncoder();\r\n\r\n        // void setRepeat(int iter) \r\n        // Sets the number of times the set of GIF frames should be played. \r\n        // Default is 1; 0 means play indefinitely.\r\n        gifEncoder.setRepeat(0);\r\n\r\n        // void setFrameRate(Number fps) \r\n        // Sets frame rate in frames per second. \r\n        // Equivalent to setDelay(1000/fps).\r\n        // Using \"setDelay\" instead of \"setFrameRate\"\r\n        gifEncoder.setDelay(config.frameRate || 200);\r\n\r\n        // void setQuality(int quality) \r\n        // Sets quality of color quantization (conversion of images to the \r\n        // maximum 256 colors allowed by the GIF specification). \r\n        // Lower values (minimum = 1) produce better colors, \r\n        // but slow processing significantly. 10 is the default, \r\n        // and produces good color mapping at reasonable speeds. \r\n        // Values greater than 20 do not yield significant improvements in speed.\r\n        gifEncoder.setQuality(config.quality || 10);\r\n\r\n        // Boolean start() \r\n        // This writes the GIF Header and returns false if it fails.\r\n        gifEncoder.start();\r\n\r\n        if (typeof config.onGifRecordingStarted === 'function') {\r\n            config.onGifRecordingStarted();\r\n        }\r\n\r\n        startTime = Date.now();\r\n\r\n        function drawVideoFrame(time) {\r\n            if (self.clearedRecordedData === true) {\r\n                return;\r\n            }\r\n\r\n            if (isPausedRecording) {\r\n                return setTimeout(function() {\r\n                    drawVideoFrame(time);\r\n                }, 100);\r\n            }\r\n\r\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n            if (typeof lastFrameTime === undefined) {\r\n                lastFrameTime = time;\r\n            }\r\n\r\n            // ~10 fps\r\n            if (time - lastFrameTime < 90) {\r\n                return;\r\n            }\r\n\r\n            if (!isHTMLObject && video.paused) {\r\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n                // Tweak for Android Chrome\r\n                video.play();\r\n            }\r\n\r\n            if (!isHTMLObject) {\r\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n            }\r\n\r\n            if (config.onGifPreview) {\r\n                config.onGifPreview(canvas.toDataURL('image/png'));\r\n            }\r\n\r\n            gifEncoder.addFrame(context);\r\n            lastFrameTime = time;\r\n        }\r\n\r\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     img.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (lastAnimationFrame) {\r\n            cancelAnimationFrame(lastAnimationFrame);\r\n        }\r\n\r\n        endTime = Date.now();\r\n\r\n        /**\r\n         * @property {Blob} blob - The recorded blob object.\r\n         * @memberof GifRecorder\r\n         * @example\r\n         * recorder.stop(function(){\r\n         *     var blob = recorder.blob;\r\n         * });\r\n         */\r\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\r\n            type: 'image/gif'\r\n        });\r\n\r\n        callback(this.blob);\r\n\r\n        // bug: find a way to clear old recorded blobs\r\n        gifEncoder.stream().bin = [];\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        self.clearedRecordedData = true;\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        if (gifEncoder) {\r\n            gifEncoder.stream().bin = [];\r\n        }\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'GifRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    if (isHTMLObject) {\r\n        if (mediaStream instanceof CanvasRenderingContext2D) {\r\n            context = mediaStream;\r\n            canvas = context.canvas;\r\n        } else if (mediaStream instanceof HTMLCanvasElement) {\r\n            context = mediaStream.getContext('2d');\r\n            canvas = mediaStream;\r\n        }\r\n    }\r\n\r\n    var isLoadedMetaData = true;\r\n\r\n    if (!isHTMLObject) {\r\n        var video = document.createElement('video');\r\n        video.muted = true;\r\n        video.autoplay = true;\r\n\r\n        isLoadedMetaData = false;\r\n        video.onloadedmetadata = function() {\r\n            isLoadedMetaData = true;\r\n        };\r\n\r\n        setSrcObject(mediaStream, video);\r\n\r\n        video.play();\r\n    }\r\n\r\n    var lastAnimationFrame = null;\r\n    var startTime, endTime, lastFrameTime;\r\n\r\n    var gifEncoder;\r\n\r\n    var self = this;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.GifRecorder = GifRecorder;\r\n}\r\n\r\n// Last time updated: 2018-12-22 9:13:29 AM UTC\r\n\r\n// ________________________\r\n// MultiStreamsMixer v1.0.7\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/MultiStreamsMixer\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\nfunction MultiStreamsMixer(arrayOfMediaStreams) {\r\n\r\n    // requires: chrome://flags/#enable-experimental-web-platform-features\r\n\r\n    var videos = [];\r\n    var isStopDrawingFrames = false;\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n    canvas.style = 'opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000; margin-top:-1000000000;margin-left:-1000000000;';\r\n    (document.body || document.documentElement).appendChild(canvas);\r\n\r\n    this.disableLogs = false;\r\n    this.frameInterval = 10;\r\n\r\n    this.width = 360;\r\n    this.height = 240;\r\n\r\n    // use gain node to prevent echo\r\n    this.useGainNode = true;\r\n\r\n    var self = this;\r\n\r\n    // _____________________________\r\n    // Cross-Browser-Declarations.js\r\n\r\n    // WebAudio API representer\r\n    var AudioContext = window.AudioContext;\r\n\r\n    if (typeof AudioContext === 'undefined') {\r\n        if (typeof webkitAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = webkitAudioContext;\r\n        }\r\n\r\n        if (typeof mozAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = mozAudioContext;\r\n        }\r\n    }\r\n\r\n    /*jshint -W079 */\r\n    var URL = window.URL;\r\n\r\n    if (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n        /*global URL:true */\r\n        URL = webkitURL;\r\n    }\r\n\r\n    if (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n        }\r\n\r\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.mozGetUserMedia;\r\n        }\r\n    }\r\n\r\n    var MediaStream = window.MediaStream;\r\n\r\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n        MediaStream = webkitMediaStream;\r\n    }\r\n\r\n    /*global MediaStream:true */\r\n    if (typeof MediaStream !== 'undefined') {\r\n        // override \"stop\" method for all browsers\r\n        if (typeof MediaStream.prototype.stop === 'undefined') {\r\n            MediaStream.prototype.stop = function() {\r\n                this.getTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n            };\r\n        }\r\n    }\r\n\r\n    var Storage = {};\r\n\r\n    if (typeof AudioContext !== 'undefined') {\r\n        Storage.AudioContext = AudioContext;\r\n    } else if (typeof webkitAudioContext !== 'undefined') {\r\n        Storage.AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    function setSrcObject(stream, element) {\r\n        if ('srcObject' in element) {\r\n            element.srcObject = stream;\r\n        } else if ('mozSrcObject' in element) {\r\n            element.mozSrcObject = stream;\r\n        } else {\r\n            element.srcObject = stream;\r\n        }\r\n    }\r\n\r\n    this.startDrawingFrames = function() {\r\n        drawVideosToCanvas();\r\n    };\r\n\r\n    function drawVideosToCanvas() {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var videosLength = videos.length;\r\n\r\n        var fullcanvas = false;\r\n        var remaining = [];\r\n        videos.forEach(function(video) {\r\n            if (!video.stream) {\r\n                video.stream = {};\r\n            }\r\n\r\n            if (video.stream.fullcanvas) {\r\n                fullcanvas = video;\r\n            } else {\r\n                remaining.push(video);\r\n            }\r\n        });\r\n\r\n        if (fullcanvas) {\r\n            canvas.width = fullcanvas.stream.width;\r\n            canvas.height = fullcanvas.stream.height;\r\n        } else if (remaining.length) {\r\n            canvas.width = videosLength > 1 ? remaining[0].width * 2 : remaining[0].width;\r\n\r\n            var height = 1;\r\n            if (videosLength === 3 || videosLength === 4) {\r\n                height = 2;\r\n            }\r\n            if (videosLength === 5 || videosLength === 6) {\r\n                height = 3;\r\n            }\r\n            if (videosLength === 7 || videosLength === 8) {\r\n                height = 4;\r\n            }\r\n            if (videosLength === 9 || videosLength === 10) {\r\n                height = 5;\r\n            }\r\n            canvas.height = remaining[0].height * height;\r\n        } else {\r\n            canvas.width = self.width || 360;\r\n            canvas.height = self.height || 240;\r\n        }\r\n\r\n        if (fullcanvas && fullcanvas instanceof HTMLVideoElement) {\r\n            drawImage(fullcanvas);\r\n        }\r\n\r\n        remaining.forEach(function(video, idx) {\r\n            drawImage(video, idx);\r\n        });\r\n\r\n        setTimeout(drawVideosToCanvas, self.frameInterval);\r\n    }\r\n\r\n    function drawImage(video, idx) {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n        var width = video.width;\r\n        var height = video.height;\r\n\r\n        if (idx === 1) {\r\n            x = video.width;\r\n        }\r\n\r\n        if (idx === 2) {\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 3) {\r\n            x = video.width;\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 4) {\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 5) {\r\n            x = video.width;\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 6) {\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (idx === 7) {\r\n            x = video.width;\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (typeof video.stream.left !== 'undefined') {\r\n            x = video.stream.left;\r\n        }\r\n\r\n        if (typeof video.stream.top !== 'undefined') {\r\n            y = video.stream.top;\r\n        }\r\n\r\n        if (typeof video.stream.width !== 'undefined') {\r\n            width = video.stream.width;\r\n        }\r\n\r\n        if (typeof video.stream.height !== 'undefined') {\r\n            height = video.stream.height;\r\n        }\r\n\r\n        context.drawImage(video, x, y, width, height);\r\n\r\n        if (typeof video.stream.onRender === 'function') {\r\n            video.stream.onRender(context, x, y, width, height, idx);\r\n        }\r\n    }\r\n\r\n    function getMixedStream() {\r\n        isStopDrawingFrames = false;\r\n        var mixedVideoStream = getMixedVideoStream();\r\n\r\n        var mixedAudioStream = getMixedAudioStream();\r\n        if (mixedAudioStream) {\r\n            mixedAudioStream.getTracks().filter(function(t) {\r\n                return t.kind === 'audio';\r\n            }).forEach(function(track) {\r\n                mixedVideoStream.addTrack(track);\r\n            });\r\n        }\r\n\r\n        var fullcanvas;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (stream.fullcanvas) {\r\n                fullcanvas = true;\r\n            }\r\n        });\r\n\r\n        return mixedVideoStream;\r\n    }\r\n\r\n    function getMixedVideoStream() {\r\n        resetVideoStreams();\r\n\r\n        var capturedStream;\r\n\r\n        if ('captureStream' in canvas) {\r\n            capturedStream = canvas.captureStream();\r\n        } else if ('mozCaptureStream' in canvas) {\r\n            capturedStream = canvas.mozCaptureStream();\r\n        } else if (!self.disableLogs) {\r\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\r\n        }\r\n\r\n        var videoStream = new MediaStream();\r\n\r\n        capturedStream.getTracks().filter(function(t) {\r\n            return t.kind === 'video';\r\n        }).forEach(function(track) {\r\n            videoStream.addTrack(track);\r\n        });\r\n\r\n        canvas.stream = videoStream;\r\n\r\n        return videoStream;\r\n    }\r\n\r\n    function getMixedAudioStream() {\r\n        // via: @pehrsons\r\n        if (!Storage.AudioContextConstructor) {\r\n            Storage.AudioContextConstructor = new Storage.AudioContext();\r\n        }\r\n\r\n        self.audioContext = Storage.AudioContextConstructor;\r\n\r\n        self.audioSources = [];\r\n\r\n        if (self.useGainNode === true) {\r\n            self.gainNode = self.audioContext.createGain();\r\n            self.gainNode.connect(self.audioContext.destination);\r\n            self.gainNode.gain.value = 0; // don't hear self\r\n        }\r\n\r\n        var audioTracksLength = 0;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            audioTracksLength++;\r\n            console.log('22222')\r\n            console.log(stream)\r\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n\r\n            if (self.useGainNode === true) {\r\n                audioSource.connect(self.gainNode);\r\n            }\r\n\r\n            self.audioSources.push(audioSource);\r\n        });\r\n\r\n        if (!audioTracksLength) {\r\n            return;\r\n        }\r\n\r\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n        self.audioSources.forEach(function(audioSource) {\r\n            audioSource.connect(self.audioDestination);\r\n        });\r\n        return self.audioDestination.stream;\r\n    }\r\n\r\n    function getVideo(stream) {\r\n        var video = document.createElement('video');\r\n\r\n        setSrcObject(stream, video);\r\n\r\n        video.muted = true;\r\n        video.volume = 0;\r\n\r\n        video.width = stream.width || self.width || 360;\r\n        video.height = stream.height || self.height || 240;\r\n\r\n        video.play();\r\n\r\n        return video;\r\n    }\r\n\r\n    this.appendStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        arrayOfMediaStreams.concat(streams);\r\n\r\n        streams.forEach(function(stream) {\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                var video = getVideo(stream);\r\n                video.stream = stream;\r\n                videos.push(video);\r\n            }\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length && self.audioContext) {\r\n                    console.log('3333')\r\n                    console.log(stream)\r\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n                audioSource.connect(self.audioDestination);\r\n                self.audioSources.push(audioSource);\r\n            }\r\n        });\r\n    };\r\n\r\n    this.releaseStreams = function() {\r\n        videos = [];\r\n        isStopDrawingFrames = true;\r\n\r\n        if (self.gainNode) {\r\n            self.gainNode.disconnect();\r\n            self.gainNode = null;\r\n        }\r\n\r\n        if (self.audioSources.length) {\r\n            self.audioSources.forEach(function(source) {\r\n                source.disconnect();\r\n            });\r\n            self.audioSources = [];\r\n        }\r\n\r\n        if (self.audioDestination) {\r\n            self.audioDestination.disconnect();\r\n            self.audioDestination = null;\r\n        }\r\n\r\n        if (self.audioContext) {\r\n            self.audioContext.close();\r\n        }\r\n\r\n        self.audioContext = null;\r\n\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (canvas.stream) {\r\n            canvas.stream.stop();\r\n            canvas.stream = null;\r\n        }\r\n    };\r\n\r\n    this.resetVideoStreams = function(streams) {\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        resetVideoStreams(streams);\r\n    };\r\n\r\n    function resetVideoStreams(streams) {\r\n        videos = [];\r\n        streams = streams || arrayOfMediaStreams;\r\n\r\n        // via: @adrian-ber\r\n        streams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            var video = getVideo(stream);\r\n            video.stream = stream;\r\n            videos.push(video);\r\n        });\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamsMixer';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    this.getMixedStream = getMixedStream;\r\n\r\n}\r\n\r\n// ______________________\r\n// MultiStreamRecorder.js\r\n\r\n/*\r\n * Video conference recording, using captureStream API along with WebAudio and Canvas2D API.\r\n */\r\n\r\n/**\r\n * MultiStreamRecorder can record multiple videos in single container.\r\n * @summary Multi-videos recorder.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef MultiStreamRecorder\r\n * @class\r\n * @example\r\n * var options = {\r\n *     mimeType: 'video/webm'\r\n * }\r\n * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStreams} mediaStreams - Array of MediaStreams.\r\n * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: \"video/webm\"}\r\n */\r\n\r\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\r\n    arrayOfMediaStreams = arrayOfMediaStreams || [];\r\n    var self = this;\r\n\r\n    var mixer;\r\n    var mediaRecorder;\r\n\r\n    options = options || {\r\n        mimeType: 'video/webm',\r\n        video: {\r\n            width: 360,\r\n            height: 240\r\n        }\r\n    };\r\n\r\n    if (!options.frameInterval) {\r\n        options.frameInterval = 10;\r\n    }\r\n\r\n    if (!options.video) {\r\n        options.video = {};\r\n    }\r\n\r\n    if (!options.video.width) {\r\n        options.video.width = 360;\r\n    }\r\n\r\n    if (!options.video.height) {\r\n        options.video.height = 240;\r\n    }\r\n\r\n    /**\r\n     * This method records all MediaStreams.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        console.log('100001')\r\n        // github/muaz-khan/MultiStreamsMixer\r\n        mixer = new MultiStreamsMixer(arrayOfMediaStreams);\r\n\r\n        if (getAllVideoTracks().length) {\r\n            mixer.frameInterval = options.frameInterval || 10;\r\n            mixer.width = options.video.width || 360;\r\n            mixer.height = options.video.height || 240;\r\n            mixer.startDrawingFrames();\r\n        }\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n\r\n        // record using MediaRecorder API\r\n        mediaRecorder = new MediaStreamRecorder(mixer.getMixedStream(), options);\r\n        mediaRecorder.record();\r\n    };\r\n\r\n    function getAllVideoTracks() {\r\n        var tracks = [];\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            getTracks(stream, 'video').forEach(function(track) {\r\n                tracks.push(track);\r\n            });\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        mediaRecorder.stop(function(blob) {\r\n            self.blob = blob;\r\n\r\n            callback(blob);\r\n\r\n            self.clearRecordedData();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (mixer) {\r\n            mixer.releaseStreams();\r\n            mixer = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add extra media-streams to existing recordings.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.addStreams([newAudioStream, newVideoStream]);\r\n     */\r\n    this.addStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        arrayOfMediaStreams.concat(streams);\r\n\r\n        if (!mediaRecorder || !mixer) {\r\n            return;\r\n        }\r\n\r\n        mixer.appendStreams(streams);\r\n    };\r\n\r\n    /**\r\n     * Reset videos during live recording. Replace old videos e.g. replace cameras with full-screen.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.resetVideoStreams([newVideo1, newVideo2]);\r\n     */\r\n    this.resetVideoStreams = function(streams) {\r\n        if (!mixer) {\r\n            return;\r\n        }\r\n\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        mixer.resetVideoStreams(streams);\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MultiStreamRecorder = MultiStreamRecorder;\r\n}\r\n\r\n// _____________________\r\n// RecordRTC.promises.js\r\n\r\n/**\r\n * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}\r\n * @summary Promises for {@link RecordRTC}\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCPromisesHandler\r\n * @class\r\n * @example\r\n * var recorder = new RecordRTCPromisesHandler(mediaStream, options);\r\n * recorder.startRecording()\r\n *         .then(successCB)\r\n *         .catch(errorCB);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n * @throws Will throw an error if \"new\" keyword is not used to initiate \"RecordRTCPromisesHandler\". Also throws error if first argument \"MediaStream\" is missing.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction RecordRTCPromisesHandler(mediaStream, options) {\r\n    if (!this) {\r\n        throw 'Use \"new RecordRTCPromisesHandler()\"';\r\n    }\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    var self = this;\r\n\r\n    /**\r\n     * @property {Blob} blob - Access/reach the native {@link RecordRTC} object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * var internal = recorder.recordRTC.getInternalRecorder();\r\n     * alert(internal instanceof MediaStreamRecorder);\r\n     */\r\n    self.recordRTC = new RecordRTC(mediaStream, options);\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.startRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.startRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.startRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method stops the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     var blob = recorder.getBlob();\r\n     * }).catch(errorCB);\r\n     */\r\n    this.stopRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.stopRecording(function(url) {\r\n                    self.blob = self.recordRTC.getBlob();\r\n\r\n                    if (!self.blob || !self.blob.size) {\r\n                        reject('Empty blob.', self.blob);\r\n                        return;\r\n                    }\r\n\r\n                    resolve(url);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns data-url for the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getDataURL().then(function(dataURL) {\r\n     *         window.open(dataURL);\r\n     *     }).catch(errorCB);;\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.getDataURL(function(dataURL) {\r\n                    resolve(dataURL);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getBlob().then(function(blob) {})\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getBlob = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getBlob());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     var blob = recorder.getBlob();\r\n     * }).catch(errorCB);\r\n     */\r\n    this.blob = null;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.RecordRTCPromisesHandler = RecordRTCPromisesHandler;\r\n}\r\n\r\n// ______________________\r\n// WebAssemblyRecorder.js\r\n\r\n/**\r\n * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.\r\n * @summary Video recording feature in Chrome, Firefox and maybe Edge.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\r\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\r\n * @typedef WebAssemblyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WebAssemblyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080}\r\n */\r\nfunction WebAssemblyRecorder(stream, config) {\r\n    // based on: github.com/GoogleChromeLabs/webm-wasm\r\n\r\n    if (typeof ReadableStream === 'undefined' || typeof WritableStream === 'undefined') {\r\n        // because it fixes readable/writable streams issues\r\n        console.error('Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js');\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    config.width = config.width || 640;\r\n    config.height = config.height || 480;\r\n    config.frameRate = config.frameRate || 30;\r\n    config.bitrate = config.bitrate || 1200;\r\n\r\n    function createBufferURL(buffer, type) {\r\n        return URL.createObjectURL(new Blob([buffer], {\r\n            type: type || ''\r\n        }));\r\n    }\r\n\r\n    function cameraStream() {\r\n        return new ReadableStream({\r\n            start: function(controller) {\r\n                var cvs = document.createElement('canvas');\r\n                var video = document.createElement('video');\r\n                video.srcObject = stream;\r\n                video.onplaying = function() {\r\n                    cvs.width = config.width;\r\n                    cvs.height = config.height;\r\n                    var ctx = cvs.getContext('2d');\r\n                    var frameTimeout = 1000 / config.frameRate;\r\n                    setTimeout(function f() {\r\n                        ctx.drawImage(video, 0, 0);\r\n                        controller.enqueue(\r\n                            ctx.getImageData(0, 0, config.width, config.height)\r\n                        );\r\n                        setTimeout(f, frameTimeout);\r\n                    }, frameTimeout);\r\n                };\r\n                video.play();\r\n            }\r\n        });\r\n    }\r\n\r\n    var worker;\r\n\r\n    function startRecording(stream, buffer) {\r\n        if (!config.workerPath && !buffer) {\r\n            // is it safe to use @latest ?\r\n            fetch(\r\n                'https://unpkg.com/webm-wasm@latest/dist/webm-worker.js'\r\n            ).then(function(r) {\r\n                r.arrayBuffer().then(function(buffer) {\r\n                    startRecording(stream, buffer);\r\n                });\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!config.workerPath && buffer instanceof ArrayBuffer) {\r\n            var blob = new Blob([buffer], {\r\n                type: 'text/javascript'\r\n            });\r\n            config.workerPath = URL.createObjectURL(blob);\r\n        }\r\n\r\n        if (!config.workerPath) {\r\n            console.error('workerPath parameter is missing.');\r\n        }\r\n\r\n        worker = new Worker(config.workerPath);\r\n\r\n        worker.postMessage(config.webAssemblyPath || 'https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm');\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === 'READY') {\r\n                worker.postMessage({\r\n                    width: config.width,\r\n                    height: config.height,\r\n                    bitrate: config.bitrate || 1200,\r\n                    timebaseDen: config.frameRate || 30,\r\n                    realtime: true\r\n                });\r\n\r\n                cameraStream().pipeTo(new WritableStream({\r\n                    write: function(image) {\r\n                        if (!worker) {\r\n                            return;\r\n                        }\r\n\r\n                        worker.postMessage(image.data.buffer, [image.data.buffer]);\r\n                    }\r\n                }));\r\n            } else if (!!event.data) {\r\n                if (!isPaused) {\r\n                    arrayOfBuffers.push(event.data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n        startRecording(stream);\r\n    };\r\n\r\n    var isPaused;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPaused = false;\r\n    };\r\n\r\n    function terminate() {\r\n        if (!worker) {\r\n            return;\r\n        }\r\n\r\n        worker.postMessage(null);\r\n        worker.terminate();\r\n        worker = null;\r\n    }\r\n\r\n    var arrayOfBuffers = [];\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        terminate();\r\n\r\n        this.blob = new Blob(arrayOfBuffers, {\r\n            type: 'video/webm'\r\n        });\r\n\r\n        callback(this.blob);\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - The recorded blob object.\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(){\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WebAssemblyRecorder = WebAssemblyRecorder;\r\n}","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","module.exports = require(\"core-js/library/fn/parse-float\");","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('../modules/es6.parse-float');\nmodule.exports = require('../modules/_core').parseFloat;\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[(_vm.isShowList && !_vm.isShowInfo)?_c('div',[_c('div',{staticClass:\"filter-container\"},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter($event)}},model:{value:(_vm.listQuery.key),callback:function ($$v) {_vm.$set(_vm.listQuery, \"key\", $$v)},expression:\"listQuery.key\"}}),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"2px\"},attrs:{\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.search'))+\"\\n      \")]),_c('el-button',{staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.create'))+\"\\n      \")]),_c('el-button',{staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleEdit}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.edit'))+\"\\n      \")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-download\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.delete'))+\"\\n      \")]),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleInfo}},[_vm._v(\"\\n        查看\\n      \")])],1),_c('table-list',{attrs:{\"data\":_vm.list,\"columns\":_vm.columns,\"row-key\":_vm.idKey},on:{\"handleSortChange\":_vm.handleSortChange,\"handleSelectionChange\":_vm.handleSelectionChange}}),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.page,\"limit\":_vm.listQuery.limit},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"limit\", $event)},\"pagination\":_vm.getList}})],1):(!_vm.isShowList)?_c('div',[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.childLabel}},[_c('edit',{attrs:{\"id\":_vm.id,\"type\":_vm.type},on:{\"msg-from-child\":_vm.getMsgFromChild}})],1)],1)],1):_c('div',[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.childLabel}},[_c('Info',{attrs:{\"engine-id\":_vm.id},on:{\"msg-from-child\":_vm.getMsgFromChild}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"引擎key\",\"prop\":\"engineName\"}},[_c('el-input',{attrs:{\"placeholder\":\"引擎key\"},model:{value:(_vm.ruleForm.engineName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"engineName\", $$v)},expression:\"ruleForm.engineName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"engineDesc\"}},[_c('el-input',{attrs:{\"placeholder\":\"备注\"},model:{value:(_vm.ruleForm.engineDesc),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"engineDesc\", $$v)},expression:\"ruleForm.engineDesc\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.comfirm'))+\"\\n      \")]),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.cancel'))+\"\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/** 录音引擎 */\r\nexport default class Engine {\r\n  public static build(data: Engine) {\r\n    const engine: Engine = new Engine()\r\n    engine.engineId = data.engineId\r\n    engine.engineName = data.engineName\r\n    engine.engineDesc = data.engineDesc\r\n    return engine\r\n  }\r\n\r\n  /** ID */\r\n  public engineId: string = ''\r\n  /** 引擎key */\r\n  public engineName: string = ''\r\n  /** 备注 */\r\n  public engineDesc: string = ''\r\n  /** 索引 */\r\n  readonly [id: string]: string\r\n}\r\n","/** 录音引擎参数 */\r\nexport default class EngineParam {\r\n  public static build(data: EngineParam) {\r\n    const engineParam: EngineParam = new EngineParam()\r\n    engineParam.engineId = data.engineId\r\n    engineParam.paramKey = data.paramKey\r\n    engineParam.paramValue = data.paramValue\r\n    engineParam.paramType = data.paramType\r\n    engineParam.paramDesc = data.paramDesc\r\n    return engineParam\r\n  }\r\n\r\n  /** ID */\r\n  public engineId: string = ''\r\n  /** 参数key */\r\n  public paramKey: string = ''\r\n  /** 参数值 */\r\n  public paramValue: string = ''\r\n  /** 类型 */\r\n  public paramType: string = ''\r\n  /** 描述 */\r\n  public paramDesc: string = ''\r\n  /** 索引 */\r\n  readonly [id: string]: string\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { saveData, fetchEditInfo, updateData } from '@/api/sysManage/recordingManage'\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { Engine } from '@/domains/recording'\r\n\r\n@Component({\r\n  name: 'ConfigEdit'\r\n})\r\nexport default class Edit extends Vue {\r\n  @Prop()\r\n  private id!: string\r\n  @Prop({ default: 'save' })\r\n  private type!: string\r\n  /** form数据 */\r\n  private ruleForm: Engine = new Engine()\r\n  /** form校验 */\r\n  private rules: any = {\r\n    engineName: [\r\n      { required: true, message: '请输入引擎key', trigger: 'blur' }\r\n    ],\r\n    engineDesc: [\r\n      { required: true, message: '请输入备注', trigger: 'blur' }\r\n    ]\r\n  }\r\n  private created() {\r\n    if (this.type === 'edit') {\r\n      this.getEditInfo()\r\n    }\r\n  }\r\n  // 校验提交\r\n  private submitForm(formName: string) {\r\n    let refs: any = this.$refs[formName]\r\n    refs.validate((valid: boolean) => {\r\n      if (valid) {\r\n        if (this.type === 'edit') {\r\n          this.handleEdit()\r\n        } else {\r\n          this.handleSubmit()\r\n        }\r\n      } else {\r\n        console.log('error submit!!')\r\n        return false\r\n      }\r\n    })\r\n  }\r\n  // 保存\r\n  private handleSubmit() {\r\n    saveData(this.ruleForm).then(response => {\r\n      this.$emit('msg-from-child', this.type)\r\n    })\r\n  }\r\n  // 修改\r\n  private handleEdit() {\r\n    updateData(this.ruleForm).then(response => {\r\n      this.$emit('msg-from-child', this.type)\r\n    })\r\n  }\r\n  // 取消\r\n  private cancel() {\r\n    this.$emit('msg-from-child', 'cancel')\r\n  }\r\n  // 获取编辑信息\r\n  private getEditInfo(): void {\r\n    fetchEditInfo(this.id).then((response: any) => {\r\n      const data: Engine = response.list\r\n      this.ruleForm = Engine.build(data)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=09c07949&\"\nimport script from \"./edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[(_vm.isShowList)?_c('div',[_c('div',{staticClass:\"filter-container\"},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter($event)}},model:{value:(_vm.listQuery.key),callback:function ($$v) {_vm.$set(_vm.listQuery, \"key\", $$v)},expression:\"listQuery.key\"}}),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"2px\"},attrs:{\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.search'))+\"\\n      \")]),_c('el-button',{staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.create'))+\"\\n      \")]),_c('el-button',{staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleEdit}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.edit'))+\"\\n      \")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-download\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.delete'))+\"\\n      \")])],1),_c('table-list',{attrs:{\"data\":_vm.list,\"columns\":_vm.columns,\"row-key\":_vm.idKey},on:{\"handleSortChange\":_vm.handleSortChange,\"handleSelectionChange\":_vm.handleSelectionChange}}),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.page,\"limit\":_vm.listQuery.limit},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"limit\", $event)},\"pagination\":_vm.getList}})],1):_c('div',[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.type === 'edit' ? '编辑' : '新增'}},[_c('edit',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"engine-id\":_vm.engineId},on:{\"msg-from-child\":_vm.getMsgFromChild}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"参数key\",\"prop\":\"paramKey\"}},[_c('el-input',{attrs:{\"placeholder\":\"参数key\"},model:{value:(_vm.ruleForm.paramKey),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paramKey\", $$v)},expression:\"ruleForm.paramKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"参数值\",\"prop\":\"paramValue\"}},[_c('el-input',{attrs:{\"placeholder\":\"参数值\"},model:{value:(_vm.ruleForm.paramValue),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paramValue\", $$v)},expression:\"ruleForm.paramValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"参数类型\",\"prop\":\"paramType\"}},[_c('el-input',{attrs:{\"placeholder\":\"参数类型\"},model:{value:(_vm.ruleForm.paramType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paramType\", $$v)},expression:\"ruleForm.paramType\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{model:{value:(_vm.ruleForm.paramDesc),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paramDesc\", $$v)},expression:\"ruleForm.paramDesc\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.comfirm'))+\"\\n      \")]),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('common.cancel'))+\"\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { saveInfoData, updateInfoData, fetchEditParamsInfo } from '@/api/sysManage/recordingManage'\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { EngineParam } from '@/domains/recording'\r\n\r\n@Component({\r\n  name: 'RecordingManageInfoEdit'\r\n})\r\nexport default class RecordingManageInfo extends Vue {\r\n  @Prop()\r\n  private id!: string\r\n  @Prop({ default: 'save' })\r\n  private type!: string\r\n  @Prop()\r\n  /** 引擎Id */\r\n  private engineId!: string\r\n  /** form数据 */\r\n  private ruleForm: EngineParam = new EngineParam()\r\n  /** form校验 */\r\n  private rules: any = {\r\n    key: [\r\n      { required: true, message: '请输入参数名称', trigger: 'blur' }\r\n    ],\r\n    value: [\r\n      { required: true, message: '请输入参数值', trigger: 'blur' }\r\n    ]\r\n  }\r\n  /** 编辑之前的key值 */\r\n  private beforeEditKey: string = ''\r\n  private created() {\r\n    this.ruleForm.engineId = this.engineId\r\n    if (this.type === 'edit') {\r\n      this.getEditInfo()\r\n    }\r\n  }\r\n  // 校验提交\r\n  private submitForm(formName: string) {\r\n    let refs: any = this.$refs[formName]\r\n    refs.validate((valid: boolean) => {\r\n      if (valid) {\r\n        if (this.type === 'edit') {\r\n          this.handleEdit()\r\n        } else {\r\n          this.handleSubmit()\r\n        }\r\n      } else {\r\n        console.log('error submit!!')\r\n        return false\r\n      }\r\n    })\r\n  }\r\n  // 保存\r\n  private handleSubmit() {\r\n    saveInfoData(this.ruleForm).then(response => {\r\n      this.$emit('msg-from-child', this.type)\r\n    })\r\n  }\r\n  // 修改\r\n  private handleEdit() {\r\n    const engineId = {\r\n      key: this.beforeEditKey\r\n    }\r\n    updateInfoData(engineId, this.ruleForm).then(response => {\r\n      this.$emit('msg-from-child', this.type)\r\n    })\r\n  }\r\n  // 取消\r\n  private cancel() {\r\n    this.$emit('msg-from-child', 'cancel')\r\n  }\r\n  // 获取编辑信息\r\n  private getEditInfo(): void {\r\n    fetchEditParamsInfo(this.engineId, this.id).then((response: any) => {\r\n      const data: EngineParam = response.list\r\n      this.ruleForm = EngineParam.build(data)\r\n      this.beforeEditKey = this.ruleForm.paramKey\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./infoEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./infoEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./infoEdit.vue?vue&type=template&id=463aa49a&\"\nimport script from \"./infoEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./infoEdit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport TableList from '@/components/TableList/index.vue'\r\nimport Pagination from '@/components/Pagination/index.vue'\r\nimport Edit from './infoEdit.vue'\r\nimport { fetchInfoList, deleteInfoData } from '@/api/sysManage/recordingManage'\r\nimport { ListQuery } from '@/domains/listQuery'\r\nimport { Column } from '@/domains/column'\r\nimport { Sort } from '@/domains/sort'\r\nimport { EngineParam } from '@/domains/recording'\r\nimport { Pages } from '@/domains/pages'\r\nimport { checkSelection } from '@/utils/checkSelection'\r\nimport sortable from '@/utils/sortable'\r\n\r\nclass Query extends ListQuery {\r\n  public key: string = ''\r\n  public engineId: string = ''\r\n}\r\n\r\nclass Page extends Pages {\r\n  public list: EngineParam[] = []\r\n}\r\n\r\n@Component({\r\n  name: 'RecordingManageInfo',\r\n  components: {\r\n    TableList,\r\n    Pagination,\r\n    Edit\r\n  }\r\n})\r\n\r\nexport default class RecordingManageInfo extends Vue {\r\n  /** 是否显示table列表 */\r\n  private isShowList: boolean = true\r\n  /** 查询条件 */\r\n  private listQuery: Query = new Query()\r\n  /** 数据列表 */\r\n  private list: EngineParam[] = []\r\n  /** 数据列表的id集合，用于拖拽列表 */\r\n  private newList: string[] = []\r\n  /** 数据模型 */\r\n  private columns: Column[] = [\r\n    {\r\n      label: '参数key',\r\n      key: 'paramKey'\r\n    },\r\n    {\r\n      label: '参数值',\r\n      key: 'paramValue'\r\n    },\r\n    {\r\n      label: '类型',\r\n      key: 'paramType'\r\n    },\r\n    {\r\n      label: '描述',\r\n      key: 'paramDesc'\r\n    }\r\n  ]\r\n  /** 数据总数 */\r\n  private total: number = 0\r\n  /** 新增还是编辑 */\r\n  private type: string = ''\r\n  /** 当前编辑数据的ID */\r\n  private id: string = '0'\r\n  /** 当前选中的数据 */\r\n  private multipleSelection: EngineParam[] = []\r\n  /** 唯一标识id的key值 */\r\n  private idKey: string = 'paramKey'\r\n  @Prop()\r\n  /** 引擎Id */\r\n  private engineId!: string\r\n  /** tabs label */\r\n  private childLabel: string = '新增'\r\n\r\n  private created(): void {\r\n    this.listQuery.engineId = this.engineId\r\n    this.getList()\r\n  }\r\n\r\n  /** 获取数据列表 */\r\n  private getList(): void {\r\n    fetchInfoList(this.listQuery).then((response: any) => {\r\n      const page: Page = response.page\r\n      this.list = page.list\r\n      this.total = page.totalCount\r\n\r\n      // this.newList = this.list.map((v: Role) => v.roleId)\r\n      this.newList = this.list.map((v: EngineParam) => v[this.idKey] as string)\r\n\r\n      const el = document.querySelectorAll('.el-table__body-wrapper > table > tbody')[0]\r\n      sortable(el, this.list, this.newList)\r\n    })\r\n  }\r\n  /** 搜索 */\r\n  private handleFilter(): void {\r\n    this.listQuery._search = true\r\n    this.listQuery.page = 1\r\n    this.getList()\r\n  }\r\n  /** 新增 */\r\n  private handleCreate(): void {\r\n    this.type = 'save'\r\n    this.isShowList = false\r\n  }\r\n  /** 编辑 */\r\n  private handleEdit(): void {\r\n    checkSelection(this.multipleSelection, 'one').then(() => {\r\n      this.id = this.multipleSelection[0][this.idKey] as string\r\n      this.childLabel = '修改'\r\n      this.type = 'edit'\r\n      this.isShowList = false\r\n    })\r\n  }\r\n  /** 删除数据 */\r\n  private handleDelete(): void {\r\n    checkSelection(this.multipleSelection).then(() => {\r\n      this.$confirm('是否确定删除该数据?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const ids: string[] = []\r\n        this.multipleSelection.map(item => {\r\n          ids.push(item[this.idKey] as string)\r\n        })\r\n        const engineId = {\r\n          id: this.engineId\r\n        }\r\n        deleteInfoData(ids, engineId).then(response => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n          this.handleFilter()\r\n        })\r\n      }).catch(() => {})\r\n    })\r\n  }\r\n  /** 排序 */\r\n  private handleSortChange(sort: Sort): void {\r\n    if (sort.sidx !== undefined) {\r\n      this.listQuery.sidx = sort.sidx\r\n    }\r\n    this.listQuery.order = sort.order\r\n    this.handleFilter()\r\n  }\r\n  private handleSelectionChange(val: EngineParam[]): void {\r\n    this.multipleSelection = val\r\n  }\r\n  /** 监听子组件，执行方法 */\r\n  private getMsgFromChild(v: string): void {\r\n    if (v !== 'cancel') {\r\n      this.handleFilter()\r\n    }\r\n    this.isShowList = true\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=6b3d21d4&\"\nimport script from \"./info.vue?vue&type=script&lang=ts&\"\nexport * from \"./info.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport TableList from '@/components/TableList/index.vue'\r\nimport Pagination from '@/components/Pagination/index.vue'\r\nimport Edit from './edit.vue'\r\nimport { fetchList, deleteData } from '@/api/sysManage/recordingManage'\r\nimport { ListQuery } from '@/domains/listQuery'\r\nimport { Column } from '@/domains/column'\r\nimport { Sort } from '@/domains/sort'\r\nimport { Engine } from '@/domains/recording'\r\nimport { Pages } from '@/domains/pages'\r\nimport { checkSelection } from '@/utils/checkSelection'\r\nimport sortable from '@/utils/sortable'\r\nimport Info from './info.vue'\r\n\r\nclass Query extends ListQuery {\r\n  public key: string = ''\r\n}\r\n\r\nclass Page extends Pages {\r\n  public list: Engine[] = []\r\n}\r\n\r\n@Component({\r\n  name: 'RecordingManage',\r\n  components: {\r\n    TableList,\r\n    Pagination,\r\n    Edit,\r\n    Info\r\n  }\r\n})\r\n\r\nexport default class RecordingManage extends Vue {\r\n  /** 是否显示table列表 */\r\n  private isShowList: boolean = true\r\n  /** 是否显示详细信息 */\r\n  private isShowInfo: boolean = false\r\n  /** 查询条件 */\r\n  private listQuery: Query = new Query()\r\n  /** 数据列表 */\r\n  private list: Engine[] = []\r\n  /** 数据列表的id集合，用于拖拽列表 */\r\n  private newList: string[] = []\r\n  /** 数据模型 */\r\n  private columns: Column[] = [\r\n    {\r\n      label: 'ID',\r\n      key: 'engineId'\r\n    },\r\n    {\r\n      label: '引擎key',\r\n      key: 'engineName'\r\n    },\r\n    {\r\n      label: '备注',\r\n      key: 'engineDesc'\r\n    }\r\n  ]\r\n  /** 数据总数 */\r\n  private total: number = 0\r\n  /** 新增还是编辑 */\r\n  private type: string = ''\r\n  /** 当前编辑数据的ID */\r\n  private id: string = '0'\r\n  /** 当前选中的数据 */\r\n  private multipleSelection: Engine[] = []\r\n  /** 唯一标识id的key值 */\r\n  private idKey: string = 'engineId'\r\n  /** tabs label */\r\n  private childLabel: string = '新增'\r\n\r\n  private created(): void {\r\n    this.getList()\r\n  }\r\n\r\n  /** 获取数据列表 */\r\n  private getList(): void {\r\n    fetchList(this.listQuery).then((response: any) => {\r\n      const page: Page = response.page\r\n      this.list = page.list\r\n      this.total = page.totalCount\r\n\r\n      // this.newList = this.list.map((v: Role) => v.roleId)\r\n      this.newList = this.list.map((v: Engine) => v[this.idKey] as string)\r\n\r\n      const el = document.querySelectorAll('.el-table__body-wrapper > table > tbody')[0]\r\n      sortable(el, this.list, this.newList)\r\n    })\r\n  }\r\n  /** 搜索 */\r\n  private handleFilter(): void {\r\n    this.listQuery._search = true\r\n    this.listQuery.page = 1\r\n    this.getList()\r\n  }\r\n  /** 新增 */\r\n  private handleCreate(): void {\r\n    this.type = 'save'\r\n    this.isShowList = false\r\n  }\r\n  /** 编辑 */\r\n  private handleEdit(): void {\r\n    checkSelection(this.multipleSelection, 'one').then(() => {\r\n      this.id = this.multipleSelection[0][this.idKey] as string\r\n      this.type = 'edit'\r\n      this.isShowList = false\r\n    })\r\n  }\r\n  /** 删除数据 */\r\n  private handleDelete(): void {\r\n    checkSelection(this.multipleSelection).then(() => {\r\n      this.$confirm('是否确定删除该数据?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const ids: string[] = []\r\n        this.multipleSelection.map(item => {\r\n          ids.push(item[this.idKey] as string)\r\n        })\r\n        deleteData(ids).then(response => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n          this.handleFilter()\r\n        })\r\n      }).catch(() => {})\r\n    })\r\n  }\r\n  /** 排序 */\r\n  private handleSortChange(sort: Sort): void {\r\n    if (sort.sidx !== undefined) {\r\n      this.listQuery.sidx = sort.sidx\r\n    }\r\n    this.listQuery.order = sort.order\r\n    this.handleFilter()\r\n  }\r\n  private handleSelectionChange(val: Engine[]): void {\r\n    this.multipleSelection = val\r\n  }\r\n  /** 监听子组件，执行方法 */\r\n  private getMsgFromChild(v: string): void {\r\n    if (v !== 'cancel') {\r\n      this.handleFilter()\r\n    }\r\n    this.isShowList = true\r\n  }\r\n  // 查看具体信息\r\n  private handleInfo() {\r\n    checkSelection(this.multipleSelection, 'one').then(() => {\r\n      this.childLabel = '查看引擎'\r\n      this.id = this.multipleSelection[0].engineId\r\n      this.isShowInfo = true\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0f5d1be8&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}